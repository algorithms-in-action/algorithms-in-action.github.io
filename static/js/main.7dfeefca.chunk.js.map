{"version":3,"sources":["components/DataStructures/common/Renderer/Renderer.module.scss","components/DataStructures/Array/TwoArray2DRenderer/TwoArray2DRenderer.module.scss","components/DataStructures/common/Ellipsis/Ellipsis.module.scss","components/DataStructures/Graph/GraphRendererRect/GraphRenderer.module.scss","components/DataStructures/Array/Array1DRenderer/Array1DRenderer.module.scss","assets/logo.svg","components/top/Header.js","assets/icons/circle.svg","assets/icons/direction.svg","algorithms/explanations/HSExp.md","algorithms/explanations/BSTExp.md","algorithms/explanations/QSExp.md","algorithms/explanations/msort_arr_td.md","algorithms/explanations/msort_lista_td.md","algorithms/explanations/PRIM_oldExp.md","algorithms/explanations/PRIMExp.md","algorithms/explanations/KRUSKALExp.md","algorithms/explanations/TCExp.md","algorithms/explanations/BFSSExp.md","algorithms/explanations/QSM3Exp.md","algorithms/explanations/HSSExp.md","algorithms/explanations/UFExp.md","algorithms/explanations/TTFExp.md","algorithms/explanations/DIJKExp.md","algorithms/explanations/ASTExp.md","algorithms/explanations/BFSExp.md","algorithms/explanations/DFSExp.md","algorithms/explanations/DFSrecExp.md","algorithms/parameters/helpers/ParamMsg.js","algorithms/parameters/helpers/ParamHelper.js","components/common/ControlButton.js","assets/icons/refresh.svg","components/mid-panel/helper.js","algorithms/parameters/helpers/ParamForm.js","context/useParam.js","algorithms/parameters/helpers/ListParam.js","algorithms/parameters/HSParam.js","algorithms/parameters/helpers/SingleValueParam.js","algorithms/parameters/BSTParam.js","algorithms/parameters/QSParam.js","algorithms/parameters/msort_arr_td.js","algorithms/parameters/msort_lista_td.js","algorithms/parameters/helpers/Table.js","algorithms/parameters/helpers/EditableCell.js","assets/icons/add.svg","assets/icons/minus.svg","algorithms/parameters/helpers/EuclideanMatrixParams.js","algorithms/parameters/PRIM_oldParam.js","algorithms/parameters/PRIMParam.js","algorithms/parameters/KRUSKALParam.js","algorithms/parameters/TCParam.js","algorithms/parameters/helpers/StringParamForm.js","algorithms/parameters/helpers/StringParam.js","algorithms/parameters/BFSSParam.js","algorithms/parameters/QSM3Param.js","algorithms/parameters/HSSParam.js","algorithms/parameters/UFParam.js","algorithms/parameters/TTFTreeParam.js","algorithms/parameters/DIJKParam.js","algorithms/parameters/ASTParam.js","algorithms/parameters/BFSParam.js","algorithms/parameters/DFSParam.js","algorithms/parameters/DFSrecParam.js","algorithms/extra-info/HSInfo.md","algorithms/extra-info/BSTInfo.md","algorithms/extra-info/QSInfo.md","algorithms/extra-info/msort_arr_td.md","algorithms/extra-info/msort_lista_td.md","algorithms/extra-info/PRIM_oldInfo.md","algorithms/extra-info/PRIMInfo.md","algorithms/extra-info/KRUSKALInfo.md","algorithms/extra-info/TCInfo.md","algorithms/extra-info/BFSSInfo.md","algorithms/extra-info/QSM3Info.md","algorithms/extra-info/HSSInfo.md","algorithms/extra-info/UFInfo.md","algorithms/extra-info/TTFInfo.md","algorithms/extra-info/DIJKInfo.md","algorithms/extra-info/ASTInfo.md","algorithms/extra-info/BFSInfo.md","algorithms/extra-info/DFSInfo.md","algorithms/extra-info/DFSrecInfo.md","algorithms/controllers/binaryTreeSearch.js","components/DataStructures/common/util.js","components/DataStructures/common/Ellipsis/index.js","components/DataStructures/common/Renderer/index.js","components/DataStructures/common/Tracer.jsx","assets/icons/font.svg","components/top/helper.js","components/top/Settings.js","components/DataStructures/Graph/GraphRenderer/index.js","components/DataStructures/Graph/GraphTracer.js","components/DataStructures/Array/Array2DRenderer/index.js","components/DataStructures/Array/Array2DTracer.js","components/DataStructures/Array/Array1DRenderer/index.js","components/DataStructures/Array/Array1DTracer.js","algorithms/controllers/binaryTreeInsertion.js","algorithms/controllers/heapSort.js","algorithms/controllers/quickSort_shared.js","algorithms/controllers/quickSort.js","algorithms/controllers/quickSortM3.js","algorithms/controllers/msort_arr_td.js","algorithms/controllers/msort_lista_td.js","algorithms/controllers/transitiveClosureCollapseChunkPlugin.js","algorithms/controllers/transitiveClosure.js","components/DataStructures/Graph/GraphRendererRect/index.js","components/DataStructures/Graph/GraphTracerRect.js","algorithms/controllers/bruteForceStringSearch.js","components/DataStructures/Array/TwoArray2DRenderer/index.js","components/DataStructures/Array/TwoArray2DTracer.js","algorithms/controllers/horspoolStringSearch.js","components/DataStructures/Graph/NAryTreeRenderer/index.js","components/DataStructures/Graph/NAryTreeTracer/NAryTree.js","components/DataStructures/Graph/NAryTreeTracer/NAryTreeVariable.js","components/DataStructures/Graph/NAryTreeTracer/NTreeTracer.js","algorithms/controllers/unionFindFind.js","algorithms/controllers/unionFindUnion.js","algorithms/controllers/TTFTreeSearch.js","algorithms/controllers/TTFTreeInsertion.js","algorithms/controllers/graphSearchColours.js","algorithms/controllers/dijkstra.js","algorithms/controllers/AStar.js","algorithms/controllers/BFS.js","algorithms/controllers/DFS.js","algorithms/controllers/DFSrec.js","algorithms/controllers/prim_old.js","algorithms/controllers/prim.js","algorithms/controllers/kruskal.js","pseudocode/parse.js","algorithms/pseudocode/binaryTreeSearch.js","algorithms/pseudocode/binaryTreeInsertion.js","algorithms/pseudocode/heapSort.js","algorithms/pseudocode/quickSort.js","algorithms/pseudocode/msort_arr_td.js","algorithms/pseudocode/msort_lista_td.js","algorithms/pseudocode/transitiveClosure.js","algorithms/pseudocode/prim_old.js","algorithms/pseudocode/prim.js","algorithms/pseudocode/kruskal.js","algorithms/pseudocode/quickSortM3.js","algorithms/pseudocode/bruteForceStringSearch.js","algorithms/pseudocode/horspoolStringSearching.js","algorithms/pseudocode/unionFindUnion.js","algorithms/pseudocode/unionFindFind.js","algorithms/pseudocode/TTFTreeInsertion.js","algorithms/pseudocode/TTFTreeSearch.js","algorithms/pseudocode/dijkstra.js","algorithms/pseudocode/AStar.js","algorithms/pseudocode/BFS.js","algorithms/pseudocode/DFS.js","algorithms/pseudocode/DFSrec.js","algorithms/instructions/index.js","algorithms/index.js","context/chunker.js","context/actions.js","algorithms/controllers/collapseChunkPlugin.js","context/GlobalState.js","components/right-panel/HeaderButton.js","markdown/code-block.js","components/right-panel/Explanation.js","assets/icons/cancel.svg","components/right-panel/LineExplanation.js","components/right-panel/MarkdownKeywords.js","components/right-panel/LineNumHighLight.js","components/right-panel/BottomButton.js","components/right-panel/Pseudocode.js","components/right-panel/ExtraInfo.js","components/right-panel/Instructions.js","components/right-panel/index.js","components/left-panel/index.js","components/mid-panel/index.js","components/mid-panel/ProgressBar.js","context/useInterval.js","assets/icons/play.svg","assets/icons/pause.svg","assets/icons/arrow.svg","components/mid-panel/ControlPanel.js","BorderResize.js","App.js","components/About/Header.js","components/About/TeamMember.js","components/About/Team.js","components/About/Team2021s2.js","assets/images/lee_naish.png","assets/images/boyu.JPG","assets/images/carina.jpg","assets/images/joao.jpg","assets/images/kenny.JPG","assets/images/tianyang.jpg","assets/images/linfan.jpeg","assets/images/yinsong.jpg","assets/images/zihan.jpg","assets/images/nir.png","assets/images/ziyi.jpg","assets/images/jiajun.jpg","assets/images/hantong.jpeg","resources/About.js","assets/images/Prof_Sondergaard.jpg","assets/images/Dr_Stern.jpg","assets/images/luke.jpeg","assets/icons/wave.svg","components/About/Professor.js","components/About/ClientSection.js","components/About/AppSection.js","assets/icons/github.svg","assets/icons/slack-new-logo.svg","components/About/Contribute.js","components/About/index.js","router/Router.js","index.js","components/DataStructures/Graph/NAryTreeRenderer/NAryTreeRenderer.module.scss","components/DataStructures/Array/Array2DRenderer/Array2DRenderer.module.scss","components/DataStructures/Graph/GraphRenderer/GraphRenderer.module.scss"],"names":["module","exports","Header","_circle","_ref","onSetting","history","useHistory","_jsxs","className","children","type","onClick","handleLogoClick","push","_jsx","src","logo","alt","handleAboutClick","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgCircle","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","cx","cy","r","ForwardRef","_polygon","SvgDirection","xmlnsXlink","points","stroke","fillRule","ParamMsg","logWarning","logTag","logMsg","style","color","stringValidCheck","t","match","singleNumberValidCheck","matrixValidCheck","m","j","getRandomInt","min","max","Math","ceil","floor","random","genRandNumList","num","list","x","genUniqueRandNumList","set","Set","size","add","Array","from","quicksortPerfectPivotArray","minA","maxA","idealOrder","v","step","midDivider","left","right","concat","successParamMsg","errorParamMsg","example","makeColumnArray","len","arr","accessor","makeWeights","symmetric","unweighted","circular","undefined","rows","diffMult","sub","row","edgeCount","tries","val","abs","data","makeXYCoordsCircular","unitAngle","PI","radius","midX","midY","round","cos","y","sin","euclidean","x1","y1","x2","y2","sqrt","pow","manhattan","balanceBSTArray","nodes","TreeNode","constructor","value","insertNode","array","midpoint","root","slice","output","queue","Denque","isEmpty","element","shift","levelOrderTraversal","ControlButton","_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_g16","icon","disabled","SvgRefresh","enableBackground","xmlSpace","d","closeInstructions","instruction","document","getElementById","display","openInstructions","mouseClickEvents","ParamForm","formClassName","name","buttonName","onChange","handleSubmit","algorithm","useContext","GlobalContext","useEffect","forEach","mouseEventType","dispatchEvent","MouseEvent","view","window","bubbles","cancelable","buttons","simulateMouseClick","querySelector","onSubmit","closeInstructionsFun","sessionStorage","setItem","useParam","DEFAULT_VALUE","dispatch","playing","paramVal","setParamVal","useState","ListParam","mode","DEFAULT_VAL","SET_VAL","REFRESH_FUNCTION","ALGORITHM_NAME","EXAMPLE","setMessage","e","split","preventDefault","inputValue","replace","map","GlobalActions","RUN_ALGORITHM","RefreshIcon","DEFAULT_NODES","HeapsortParam","message","setNodes","_Fragment","SingleValueParam","parseInt","SEARCH","SEARCH_EXAMPLE","UNCHECKED","sorted","balanced","BlueRadio","withStyles","checked","Radio","BSTParam","bstCase","setBSTCase","handleChange","temp","shuffleArray","sort","a","b","click","visualisers","graph","instance","visualiser","chunker","FormControlLabel","control","label","DEFAULT_ARRAY_GENERATOR","DEFAULT_ARR","sortedAsc","bestCase","sortedDesc","QuicksortParam","setArray","QSCase","setQSCase","MergesortParam","defaultColumn","Cell","initialValue","index","column","updateData","algo","setValue","newValue","test","String","onBlur","Table","columns","getTableProps","getTableBodyProps","headerGroups","prepareRow","useTable","counter","headerGroup","getHeaderGroupProps","headers","getHeaderProps","render","getRowProps","cells","cell","getCellProps","namesEgsInit","sizeEgsInit","coordsEgsInit","edgesEgsInit","COORDS_EXAMPLE","EDGES_EXAMPLE","coordTxt2Data1","textInput","isListofTuples","coordMatrix","pair","trim","newSize","newData1","xyArray","col0","col1","edgeTxt2Data2","edgeList","newData2","searchEdgeList","EuclideanMatrixParams","defaultSize","defaultStart","defaultEnd","defaultWeight","defaultHeur","graphEgs","EXAMPLE2","graphChoiceNum","sizeEgs","graphEgsSizes","coordsEgs","graphEgsCoords","edgesEgs","graphEgsEdges","namesEgs","graphEgsNames","setSize","weightCalc","setCalcMethod","heurCalc","setHeurCalc","columns1","useMemo","makeColumnCoords","columns2","data1","setData1","coords","originalData1","setOriginalData1","data2","setData2","edges","originalData2","setOriginalData2","coordsTxt","setCoordsTxt","edgesTxt","setEdgesTxt","startNode","setStartNode","endNodesTxt","setEndNodesTxt","nums2Txt","endNodes","setEndNodes","graphChoice","setgraphChoice","handleSearch","changeGraphChoice","some","newEndNodes","filter","prevX","prevY","prevX1","prevY1","sep","makeXYCoords","getCoordinateList","getEdgeList","s1","updateTableSize","GRAPHCHOICERAND","updateStartNode","newStart","updateEndNode","newEnd","moveNode","nodeID","toString","getCoordinateMatrix","_","entries","substring","rowNum","colId","colNum","coordsMatrix","edgeValueMatrix","getEdgeValueMatrix","adjacent","temp_edges","distance","heuristicFn","endButton","startButton","weightButton","changeCalcMethod","state","heurButton","changeHeurCalc","edgesTxt1","join","updateData1","rowIndex","columnId","updateData2","rowIndexMirror","columnIdMirror","minLen","maxLen","tuples","tuple","isNaN","node1","node2","weight","nExtras","graphEg","nums","txt","n","GRAPH_EGS","PRIM_oldParam","PRIMParam","KRUSKALParam","TransitiveClosureParam","StringParamForm","string","stringOnChange","pattern","patternOnChange","StringParam","DEFAULT_STRING","SET_STRING","DEFAULT_PATTERN","SET_PATTERN","stringInputName","patternInputName","BFSSParam","setString","setPattern","QSM3Case","setQSM3Case","HSSParam","N_ARRAY","DEFAULT_UNION","FIND_EXAMPLE","UNION_EXAMPLE","UFParam","unions","setUnions","pathCompressionEnabled","setPathCompressionEnabled","prevState","pairs","includes","validateTextInput","arg1","Number","arg2","INSERTION_EXAMPLE","TTFTreeParam","input","inputArr","inputSet","every","validateListInput","tree","DEFAULT_END","DijkstraParam","ASTParam","heuristic","BFSParam","DFSParam","DFSrecParam","initVisualisers","clear","order","run","_ref2","getTree","item","current","getRoot","parent","vis","c","p","visit","ptr","leave","select","setText","classes","_len","_key","dx","dy","Ellipsis","React","Component","styles","ellipsis","Renderer","super","handleMouseDown","handleMouseMove","handleMouseUp","handleWheel","_handleMouseDown","_handleWheel","togglePan","toggleZoom","lastX","lastY","centerX","centerY","zoom","zoomFactor","zoomMax","zoomMin","componentDidUpdate","prevProps","snapshot","enable","clientX","clientY","addEventListener","refresh","removeEventListener","deltaY","POSITIVE_INFINITY","MAX_SAFE_INTEGER","NEGATIVE_INFINITY","MIN_SAFE_INTEGER","isInteger","toFixed","forceUpdate","renderData","renderer","onMouseDown","onWheel","Tracer","_path2","getObject","options","arrayItemMagnitudes","largestValue","init","reset","getRendererClass","RendererClass","SvgFont","isNode","o","Node","nodeType","nodeName","isElement","HTMLElement","increaseFontSize","increaseFactor","getComputedStyle","getPropertyValue","currentSize","parseFloat","fontSize","setFontSize","ALGO_THEME_KEY","ALGO_THEME_1","ALGO_THEME_2","ALGO_THEME_3","allColBtn","primary","secondary","third","fourth","SYSTEM_THEME_KEY","SYSTEM_THEME_1","SYSTEM_THEME_2","allSystemCol","setWithExpiry","ttl","expiry","Date","getTime","localStorage","JSON","stringify","getWithExpiry","itemStr","getItem","parse","removeItem","EXPIRE_SEC","setTheme","theme","documentElement","setAttribute","getSystemColorMode","matchMedia","matches","setAlgoTheme","Settings","onFontIncrease","colorMode","handleColorModeChange","systemColor","handleSystemColorChange","Font","border","_ref3","modename","switchmode","graphgreen","graphblue","calculateControlCord","slope","direction","GraphRenderer","elementRef","createRef","selectedNode","computeCoords","dimensions","nodeRadius","find","node","findNode","scaleSize","scaledX","scaledY","svg","s","createSVGPoint","matrixTransform","getScreenCTM","inverse","computeMax","nodesXArr","nodesYArr","computeScales","center","stepSize","stepHeight","increment","scales","alignMinX","alignMaxX","alignMinY","alignMaxY","computeArrows","axisEndPoint","arrow1","arrow2","calculateAxisScale","maxScale","trueMax","maxCoord","calculateIncrement","axisScale","calculateLabelSizeMultiplier","renderAxis","axisCenter","axisArrowX","axisArrowY","labelPosX","labelPosY","originCoords","axis","frag","textAnchor","axisLabel","scale","isDirected","isWeighted","text","baseWidth","baseHeight","arrowGap","nodeWeightGap","edgeWeightGap","rootX","rootY","markerWidth","markerHeight","refX","refY","orient","arrow","selected","visited","visited1","visited2","visited3","visited4","visitedCount","visitedCount1","edge","selectedCount","visitedCount0","visitedCount2","visitedCount3","visitedCount4","sourceNode","targetNode","sx","sy","ex","ey","mx","my","pathSvg","isInterConnected","line","directed","transform","isPointer","pointerText","selectNode","visitedNode0","visitedNode","visitedNode1","visitedNode2","visitedNode3","visitedNode4","motion","g","animate","initial","transition","duration","visited0","circle","backgroundStyle","textStyle","GraphTracer","padding","defaultNodeRadius","callLayout","method","layoutCircle","args","logTracer","istc","calculateMaximumCoordinate","coordinates","setNodeRadius","array2d","values","scaledCoords","nodeValue","addNode","addEdge","layout","setLeftOrRightChild","child","obj","sources","targets","setHeap","layoutTree","swapNodes","nodeId1","nodeId2","weighted","moveNodeFn","shape","addResult","Result","addStringLen","StingLen","addPatternLen","PatternLen","updateNode","update","keys","removeNode","indexOf","splice","findEdge","updateEdge","removeEdge","findValue","findLinkedEdges","findLinkedNodeIds","findLinkedNodes","getRect","top","bottom","rect","angle","space","searchString","findString","stringCount","startFindString","thisNode","ySpacing","layoutBFSS","maxDepth","leafCounts","marked","recursiveAnalyze","depth","linkedNodeIds","linkedNodeId","leafNodeSizeAlloc","verticalGap","recursivePosition","h","linkedNodes","linkedNode","rootNode","layoutBST","middleX","middleY","nodeDepth","hGap","vGap","layoutRandom","placedNodes","placedNode","visit0","visitOrLeave0","visitOrLeave","allLeave","println","selectOrDeselect","styledSelect","styledSelectOrDeselect","styledDeselect","deselect","visit1","colorIndex","visitOrLeave1","leave0","leave1","setPointerNode","sText","tText","unsetPointerNode","resetSelect","log","setIstc","colorEdge","removeEdgeColor","colorNode","_node","removeNodeColor","array_2d_green","array_2d_blue","array_2d","Array2DRenderer","kth","listOfNumbers","motionOn","hideArrayAtIdx","data_T","col","longestRow","reduce","marginLeft","marginTop","AnimateSharedLayout","idx","position","variables","div","layoutId","variable","top_variable","Fragment","pointer","varGreen","varOrange","varRed","patched","selected1","selected2","selected3","variableGreen","variableOrange","variableRed","bottom_caption","pseudocode_function","captionDFS","captionDFSrec","captionmsort_arr_td","captionmsort_lista_td","captionBFS","Element","stack","Array2DTracer","array1d","patch","depatch","selected4","selected5","unfill","fadeOut","faded","fadeIn","assignVariable","newData","cloneDeepWith","newEl","setMotion","bool","selectRow","selectCol","deselectRow","deselectCol","showKth","k","setList","getKth","hideArrayAtIndex","updateValueAt","array_1d_green","array_1d_blue","array_1d","stackFrameColour","color_index","stackRenderer","nodeCount","stackDepth","maxStackDepth","stackItems","justifyContent","base","extra","stackElement","textAlign","backgroundColor","extraColor","stackSubElement","Array1DRenderer","largestColumnValue","acc","curr","scaleY","largest","columnValue","alignItems","span","minHeight","Array1DTracer","chartTracer","syncChartTracer","chart","swapElements","temp1","temp2","addVariable","removeVariable","newVars","clearVariables","setStack","setStackDepth","setLargestValue","stringTheContent","prev","visitedList","elements","isBuildHeapExpanded","areExpanded","isDownHeapkExpanded","ArrayTracer","heap","A","swap","highlight","unhighlight","swapAction","n1","n2","_n1","_n2","lastiHighlight","tmp","index1","index2","lastH","nVal","isPartitionExpanded","VIS_VARIABLE_STRINGS","STACK_FRAME_COLOR","QS_BOOKMARKS","assert","condition","Error","update_vis_with_stack_frame","stack_frame","stateVal","run_QS","is_qs_median_of_3","entire_num_array","max_depth_index","finished_stack_frames","real_stack","derive_stack","cur_real_stack","cur_finished_stack_frames","cur_i","cur_j","cur_pivot_index","cur_depth","stack_vis","refresh_stack","cur_i_too_low","cur_j_too_low","assign_i_j","variable_name","result","QuickSort","qs_num_array","pivot","pivot_index","partition_num_array","bookmark","chunker_add_if","f","args_array","pivot_value","mid","cur_mid","cur_left","cur_right","partition","pop","l","explanation","QSExp","QSM3Exp","msort_arr_td","isMergeCopyExpanded","arrayB","B","assignVarToA","assignVarToB","renderInMerge","cur_ap1","cur_ap2","cur_bp","cur_max1","cur_max2","c_stk","isMergeExpanded","highlightB","set_simple_stack","vis_array","isRecursionExpanded","maxValue","msresult","MergeSort","simple_stack","unshift","ap1","max1","ap2","max2","bp","cur_stk","cur_b","msort_lista_td","assignMaybeNullVar","Indices","Heads","Tails","L","Lists","cur_L","cur_len","midNum","Mid","cur_Mid","M","R","cur_R","E","cur_M","cur_E","TC_NAME","algorithmGetter","dispatchGetter","getGlobalAlgotithm","isInTransitiveClosure","isInCollapseState","collapse","transitiveClosure","tc","Reachable","chunkCache","inCollapseStateFlag","initedHideJTag","setJTagVisible","visible","jTagDom","querySelectorAll","opacity","runChunkWithCheckCollapseState","chunkFn","releaseChunkCache","fn","runChunkWithEnterCollapse","_inPrevState","setKthVisible","kthDom","copyArr","out","matrix","numOfNodes","prevI","prevJ","prevK","edgeArray","coordsArray","pauseInCollapse","pj","pk","lastnode","repeatx","GraphRendererRect","ShowMsg","shiftcount","lastvisited","hasGraph","graphFinished","StringLen","FinalPostion","startpostion","algorithmName","strStart","strEnd","nodeid","smlx","smly","ii","highlightid","testing","currentPatStart","currentPatEnd","lasthighlightj","lasthighlighti","highlighting","accumj","console","degree","atan2","addAlgorithm","GraphTracerRect","shift_i","shift_j","ResultStr","TwoArray2DRenderer","paddingBottom","TwoArray2DTracer","array2d1","getposition","xx","pos","rr","yy","HSSExp","shiftTable","shiftTableValue","toLowerCase","shift_distance","shift_list","shift_ilist","shift_cur","shift_pre","shift_move_i","NAryTreeRenderer","showSelfLoop","variableNodes","isReversed","baseOffset","functionName","sizeAdjust","findVariableNode","loopRadiusX","loopRadiusY","arrowOffset","startAngle","startPoint","endAngle","level","prelimx","modifier","rank","getIDs","getNodeLength","addChild","childNode","getParent","getLeftSibling","myIndex","getChildIndex","findIndex","getRightSibling","getLeftNeighbour","hierarchy","leftSibling","levelList","VariableTreeNode","relatedNodeIDs","getNodeId","addRelatedNodeID","removeRelatedNodeID","clearRelatedNodeIDs","hasRelatedNodeID","NTreeTracer","layoutNTree","realEdges","realNodes","SiblingSeparation","xTopAdjustment","yTopAdjustment","SubtreeSeparation","LevelSeparation","levels","getNTree","nodeMap","rootNodes","treeNode","nodeIDs","delete","isParent","addVariableNode","varID","removeFullNode","newEdges","newRealEdges","meanNodeSize","leftNode","rightNode","getLeftMost","lvl","rightmost","leftmost","apportion","neighbour","compareDepth","depthToStop","leftModsum","rightModsum","ancestorLeftmost","ancestorNeighbour","moveDistance","tempPtr","leftSiblings","portion","firstWalk","secondWalk","modsum","xTemp","yTemp","getVariableNode","translateCoords","flattenedLevels","offset","levelNode","updateXandY","nodeLength","nodesToUpdate","halfWidth","nodeToUpdate","valueX","addSelfLoop","nodeId","colourIndex","extractNTree","unfillAll","setNTree","setFunctionName","pathCompression","parentArray","extractParentArray","notAtRoot","parentArr","unionFind","PARENT_IDX","COLOUR_CODES","ORANGE","N_IDX","RED","shortenPath","nTempPrev","nPrev","GREEN","grandparent","formerParent","newParent","N_GRAPH","isRankVisible","UFExp","params","unionOperations","rankArr","union","visObj","colour","deselectForRow","root1","unionFindFind","root2","tempRoot1","updatedRank1","updatedRank2","TTFExp","findChild","childOrNull","value1","TTFTreeInsertion","unhighlightNode","highlightValue","value2","unhighlightValue","value3","highlightNode","returnIfKeyInNode","search","initTreeReturnRoot","parentTreeNode","childTreeNode","renderedNodes","renderedEdges","traverseAndInsert","newID","oldChild","child1","child2","createNodeAndIncrement","handleChunkerAdd","parentChildren","formParentThreeNode","formParentFourNode","newParentValue","TTFTreeSearch","nTree","parentnodeIDs","childIdx","ParentID","oldChildID","child1Info","child2Info","newRoot","insert","initTree","treeStruct","colors","algNameStr","dashStr","numVertices","minCosts","parents","finalCosts","start","end","miniIndex","last","cost","Infinity","findMinimum","minCost","has","c_nodes_etc","c_Min","c_cV","c_m","c_m1","c_cV1","c_Min1","isFinite","w","currentVertex","c_miniIndex","c_last","c_prev","c_prev_cV","next","newCost","tempString","lastParent","c_prev_m","c_lastP","heuristics","calculatedHeuristics","endX","endY","Queue","items","enqueue","dequeue","explored","displayedVisited","displayedParent","displayedNodes","seen","displayedQueue","lastNeighbor","Nodes","z","c_n","c_lastNei","c_parent","c_visited","c_Nodes","c_end","c_explored","bfs","displayedStack","toReversed","dfs","unassigned","dfs1","rec_depth","c_stack","c_p","displayAxis","pending","pq","pqDisplay","prevDisplay","pqStart","prevIndex","closed","pqCost","prevNode","PqSort","PqUpdate","preIndex","u","totalStrs","totalCost","isNumber","c_Total","el","c_totalCost","etcStr","findD","selectedD","costD","edgesD","ufParent","ufRank","setfindDedgesD","nodeSets","gsize","nselected","c_sel","c_n1","c_n2","totCost","extractCode","lines","jsons","json","explFlag","ind","localeCompare","code","indentation","addIndentation","originalBlocks","blockName","baseIndent","outputBlocks","indentedLine","repeat","rawCodeBlocks","codeBlock","codeFlag","blockFlag","extractCodeBlock","builtLine","removeLineContinuation","indentedCodeBlocks","KEY_CODE","KEY_INSERT","KEY_PLAY","KEY_FORWARD","KEY_SEARCH","KEY_SORT","KEY_LOAD","bstInstructions","content","stringInstructions","sortInstructions","graphInstructions","BSTInstruction","HSInstruction","QSInstruction","TCInstruction","Prims_oldInstruction","PrimsInstruction","KruskalInstruction","BFSSInstruction","HSSInstruction","UFInstruction","TTFInstruction","DIJKInstruction","ASTARInstruction","BFSInstruction","DFSInstruction","DFSrecInstruction","allalgs","category","Explanation","param","Param","instructions","Instructions","extraInfo","ExtraInfo","pseudocode","Pseudocode","controller","Controller","noDeploy","insertion","algorithms","fromEntries","getDefaultMode","generateAlgorithmList","alList","alNum","shorthand","AlgorithmCategoryList","generateAlgorithmCategoryList","alCatList","categoryNum","al","AlgorithmList","AlgorithmNum","clone","require","defer","bookmarkBlock","ancestorBlocks","getCollapseControllerForSinglePseudocode","procedurePseudocode","collapseController","codeBlockName","getCollapseController","procedureAlgorithms","algorithmCollapseController","modeName","addLineExplanation","LOAD_ALGORITHM","lineExplanation","initfn","chunks","currentChunk","func","recursionLevel","bookmarkValue","mutator","isValidChunk","getVisualisers","doChunk","checkChunkPause","nextIndex","triggerPauseInCollapse","finished","prevChunk","chunkNum","chunk","goBackTo","bookmarkInfo","NEXT_LINE","stopAt","block","callRecLevel","ancestors","currentValue","blockToSkip","findNext","PREV_LINE","findPrev","TOGGLE_PLAY","COLLAPSE","codeblockname","expandOrCollapase","alg_name","getGlobalAlgorithm","importsThis","onCollapseChange","onCollapseStateChange","isVisible","Maybe_swap","Adjust_rank","unionFindToggleRank","LineExplan","updateLineExplan","blocks","createContext","param_vals","URL","location","href","alg_spec","alg","mode_spec","initialState","GlobalProvider","setState","action","dispatcher","globalState","getter","dispatchGetterFn","initGlobalAlgotithmGetter","Provider","HeaderButton","globalTheme","createTheme","palette","main","tabHeight","makeStyles","tabsRoot","tabRoot","useStyles","ThemeProvider","Paper","square","elevation","Tabs","event","variant","scrollButtons","indicatorColor","textColor","Tab","disableRipple","hljs","CodeBlock","PureComponent","setRef","componentDidMount","highlightCode","codeEl","highlightBlock","language","defaultProps","fontSizeIncrement","setExplanation","fontID","fetch","then","res","ReactMarkDown","escapeHtml","renderers","plugins","toc","SvgCancel","LineExplanation","Cancel","markdownKeywords","keyword","operator","blockContainsBookmark","codeFormatting","codeArray","spanItem","codeItem","codeRexItem","flag","arrayIndex","arrayLength","markdownKeyword","funcName","funcContent","getAllBlocksToCollapse","results","pseudocodeBlock","lineNum","codeLines","explaIndex","pseudoceArary","expla","lineExplanButton","HelpIcon","role","blocksToCollapse","ExpandMoreIcon","ChevronRightIcon","subblock","cl","LineNumHighLight","pseudoCodePad","pseudoCodePadding","limit","rel","ButtonPanel","BottomButton","onExpand","onCollapse","MoreInfo","Instruction","RightPanel","LeftPanel","displaySearch","setDisplaySearch","mounted","useRef","stat","itemFontID","catFontID","mouseEvs","startButtonClick","placeholder","inputContent","algorithmListChosen","cat","nextElementSibling","maxHeight","scrollHeight","MidPanel","open","setOpen","closeModal","Popup","closeOnDocumentClick","onClose","ProgressBar","rectPrimary","buffer","setTransform","WebkitTransform","MozTransform","OTransform","MSTransform","setBuffer","useInterval","callback","delay","savedCallback","setInterval","clearInterval","SvgPlay","_g17","SvgPause","SvgArrow","muiTheme","overrides","MuiSlider","thumb","track","rail","mark","markActive","ControlPanel","chunkerLength","speed","setSpeed","setPlaying","isPlaying","pause","play","handleClickPlay","handleSliderChange","newSpeed","PrevIcon","PauseIcon","PlayIcon","NextIcon","Grid","container","spacing","xs","Slider","isLeftDragging","isRightDragging","isBottomDragging","setCursor","cursor","startRightDrag","startBottomDrag","endDrag","addUnitToList","unit","addUnitToNum","getDefn","page","status","tempList","leftdraghandle","getColDefn","leftcol","rightcol","leftDragbar","rightDragbar","leftColWidth","offsetWidth","rightColWidth","clientWidth","cols","getRowDefn","footer","header","bottomDragbar","bottomRowHeight","clientHeight","offsetHeight","collapseLeftDrag","gridTemplateColumns","collapseRightDrag","collapseBottomDrag","gridTemplateRows","resizeWindow","App","mouseOutCallback","relatedTarget","toElement","addEvent","evt","attachEvent","isSettingVisible","setSettingVisible","fontSizeIncrease","setFontSizeIncrease","setColorMode","initAlgoColor","algoTheme","setSystemColor","initSystemColor","onMouseUp","tabIndex","onMouseMove","newColDefn","newRowDefn","onDrag","Direction","onDoubleClick","Circle","Link","to","TeamMember","photo","github","linkedIn","desc","gitHover","setGitHover","linkedInHover","setLinkedInHover","onMouseEnter","onMouseLeave","GitHubIcon","LinkedInIcon","Team","teammembers","Team2021s2","professors","department","link","img","Lee","team","Zihan","Kenny","Yinsong","Carina","Nir","Boyu","Joao","Linfan","Tianyang","team2021s2","Ziyi","Jiajun","Hantong","SvgWave","fillOpacity","Professor","Section","AppSection","SvgGithub","SvgSlackNewLogo","clipRule","Contribute","Slack","Github","About","Wave","ClientSection","Router","BrowserRouter","Switch","Route","exact","path","component","ReactDOM"],"mappings":"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WC,GACXC,WAAY,CACVK,UAAWJ,GACXnM,OAAQmM,IAEVC,WAAY,CACVG,UAAWF,GACXrM,OAAQqM,KAIZ,OAAU,CACR10C,KAAM,qBACN+zC,SAAU,QACVE,MAAO5+C,cAAC6+C,GAAiB,IACzBC,aAAcC,GACdle,YAAa8d,EACbK,UAAWC,GACXC,WAAY,CACV33B,KAAM43B,IAERC,WAAY,CACV73B,KAAM83B,KAGV,IAAO,CACL10C,KAAM,kBACN+zC,SAAU,QACVE,MAAO5+C,cAAC6+C,GAAc,IACtBC,aAAcC,GACdle,YAAa8d,EACbK,UAAWC,GACXC,WAAY,CACV33B,KAAM43B,IAERC,WAAY,CACV73B,KAAM83B,KAGV,IAAO,CAEL10C,KAAM,uBACN+zC,SAAU,QACVE,MAAO5+C,cAAC6+C,GAAc,IACtBC,aAAcC,GACdle,YAAa8d,EACbK,UAAWC,GACXC,WAAY,CACV33B,KAAM43B,IAERC,WAAY,CACV73B,KAAM83B,KAGV,SAAY,CACV10C,KAAM,6BACN+zC,SAAU,QACVE,MAAO5+C,cAAC6+C,GAAe,IACvBC,aAAcC,GACdle,YAAa8d,EACbK,UAAWC,GACXC,WAAY,CACV33B,KAAM43B,IAERC,WAAY,CACV73B,KAAM83B,KAIT,MAAS,CACR10C,KAAM,wBACN+zC,SAAU,QACVE,MAAO5+C,cAAC6+C,GAAgB,IACxBC,aAAcC,GACdle,YAAa8d,EACbK,UAAWC,GACXC,WAAY,CACV33B,KAAM43B,IAERC,WAAY,CACV73B,KAAM83B,KAIV,KAAQ,CACNC,UAAU,EACV30C,KAAM,8BACN+zC,SAAU,QACV7d,YAAa8d,EACbC,MAAO5+C,cAAC6+C,GAAgB,IACxBC,aAAcC,GACdC,UAAWC,GACXC,WAAY,CACV33B,KAAM43B,IAERC,WAAY,CACV73B,KAAM83B,KAGV,SAAY,CACVC,UAAU,EACV30C,KAAM,wBACN+zC,SAAU,QACV7d,YAAa8d,EACbC,MAAO5+C,cAAC6+C,GAAoB,IAC5BC,aAAcC,GACdC,UAAWC,GACXC,WAAY,CACV33B,KAAM43B,IAERC,WAAY,CACV73B,KAAM83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","file":"static/js/main.7dfeefca.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"themeDark\":\"#242424\",\"themeNormal\":\"#393939\",\"themeLight\":\"#505050\",\"colorFont\":\"#cecece\",\"colorShadow\":\"rgba(0,0,0,.2)\",\"colorOverlay\":\"rgba(255,255,255,.1)\",\"colorAlert\":\"#f3bd58\",\"colorSelected\":\"#067aff\",\"colorPatched\":\"#c51162\",\"colorHighlight\":\"#29d\",\"colorActive\":\"#00e676\",\"colorBlue\":\"#067aff\",\"colorRed\":\"#d21010\",\"colorPurple\":\"#c735da\",\"colorGreen\":\"#4bb454\",\"colorYellow\":\"#b3b605\",\"colorLightGreen\":\"#2ec752\",\"lineHeight\":\"32px\",\"fontSizeNormal\":\"12px\",\"fontSizeLarge\":\"14px\",\"renderer\":\"Renderer_renderer__fIED7\",\"title\":\"Renderer_title__3Xv9R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"themeDark\":\"#242424\",\"themeNormal\":\"#393939\",\"themeLight\":\"#505050\",\"colorFont\":\"#cecece\",\"colorShadow\":\"rgba(0,0,0,.2)\",\"colorOverlay\":\"rgba(255,255,255,.1)\",\"colorAlert\":\"#f3bd58\",\"colorSelected\":\"#067aff\",\"colorPatched\":\"#c51162\",\"colorHighlight\":\"#29d\",\"colorActive\":\"#00e676\",\"colorBlue\":\"#067aff\",\"colorRed\":\"#d21010\",\"colorPurple\":\"#c735da\",\"colorGreen\":\"#4bb454\",\"colorYellow\":\"#b3b605\",\"colorLightGreen\":\"#2ec752\",\"lineHeight\":\"32px\",\"fontSizeNormal\":\"12px\",\"fontSizeLarge\":\"14px\",\"array_2d\":\"TwoArray2DRenderer_array_2d__2agTz\",\"row\":\"TwoArray2DRenderer_row__1FAyL\",\"col\":\"TwoArray2DRenderer_col__Tw3SQ\",\"value\":\"TwoArray2DRenderer_value__2r4O1\",\"selected\":\"TwoArray2DRenderer_selected__VjvIF\",\"patched\":\"TwoArray2DRenderer_patched__1OD7i\",\"sorted\":\"TwoArray2DRenderer_sorted__1Q2cG\",\"index\":\"TwoArray2DRenderer_index__3B46O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"themeDark\":\"#242424\",\"themeNormal\":\"#393939\",\"themeLight\":\"#505050\",\"colorFont\":\"#cecece\",\"colorShadow\":\"rgba(0,0,0,.2)\",\"colorOverlay\":\"rgba(255,255,255,.1)\",\"colorAlert\":\"#f3bd58\",\"colorSelected\":\"#067aff\",\"colorPatched\":\"#c51162\",\"colorHighlight\":\"#29d\",\"colorActive\":\"#00e676\",\"colorBlue\":\"#067aff\",\"colorRed\":\"#d21010\",\"colorPurple\":\"#c735da\",\"colorGreen\":\"#4bb454\",\"colorYellow\":\"#b3b605\",\"colorLightGreen\":\"#2ec752\",\"lineHeight\":\"32px\",\"fontSizeNormal\":\"12px\",\"fontSizeLarge\":\"14px\",\"ellipsis\":\"Ellipsis_ellipsis__2Z8yx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"themeDark\":\"#242424\",\"themeNormal\":\"#393939\",\"themeLight\":\"#505050\",\"colorFont\":\"#cecece\",\"colorShadow\":\"rgba(0,0,0,.2)\",\"colorOverlay\":\"rgba(255,255,255,.1)\",\"colorAlert\":\"#f3bd58\",\"colorSelected\":\"#067aff\",\"colorPatched\":\"#c51162\",\"colorHighlight\":\"#29d\",\"colorActive\":\"#00e676\",\"colorBlue\":\"#067aff\",\"colorRed\":\"#d21010\",\"colorPurple\":\"#c735da\",\"colorGreen\":\"#4bb454\",\"colorYellow\":\"#b3b605\",\"colorLightGreen\":\"#2ec752\",\"lineHeight\":\"32px\",\"fontSizeNormal\":\"12px\",\"fontSizeLarge\":\"14px\",\"graph\":\"GraphRenderer_graph__2Wjfx\",\"node\":\"GraphRenderer_node__1cbvk\",\"circle\":\"GraphRenderer_circle__3yoe6\",\"rect\":\"GraphRenderer_rect__5Su8J\",\"id\":\"GraphRenderer_id__OkcX_\",\"weight\":\"GraphRenderer_weight__29S_I\",\"Result\":\"GraphRenderer_Result__3Kud-\",\"selected\":\"GraphRenderer_selected__Zt0ij\",\"visited\":\"GraphRenderer_visited__1tXH4\",\"edge\":\"GraphRenderer_edge__2pz7s\",\"line\":\"GraphRenderer_line__23oEY\",\"directed\":\"GraphRenderer_directed__18zUT\",\"arrow\":\"GraphRenderer_arrow__3TvMB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"themeDark\":\"#242424\",\"themeNormal\":\"#393939\",\"themeLight\":\"#505050\",\"colorFont\":\"#cecece\",\"colorShadow\":\"rgba(0,0,0,.2)\",\"colorOverlay\":\"rgba(255,255,255,.1)\",\"colorAlert\":\"#f3bd58\",\"colorSelected\":\"#067aff\",\"colorPatched\":\"#c51162\",\"colorHighlight\":\"#29d\",\"colorActive\":\"#00e676\",\"colorBlue\":\"#067aff\",\"colorRed\":\"#d21010\",\"colorPurple\":\"#c735da\",\"colorGreen\":\"#4bb454\",\"colorYellow\":\"#b3b605\",\"colorLightGreen\":\"#2ec752\",\"lineHeight\":\"32px\",\"fontSizeNormal\":\"12px\",\"fontSizeLarge\":\"14px\",\"array_1d\":\"Array1DRenderer_array_1d__1yUCn\",\"bottom_caption\":\"Array1DRenderer_bottom_caption__2F2ve\",\"captionmsort_arr_td\":\"Array1DRenderer_captionmsort_arr_td__rXJdR\",\"row\":\"Array1DRenderer_row__FrKGm\",\"col\":\"Array1DRenderer_col__3M3Xp\",\"value\":\"Array1DRenderer_value__1fXfi\",\"variable\":\"Array1DRenderer_variable__NM9Lg\",\"selected\":\"Array1DRenderer_selected__1BZ0T\",\"selected1\":\"Array1DRenderer_selected1__2ghA0\",\"selected2\":\"Array1DRenderer_selected2__3Yxs8\",\"selected3\":\"Array1DRenderer_selected3__38371\",\"selected4\":\"Array1DRenderer_selected4__3AL4c\",\"selected5\":\"Array1DRenderer_selected5__3CTN_\",\"patched\":\"Array1DRenderer_patched__YLnc8\",\"sorted\":\"Array1DRenderer_sorted__2FGQE\",\"index\":\"Array1DRenderer_index__UMfwt\",\"variables\":\"Array1DRenderer_variables__IlHNp\",\"faded\":\"Array1DRenderer_faded__1VkTV\",\"stack\":\"Array1DRenderer_stack__2OcRA\",\"stackElement\":\"Array1DRenderer_stackElement__2uuDF\",\"stackSubElement\":\"Array1DRenderer_stackSubElement__F9hEv\"};","export default __webpack_public_path__ + \"static/media/logo.3fc6bd69.svg\";","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport '../../styles/Header.scss';\nimport logo from '../../assets/logo.svg';\n\nfunction Header({ onSetting }) {\n  const history = useHistory();\n\n  // goes back to main page\n  const handleLogoClick = () => {\n    history.push('/');\n  };\n\n  // goes to about page\n  const handleAboutClick = () => {\n    history.push('/about');\n  };\n\n\n  return (\n    <div className=\"header\">\n      <button className=\"headerTitle\" type=\"button\" onClick={handleLogoClick}>\n        <img src={logo} alt=\"logo\" />\n        <h1>Algorithms in Action</h1>\n      </button>\n\n      <div className=\"navButton\">\n        <button type=\"button\" onClick={handleAboutClick}>\n          About\n        </button>\n        <button type=\"button\" onClick={onSetting}>\n          Settings\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n\nHeader.propTypes = {\n  onSetting: PropTypes.func.isRequired,\n};\n","var _circle;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCircle(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 8,\n    cy: 8,\n    r: 8,\n    fill: \"#C4C4C4\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCircle);\nexport default __webpack_public_path__ + \"static/media/circle.4a1161fd.svg\";\nexport { ForwardRef as ReactComponent };","var _polygon;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgDirection(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"svg\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 20,\n    height: 40,\n    viewBox: \"0, 0, 40,40\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _polygon || (_polygon = /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"20,0 20,40 0,20\",\n    stroke: \"none\",\n    fill: \"#b0acac\",\n    fillRule: \"evenodd\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgDirection);\nexport default __webpack_public_path__ + \"static/media/direction.7feb3d23.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/HSExp.0f5a8e78.md\";","export default __webpack_public_path__ + \"static/media/BSTExp.6361796a.md\";","export default __webpack_public_path__ + \"static/media/QSExp.21194923.md\";","export default __webpack_public_path__ + \"static/media/msort_arr_td.145985cd.md\";","export default __webpack_public_path__ + \"static/media/msort_lista_td.47714636.md\";","export default __webpack_public_path__ + \"static/media/PRIM_oldExp.5f7835c1.md\";","export default __webpack_public_path__ + \"static/media/PRIMExp.c718ab3d.md\";","export default __webpack_public_path__ + \"static/media/KRUSKALExp.e968cbbd.md\";","export default __webpack_public_path__ + \"static/media/TCExp.a2345a1d.md\";","export default __webpack_public_path__ + \"static/media/BFSSExp.59f0e4e6.md\";","export default __webpack_public_path__ + \"static/media/QSM3Exp.abb6cec5.md\";","export default __webpack_public_path__ + \"static/media/HSSExp.e0c0025e.md\";","export default __webpack_public_path__ + \"static/media/UFExp.4e12391c.md\";","export default __webpack_public_path__ + \"static/media/TTFExp.1bb9ea16.md\";","export default __webpack_public_path__ + \"static/media/DIJKExp.0be9daff.md\";","export default __webpack_public_path__ + \"static/media/ASTExp.df3b37e4.md\";","export default __webpack_public_path__ + \"static/media/BFSExp.49ba85dc.md\";","export default __webpack_public_path__ + \"static/media/DFSExp.5bd9fb33.md\";","export default __webpack_public_path__ + \"static/media/DFSrecExp.9999e085.md\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\n\nfunction ParamMsg({ logWarning, logTag, logMsg }) {\n  const warningCol = '#FB3640';\n  const successCol = '#52AA5E';\n  return (\n    <div className=\"logContainer\">\n      <span\n        className=\"logTag\"\n        data-testid=\"logTag\"\n        style={logWarning ? { color: warningCol } : { color: successCol }}\n      >\n        { logTag }\n      </span>\n      <span className=\"logText\">{ logMsg }</span>\n    </div>\n  );\n}\n\nParamMsg.propTypes = ({\n  logWarning: PropTypes.bool.isRequired,\n  logTag: PropTypes.string.isRequired,\n  logMsg: PropTypes.string.isRequired,\n});\n\nexport default ParamMsg;\n","/* eslint-disable no-param-reassign */\nimport React from 'react';\nimport Denque from 'denque';\nimport ParamMsg from './ParamMsg';\n\nexport const commaSeparatedNumberListValidCheck = (t) => {\n  const regex = /^[0-9]+(,[0-9]+)*$/g;\n  return t.match(regex);\n};\n\nexport const stringListValidCheck = (t) => {\n  const regex = /^[a-zA-Z]+(,[a-zA-Z]+)*$/g;\n  return t.match(regex);\n};\n\nexport const stringValidCheck = (t) => {\n  const regex = /^[a-z\\s]+$/g;\n  return t.match(regex);\n};\n\nexport const singleNumberValidCheck = (t) => {\n  const regex = /^\\d+$/g;\n  return t.match(regex);\n};\n\n// eslint-disable-next-line consistent-return\nexport const matrixValidCheck = (m) => {\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0; i < m.length; i++) {\n    // eslint-disable-next-line no-plusplus\n    for (let j = 0; j < i; j++) {\n      if (m[i][j] !== m[j][i]) {\n        return false;\n      }\n    }\n    if (m[i][i] !== 0) {\n      return false;\n    }\n  }\n  return true;\n};\n\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport const genRandNumList = (num, min, max) => {\n  const list = [];\n  for (let x = 0; x < num; x += 1) {\n    list.push(getRandomInt(min, max));\n  }\n  return list;\n};\n\n/**\n * Generate a list of unique random numbers given size.\n * @param {*} num the length of the list to generate.\n * @param {*} min the minimum value of the random number.\n * @param {*} max the maximum value of the random number.\n * @returns the generated list.\n */\nexport const genUniqueRandNumList = (num, min, max) => {\n\n  const set = new Set();\n  while (set.size < num) {\n    set.add(getRandomInt(min, max));\n  }\n  return Array.from(set);\n};\n\nexport const quicksortPerfectPivotArray = (minA, maxA) => {\n  function idealOrder(min, max, v, step) {\n    if (max <= min) {\n      return [];\n    }\n    const midDivider = Math.floor(((max - min) / 2) + min);\n    const left = idealOrder(min, midDivider - step, v, step);\n    const right = idealOrder(midDivider + step, max, -1, step);\n\n    if (v === 1) {\n      return left.concat(right).concat([midDivider]);\n    }\n    return [midDivider].concat(left).concat(right);\n  }\n  return idealOrder(minA, maxA, 1, 2);\n};\n\nexport const successParamMsg = (type) => (\n  <ParamMsg\n    logWarning={false}\n    logTag=\"\"\n    logMsg=\"\"\n  />\n);\n\n/**\n *\n * @param {string} type algorithm type\n * @param {string} example optional provided\n * @param {string} reason optional provided, if not provide, use default value\n */\nexport const errorParamMsg = (\n  type,\n  example,\n  reason = `It seems the ${type} algorithm does not accept this data.`,\n) => (\n  <ParamMsg\n    logWarning\n    logTag=\"Oops...\"\n    logMsg={`${example || ''}`}\n  />\n);\n\n/**\n * Populate the Column array, see React-Table API\n * https://react-table.tanstack.com/docs/quick-start\n * @param {number} len size of the matrix\n * @return array of object\n */\nexport const makeColumnArray = (len) => {\n  const arr = [];\n  for (let i = 0; i < len; i += 1) {\n    arr.push({\n      Header: i + 1,\n      accessor: `col${i}`, // accessor is the \"key\" in the data,\n    });\n  }\n  return arr;\n};\n\n/**\n * Return XY columns for new params user interface\n * @return array of object\n */\n\nexport const makeColumnCoords = () => {\n  const arr = [];\n  arr.push({Header: 'X', accessor: `col${0}`,});\n  arr.push({Header: 'Y', accessor: `col${1}`,});\n\n  return arr;\n};\n\n\n// XXX OLD version - could probably delete now\n/**\n * Populate the data cells, see React-Table API\n * https://react-table.tanstack.com/docs/quick-start\n * @param {number} len size of the matrix\n * @param min\n * @param max\n * @param symmetric\n * @return array of object\n */\n// Create random-ish edge matrix\n// Was called with min=max=1 so we get a complete graph every time -\n// visually confusing! Best arrange things so we have a small number of\n// edges per node (2-3 seems reasonable), so we could use size + random\n// number to determine if there is an edge and min&max (or 1) to get edge\n// length if there is one. To make sure we have a connected graph we could\n// force node n to be connected to node n+1\nexport const makeWeightsOld = (len, min, max, symmetric, unweighted) => {\n  const rows = [];\n  if (symmetric) {\n    for (let i = 0; i < len; i += 1) {\n      const row = [];\n      for (let j = 0; j < len; j += 1) {\n        let val = 0; // i === j\n        if (j < i) {\n          val = rows[j][i];\n        } else if (i !== j) {\n          val = getRandomInt(min, max);\n          if (unweighted) {\n            val = val > 0 ? 1 : 0;  // If unweighted, force the value to be either 0 or 1.\n          }\n        }\n        row.push(val);\n      }\n      rows.push(row);\n    }\n  }\n  let arr = [];\n  for (let i = 0; i < len; i += 1) {\n    const data = {};\n    for (let j = 0; j < len; j += 1) {\n      let value = symmetric\n        ? `${rows[i][j]}`\n        : `${getRandomInt(min, max)}`;\n      if (unweighted) {\n        value = parseInt(value, 10) > 0 ? '1' : '0'; // If unweighted, force the value to be either 0 or 1.\n      }\n      if (i === j && !symmetric) {\n        value = '1';\n      }\n      data[`col${j}`] = value;\n    }\n    arr.push(data);\n  }\n  if (len === 4 && symmetric !== true) { // XXX WTF?\n    arr = [\n      {\n        col0: '1',\n        col1: '0',\n        col2: '0',\n        col3: '1',\n      },\n      {\n        col0: '1',\n        col1: '1',\n        col2: '0',\n        col3: '1',\n      },\n      {\n        col0: '1',\n        col1: '1',\n        col2: '1',\n        col3: '0',\n      },\n      {\n        col0: '0',\n        col1: '0',\n        col2: '1',\n        col3: '1',\n      },\n    ];\n  }\n  return arr;\n};\n\n/**\n * Populate the data cells, see React-Table API\n * https://react-table.tanstack.com/docs/quick-start\n * @param {number} len size of the matrix\n * @param min\n * @param max\n * @param symmetric\n * @return array of object\n */\n// Attempt at better version of random graph. Makes sure a connected\n// graph is returned. Attempt to limit degree of nodes (still tends to\n// be a bit sparse for a small number of nodes and perhaps a bit dense\n// for a large number - could make some adjustments.  Could be nice for\n// this to have the X-Y coordinates passed in; currently they are done\n// independently, which limits things somewhat.\nexport const makeWeights = (len, min, max, symmetric, unweighted, circular=false) => {\n  const rows = [];\n\n  // get pseudo-random len*len edge matrix\n  // Try to get average degree around 3, edges being more likely between\n  // nodes with similar numbers; lower degree for circular graphs\n  let diffMult = 4; // magic number for random edge generation\n  let sub = 6; // magic number for random edge generation\n  if (circular) {\n    diffMult = 3 ; // larger means fewer edges between close nodes\n    sub = 0; // smaller means fewer edges in total\n  }\n  for (let i = 0; i < len; i += 1) {\n    let row = [];\n    let edgeCount = 0;\n    let tries = 0; // we try several times to get 0<edgeCount<5 then give up\n    do {\n      tries++;\n      row = [];\n      edgeCount = 0; // edge count for this node/row\n      for (let j = 0; j < len; j += 1) {\n        let val = 0;\n        if (j < i && symmetric) {\n          val = rows[j][i];\n        } else if (i == j) {\n          // XXX using symmetric flag to determine if leading\n          // diagonal is 1 or 0 is a bit sus but thats what earlier\n          // code did...\n          val = (symmetric? 0 : 1);\n          // always have an edge between i and i+1 to make sure graph is\n          // connected, unless its circular\n        } else if (j == i+1 && !circular) {\n          val = (unweighted? 1: getRandomInt(min, max));\n          // else determine if we want an edge between i and j\n          // - if i&j differ more we reduce likelihood\n        } else if (Math.random() < 0.75**(Math.abs(i-j)*diffMult - sub)) {\n          val = (unweighted? 1: getRandomInt(min, max));\n        }\n        if (val > 0) edgeCount++;\n        row.push(val);\n      }\n      // console.log('try ' + tries + 'edgeCount = ' + edgeCount);\n    } while (tries < 40 && (edgeCount === 0 && !circular || edgeCount > 4) && len > 1)\n    // console.log('row' + i + ': ' + row);\n    rows.push(row);\n  }\n  let arr = [];\n  for (let i = 0; i < len; i += 1) {\n    const data = {};\n    for (let j = 0; j < len; j += 1) {\n      data[`col${j}`] = `${rows[i][j]}`;\n    }\n    arr.push(data);\n  }\n  return arr;\n}\n\n\n// Create len random-ish XY coordinates in range min to max for\n// Euclidean graphs\nexport const makeXYCoords = (len, min, max, circular=false) => {\n  // added circular layout for Warshall's\n  if (circular)\n    return makeXYCoordsCircular(len, min, max);\n  const rows = [];\n  let arr = [];\n  let prevX = 0;  // keep track of previous 2 X,Y values to reduce close nodes\n  let prevY = 0;\n  let prevX1 = 0;\n  let prevY1 = 0;\n  for (let i = 0; i < len; i += 1) {\n    const data = {};\n    // To make the graph more readable it helps to spread the X values\n    // across the range rather than have everything clumped up.\n    // We break up the range min to max into columns xmin-xmax for each\n    // i value. If sep=0 there is no separation of columns: xmin is\n    // min and xmax is max for all i. If sep=1 the columns are separated\n    // as much as possible, X_{i} <= X_{i+1} for all i and we get even\n    // spread of X values over the whole range. For 0<sep<1 we get more\n    // spread than purely random but the xmin-xmax columns overlap.\n    // const sep = 0; // no attempt to spread X values\n    // const sep = 1; // X values spread pretty evenly\n    const sep = 0.9;\n    let xmin = Math.floor(min + sep*(max-min)*i/len);\n    let xmax = Math.ceil(max - sep*(max-min)*(len-1-i)/len);\n    let x = getRandomInt(xmin, xmax);\n    data[`col0`] = `${x}`;\n    // Ideally, spreading the Y values would also be good but we dont\n    // want them correlated with the X values so its not so easy.\n    // Also good to avoid nodes that are too close together - you can't\n    // see the edge because of the circles depicting the nodes, so we\n    // have several tries at avoiding having a node close to the\n    // previous two.\n    // We use max/3 as the max Y value because the screen space for the\n    // graph is wide but not high\n    let y = 0;\n    let tries = 0;\n    do {\n      y = getRandomInt(min, max/3);\n      tries++;\n    } while(tries < 20 && (euclidean(x,y,prevX,prevY) < 5 || euclidean(x,y,prevX1,prevY1) < 5));\n    data[`col1`] = `${y}`;\n    prevX1 = prevX;\n    prevY1 = prevY;\n    prevX = x;\n    prevY = y;\n    arr.push(data);\n  }\n  return arr;\n}\n\n// Create len circular-ish XY coordinates for graph in range min to max for\n// Warshall's\nexport const makeXYCoordsCircular = (len, min, max) => {\n  const unitAngle = (2 * Math.PI) / len;\n  const radius = (max-min)/6; // height on screen is limited\n  const midX = (max-min)/2;\n  const midY = 1 + (max-min)/6; // avoid X axis\n  let arr = [];\n  for (let i = 0; i < len; i += 1) {\n    let data = {};\n    let x = Math.round(midX + (Math.cos(Math.PI+unitAngle*i) * radius));\n    let y = Math.round(midY + (Math.sin(Math.PI+unitAngle*i) * radius));\n    data[`col0`] = `${x}`;\n    data[`col1`] = `${y}`;\n    arr.push(data);\n  }\n  return arr;\n}\n\n// Euclidean distance between two points (rounded up)\n// We round up so we can have the choice of admissible and inadmissible\n// heuristics in A* more easily (and avoid floating point)\nexport const euclidean = (x1, y1, x2, y2) => {\n  return Math.ceil(Math.sqrt(Math.pow(x1-x2, 2) + Math.pow(y1-y2, 2)));\n}\n\n// Manhattan distance between two points\nexport const manhattan = (x1, y1, x2, y2) => {\n  return Math.abs(x1-x2) + Math.abs(y1-y2);\n}\n\n\nexport const balanceBSTArray = (nodes) => {\n  class TreeNode {\n    constructor(value) {\n      this.value = value;\n      this.left = null;\n      this.right = null;\n    }\n  }\n  const insertNode = (array) => {\n    if (array.length === 0) {\n      return null;\n    }\n    const midpoint = Math.floor(array.length / 2);\n    const root = new TreeNode(array[midpoint]);\n    root.left = insertNode(array.slice(0, midpoint));\n    root.right = insertNode(array.slice(midpoint + 1));\n    return root;\n  };\n\n  const buildBalancedBST = (array) => {\n    const root = insertNode(array);\n    return root;\n  };\n\n  const levelOrderTraversal = (root) => {\n    const output = [];\n    const queue = new Denque();\n    queue.push(root);\n    while (!queue.isEmpty()) {\n      const element = queue.shift();\n      if (element !== null) {\n        output.push(element.value);\n        queue.push(element.left);\n        queue.push(element.right);\n      }\n    }\n    return output;\n  };\n  const BST = buildBalancedBST(nodes);\n  const balancedBST = levelOrderTraversal(BST);\n  return balancedBST;\n};\n\nexport const shuffleArray = (array) => {\n  // eslint-disable-next-line no-plusplus\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    const temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n  return array;\n};\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport '../../styles/ControlButton.scss';\n\nfunction ControlButton(props) {\n  const {\n    icon, type, disabled, onClick, children,\n  } = props;\n  return (\n    <button\n      type=\"button\"\n      className={disabled ? `btnDisabled ${type}` : `btnActive ${type}`}\n      disabled={disabled}\n      onClick={onClick}\n      {...props}\n    >\n      {icon || children}\n    </button>\n  );\n}\n\nexport default ControlButton;\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgRefresh(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 489.533 489.533\",\n    style: {\n      enableBackground: \"new 0 0 489.533 489.533\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M268.175,488.161c98.2-11,176.9-89.5,188.1-187.7c14.7-128.4-85.1-237.7-210.2-239.1v-57.6c0-3.2-4-4.9-6.7-2.9 l-118.6,87.1c-2,1.5-2,4.4,0,5.9l118.6,87.1c2.7,2,6.7,0.2,6.7-2.9v-57.5c87.9,1.4,158.3,76.2,152.3,165.6 c-5.1,76.9-67.8,139.3-144.7,144.2c-81.5,5.2-150.8-53-163.2-130c-2.3-14.3-14.8-24.7-29.2-24.7c-17.9,0-31.9,15.9-29.1,33.6 C49.575,418.961,150.875,501.261,268.175,488.161z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgRefresh);\nexport default __webpack_public_path__ + \"static/media/refresh.3d70a433.svg\";\nexport { ForwardRef as ReactComponent };","const openInstructions = () => {\n  const instruction = document.getElementById('coverShowInstructions');\n  if (instruction !== null) {\n    instruction.style.display = 'block';\n  }\n};\n\nexport const closeInstructions = () => {\n  const instruction = document.getElementById('coverShowInstructions');\n  if (instruction !== null) {\n    instruction.style.display = 'none';\n  }\n};\n\nexport default openInstructions;","/* eslint-disable react/prop-types */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useContext,useEffect } from 'react';\nimport ControlButton from '../../../components/common/ControlButton';\nimport { closeInstructions } from '../../../components/mid-panel/helper';\nimport { GlobalContext } from '../../../context/GlobalState';\nimport '../../../styles/Param.scss';\n\n//SIM Event - DanistyWuKids\nconst mouseClickEvents = ['mousedown', 'click', 'mouseup'];\nfunction simulateMouseClick(element){\n  mouseClickEvents.forEach(mouseEventType => element.dispatchEvent(new MouseEvent(mouseEventType, {view: window,bubbles: true,cancelable: true,buttons: 1})));\n}\n\n/**\n * The ParamForm wraps a input, icon(optional) and a button.\n */\nfunction ParamForm(props) {\n  const {\n    formClassName, name, buttonName, value,\n    onChange, handleSubmit, children, disabled,\n  } = props;\n  // eslint-disable-next-line\n  const { algorithm } = useContext(GlobalContext);\n\n  const closeInstructionsFun = () => {\n    if (algorithm.name === 'Quicksort') {\n      // setQuicksortPlay(false)\n      sessionStorage.setItem('isPivot', false);\n      sessionStorage.setItem('quicksortPlay', false);\n    }\n    closeInstructions();\n  };\n\n  useEffect(() => {var element = document.querySelector('button[id=\"startBtnGrp\"]');simulateMouseClick(element);},[]);\n\n  return (\n    <form className={formClassName} onSubmit={handleSubmit}>\n      <div className=\"outerInput\">\n        <label className=\"inputText\">\n          <input\n            name={name}\n            type=\"text\"\n            value={value}\n            onChange={onChange}\n          />\n        </label>\n        <div className=\"btnGrp\">\n          {/** this children is left to add icons */}\n          {children}\n          <ControlButton\n            className={disabled ? 'blueWordBtnDisabled' : 'blueWordBtn'}\n            onClick={closeInstructionsFun}\n            id=\"startBtnGrp\"\n            type=\"submit\"\n            disabled={disabled}\n          >\n            {buttonName}\n          </ControlButton>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default ParamForm;\n","/* eslint-disable no-prototype-builtins */\nimport { useState, useContext } from 'react';\nimport { GlobalContext } from './GlobalState';\n\nfunction useParam(DEFAULT_VALUE) {\n  const { algorithm, dispatch } = useContext(GlobalContext);\n  const disabled = algorithm.hasOwnProperty('visualisers') && algorithm.playing;\n  const [paramVal, setParamVal] = useState(DEFAULT_VALUE);\n\n  return {\n    algorithm,\n    dispatch,\n    disabled,\n    paramVal,\n    setParamVal,\n  };\n}\n\nexport default useParam;\n","/* eslint-disable react/prop-types */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport ControlButton from '../../../components/common/ControlButton';\nimport '../../../styles/Param.scss';\nimport { ReactComponent as RefreshIcon } from '../../../assets/icons/refresh.svg';\nimport { GlobalActions } from '../../../context/actions';\nimport ParamForm from './ParamForm';\nimport {\n  commaSeparatedNumberListValidCheck,\n  genRandNumList,\n  errorParamMsg,\n} from './ParamHelper';\n\nimport useParam from '../../../context/useParam';\n\n/**\n * This list param component can be used when\n * the param input accepts a list\n */\nfunction ListParam({\n  name, buttonName, mode, DEFAULT_VAL, SET_VAL, REFRESH_FUNCTION, ALGORITHM_NAME,\n  EXAMPLE, formClassName, handleSubmit, setMessage\n}) {\n  const {\n    dispatch,\n    disabled,\n    // paramVal,\n    // setParamVal,\n  } = useParam(DEFAULT_VAL);\n\n  /**\n   * The default function that uses the list of values to\n   * run an animation. It will check whether the input list\n   * is valid first.\n   */\n  const handleDefaultSubmit = (e) => {\n    e.preventDefault();\n    const inputValue = e.target[0].value.replace(/\\s+/g, '');\n    if (commaSeparatedNumberListValidCheck(inputValue)) {\n      const nodes = inputValue.split`,`.map((x) => +x);\n      // SET_VAL(nodes);\n      // run animation\n      dispatch(GlobalActions.RUN_ALGORITHM, { name, mode, nodes });\n      //setMessage(successParamMsg(ALGORITHM_NAME));\n    } else {\n      setMessage(errorParamMsg(ALGORITHM_NAME, EXAMPLE));\n    }\n  };\n\n  return (\n    <ParamForm\n      formClassName={formClassName}\n      name={ALGORITHM_NAME}\n      buttonName={buttonName}\n      value={DEFAULT_VAL}\n      disabled={disabled}\n      onChange={(e) => {\n        // console.log(e.target.value);\n        // console.log(e.target.value.split(','));\n        SET_VAL(e.target.value.split(','));\n      }}\n      // If no customized handle function is provided, the default one will be used\n      handleSubmit={\n        handleSubmit && typeof handleSubmit === 'function'\n          ? handleSubmit\n          : handleDefaultSubmit\n      }\n    >\n      <ControlButton\n        icon={<RefreshIcon />}\n        className={disabled ? 'greyRoundBtnDisabled' : 'greyRoundBtn'}\n        id={ALGORITHM_NAME}\n        disabled={disabled}\n        onClick={() => {\n          // console.log(DEFAULT_VAL);\n          let list = genRandNumList(DEFAULT_VAL.length, 1, 100);\n\n          if (REFRESH_FUNCTION !== undefined) {\n            // refresh function is simply a function that returns a list, in whatever sorted (or random) order as desired\n            list = REFRESH_FUNCTION();\n          }\n          setMessage(null);\n          SET_VAL(list);\n        }}\n      />\n    </ParamForm>\n  );\n}\n\nexport default ListParam;\n","/* eslint-disable no-prototype-builtins */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState } from 'react';\nimport { genRandNumList } from './helpers/ParamHelper';\nimport ListParam from './helpers/ListParam';\nimport '../../styles/Param.scss';\n\nconst DEFAULT_NODES = genRandNumList(10, 1, 100);\nconst HEAP_SORT = 'Heap Sort';\nconst HEAP_SORT_EXAMPLE = 'Please follow the example provided: 0,1,2,3,4';\n\nfunction HeapsortParam() {\n  const [message, setMessage] = useState(null);\n  const [nodes, setNodes] = useState(DEFAULT_NODES);\n\n  return (\n    <>\n      <div className=\"form\">\n        <ListParam\n          name=\"heapSort\"\n          buttonName=\"Sort\"\n          mode=\"sort\"\n          formClassName=\"formLeft\"\n          DEFAULT_VAL={nodes}\n          SET_VAL={setNodes}\n          ALGORITHM_NAME={HEAP_SORT}\n          EXAMPLE={HEAP_SORT_EXAMPLE}\n          setMessage={setMessage}\n        />\n      </div>\n\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default HeapsortParam;\n","/* eslint-disable no-console */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport '../../../styles/Param.scss';\nimport { GlobalActions } from '../../../context/actions';\nimport ParamForm from './ParamForm';\nimport {\n  singleNumberValidCheck,\n  successParamMsg,\n  errorParamMsg,\n} from './ParamHelper';\n\nimport useParam from '../../../context/useParam';\n\n/**\n * This single value param component can be used when\n * the param input accepts a single number\n */\nfunction SingleValueParam({\n  name, buttonName, mode, DEFAULT_VAL, ALGORITHM_NAME,\n  EXAMPLE, formClassName, handleSubmit, setMessage,\n}) {\n  const {\n    dispatch,\n    disabled,\n    paramVal,\n    setParamVal,\n  } = useParam(DEFAULT_VAL);\n\n  /**\n   * The default function that uses the single value to\n   * run an animation. It will check whether the input number\n   * is valid first.\n   */\n  const handleDefaultSubmit = (e) => {\n    e.preventDefault();\n    const inputValue = e.target[0].value;\n\n    if (singleNumberValidCheck(inputValue)) {\n      const target = parseInt(inputValue, 10);\n      setParamVal(target);\n\n      // TODO: need to be removed when these two algorithms are done\n      if (!(name === 'transitiveClosure' || name === 'prim')) {\n        // run animation\n        dispatch(GlobalActions.RUN_ALGORITHM, { name, mode, target });\n      }\n      setMessage(successParamMsg(ALGORITHM_NAME));\n    } else {\n      setMessage(errorParamMsg(ALGORITHM_NAME, EXAMPLE));\n    }\n  };\n\n  return (\n    <ParamForm\n      formClassName={formClassName}\n      name={ALGORITHM_NAME}\n      buttonName={buttonName}\n      value={paramVal}\n      disabled={disabled}\n      onChange={(e) => setParamVal(e.target.value)}\n      // If no customized handle function is provided, the default one will be used\n      handleSubmit={\n        handleSubmit && typeof handleSubmit === 'function'\n          ? handleSubmit\n          : handleDefaultSubmit\n      }\n    />\n  );\n}\n\nexport default SingleValueParam;\n","/* eslint-disable no-prototype-builtins */\n/* eslint-disable max-len */\n/* eslint-disable no-console */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState, useContext, useEffect } from 'react';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { withStyles } from '@mui/styles';\nimport { GlobalContext } from '../../context/GlobalState';\nimport { GlobalActions } from '../../context/actions';\nimport ListParam from './helpers/ListParam';\nimport SingleValueParam from './helpers/SingleValueParam';\nimport '../../styles/Param.scss';\nimport {\n  singleNumberValidCheck,\n  genRandNumList,\n  successParamMsg,\n  errorParamMsg,\n  balanceBSTArray,\n  shuffleArray,\n} from './helpers/ParamHelper';\n\n// import useParam from '../../context/useParam';\n\nconst DEFAULT_NODES = genRandNumList(10, 1, 100);\nconst DEFAULT_TARGET = '2';\nconst INSERTION = 'insertion';\nconst SEARCH = 'search';\nconst INSERTION_EXAMPLE = 'Please follow the example provided: 0,1,2,3,4';\nconst SEARCH_EXAMPLE = 'Please follow the example provided: 16';\nconst UNCHECKED = {\n  random: false,\n  sorted: false,\n  balanced: false,\n};\n\nconst BlueRadio = withStyles({\n  root: {\n    color: '#2289ff',\n    '&$checked': {\n      color: '#027aff',\n    },\n  },\n  checked: {},\n  // eslint-disable-next-line react/jsx-props-no-spreading\n})((props) => <Radio {...props} />);\n\nfunction BSTParam() {\n  const { algorithm, dispatch } = useContext(GlobalContext);\n  const [message, setMessage] = useState(null);\n  const [nodes, setNodes] = useState(DEFAULT_NODES);\n  const [bstCase, setBSTCase] = useState({\n    random: true,\n    sorted: false,\n    balanced: false,\n  });\n\n  const handleChange = (e) => {\n    switch (e.target.name) {\n      case 'random':\n        setNodes(shuffleArray(nodes));\n        break;\n      case 'sorted':\n        setNodes([...nodes].sort((a, b) => a - b));\n        break;\n      case 'balanced':\n        setNodes(balanceBSTArray([...nodes].sort((a, b) => a - b)));\n        break;\n      default:\n    }\n\n    setBSTCase({ ...UNCHECKED, [e.target.name]: true });\n  };\n  /**\n   * For BST, since we need to insert nodes before run the search algorithm,\n   * therefore we need some extra check to make sure the tree is not empty.\n   * So we need to implement a new handle function instead of using the default one.\n   */\n  const handleSearch = (e) => {\n    e.preventDefault();\n    const inputValue = e.target[0].value;\n\n    if (singleNumberValidCheck(inputValue)) {\n      const target = parseInt(inputValue, 10);\n      // make sure the tree is not empty\n      if (\n        algorithm.hasOwnProperty('visualisers')\n        && !algorithm.visualisers.graph.instance.isEmpty()\n      ) {\n        const visualiser = algorithm.chunker.visualisers;\n        // run search animation\n        dispatch(GlobalActions.RUN_ALGORITHM, {\n          name: 'binarySearchTree',\n          mode: 'search',\n          visualiser,\n          target,\n        });\n        setMessage(successParamMsg(SEARCH));\n      } else {\n        // when the tree is &nbsp;&nbsp;empty\n        setMessage(\n          errorParamMsg(\n            SEARCH,\n            undefined,\n            'Please fully build the tree before running a search.',\n          ),\n        );\n      }\n    } else {\n      // when the input cannot be converted to a number\n      setMessage(errorParamMsg(SEARCH, SEARCH_EXAMPLE));\n    }\n  };\n\n  useEffect(\n    () => {\n      document.getElementById('startBtnGrp').click();\n    },\n    [bstCase],\n  );\n\n  return (\n    <>\n      <div className=\"form\">\n        {/* Insert input */}\n        <ListParam\n          name=\"binarySearchTree\"\n          buttonName=\"Insert\"\n          mode=\"insertion\"\n          formClassName=\"formLeft\"\n          DEFAULT_VAL={(() => {\n            if (bstCase.balanced) {\n              return balanceBSTArray([...nodes].sort((a, b) => a - b));\n            } if (bstCase.sorted) {\n              return [...nodes].sort((a, b) => a - b);\n            }\n            return nodes;\n          })()}\n          SET_VAL={setNodes}\n          ALGORITHM_NAME={INSERTION}\n          EXAMPLE={INSERTION_EXAMPLE}\n          setMessage={setMessage}\n        />\n\n        {/* Search input */}\n        <SingleValueParam\n          name=\"binarySearchTree\"\n          buttonName=\"Search\"\n          mode=\"search\"\n          formClassName=\"formRight\"\n          DEFAULT_VAL={DEFAULT_TARGET}\n          ALGORITHM_NAME={SEARCH}\n          EXAMPLE={SEARCH_EXAMPLE}\n          handleSubmit={handleSearch}\n          setMessage={setMessage}\n        />\n      </div>\n      <span className=\"generalText\">Choose type of tree: &nbsp;&nbsp;</span>\n      <FormControlLabel\n        control={(\n          <BlueRadio\n            checked={bstCase.random}\n            onChange={handleChange}\n            name=\"random\"\n          />\n        )}\n        label=\"Random\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={(\n          <BlueRadio\n            checked={bstCase.sorted}\n            onChange={handleChange}\n            name=\"sorted\"\n          />\n        )}\n        label=\"Sorted\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={(\n          <BlueRadio\n            checked={bstCase.balanced}\n            onChange={handleChange}\n            name=\"balanced\"\n          />\n        )}\n        label=\"Balanced\"\n        className=\"checkbox\"\n      />\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default BSTParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { withStyles } from '@mui/styles';\nimport { genRandNumList, quicksortPerfectPivotArray } from './helpers/ParamHelper';\nimport ListParam from './helpers/ListParam';\nimport '../../styles/Param.scss';\n\nconst DEFAULT_ARRAY_GENERATOR = genRandNumList.bind(null, 12, 1, 50);\nconst DEFAULT_ARR = DEFAULT_ARRAY_GENERATOR();\nconst QUICK_SORT = 'Quick Sort';\nconst QUICK_SORT_EXAMPLE = 'Please follow the example provided: 0,1,2,3,4';\nconst UNCHECKED = {\n  random: false,\n  sortedAsc: false,\n  bestCase: false,\n  sortedDesc: false\n};\n\nconst BlueRadio = withStyles({\n  root: {\n    color: '#2289ff',\n    '&$checked': {\n      color: '#027aff',\n    },\n  },\n  checked: {},\n  // eslint-disable-next-line react/jsx-props-no-spreading\n})((props) => <Radio {...props} />)\n\nfunction QuicksortParam() {\n  const [message, setMessage] = useState(null)\n  const [array, setArray] = useState(DEFAULT_ARR)\n  const [QSCase, setQSCase] = useState({\n    random: true,\n    sortedAsc: false,\n    bestCase: false,\n    sortedDesc: false\n  });\n\n    \n\n  // function for choosing the type of pivot (median of three)\n  const handleChange = (e) => {\n    switch (e.target.name) {\n      case 'sortedAsc':\n        setArray([...array].sort(function(a,b) {\n         return (+a) - (+b)\n        }));\n        break;\n      case 'sortedDesc':\n        setArray([...array].sort(function(a,b) {\n          return (+b) - (+a)\n         }));\n         break;\n      case 'random':\n        setArray(DEFAULT_ARRAY_GENERATOR());\n        break;\n      case 'bestCase':\n        setArray(quicksortPerfectPivotArray(Math.floor(Math.random() * 10), 25+(Math.floor(Math.random()*25))));\n        break;\n      default:\n        break;\n    }\n\n    setQSCase({ ...UNCHECKED, [e.target.name]: true })\n\n  }\n\n  useEffect(\n    () => {\n      document.getElementById('startBtnGrp').click();\n    },\n    [QSCase],\n  );\n\n  return (\n    <>\n      <div className=\"form\">\n        <ListParam\n          name=\"quickSort\"\n          buttonName=\"Reset\"\n          mode=\"sort\"\n          formClassName=\"formLeft\"\n          DEFAULT_VAL={array}\n          SET_VAL={setArray}\n          REFRESH_FUNCTION={\n            (() => {\n              if (QSCase.sortedAsc) {\n                return () => {\n                  return (DEFAULT_ARRAY_GENERATOR().sort(function (a,b) {\n                    return (+a) - (+b)\n                 }));\n                }\n              }\n              else if (QSCase.sortedDesc) {\n                return () => {\n                  return (DEFAULT_ARRAY_GENERATOR().sort(function (a,b) {\n                    return (+b) - (+a)\n                 }));\n                }\n              }\n              else if(QSCase.bestCase) {\n                return () => quicksortPerfectPivotArray(Math.floor(Math.random() * 10), 25+(Math.floor(Math.random()*25)));\n              }\n            })()\n          }\n          ALGORITHM_NAME={QUICK_SORT}\n          EXAMPLE={QUICK_SORT_EXAMPLE}\n          setMessage={setMessage}\n        />\n      </div>\n      <span className=\"generalText\">Choose input format: &nbsp;&nbsp;</span>\n      {/* create a checkbox for Random array elements */}\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSCase.random}\n            onChange={handleChange}\n            name=\"random\"\n          />\n        }\n        label=\"Random\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSCase.sortedAsc}\n            onChange={handleChange}\n            name=\"sortedAsc\"\n          />\n        }\n        label=\"Sorted (ascending)\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSCase.sortedDesc}\n            onChange={handleChange}\n            name=\"sortedDesc\"\n          />\n        }\n        label=\"Sorted (descending)\"\n        className=\"checkbox\"\n      />\n      {/* create a checkbox for Median of Three */}\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSCase.bestCase}\n            onChange={handleChange}\n            name=\"bestCase\"\n          />\n        }\n        label=\"Ideal\"\n        className=\"checkbox\"\n      />\n      {/* render success/error message */}\n      {message}\n    </>\n  )\n}\n\nexport default QuicksortParam\n","// Adapted from Quicksort - could rename a few things\n\n/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { withStyles } from '@mui/styles';\nimport { genRandNumList, quicksortPerfectPivotArray } from './helpers/ParamHelper';\nimport ListParam from './helpers/ListParam';\nimport '../../styles/Param.scss';\n\nconst DEFAULT_ARRAY_GENERATOR = genRandNumList.bind(null, 12, 1, 50);\nconst DEFAULT_ARR = DEFAULT_ARRAY_GENERATOR();\nconst MERGE_SORT = 'Merge Sort';\nconst MERGE_SORT_EXAMPLE = 'Please follow the example provided: 0,1,2,3,4';\nconst UNCHECKED = {\n  random: false,\n  sortedAsc: false,\n  // bestCase: false,\n  sortedDesc: false\n};\n\nconst BlueRadio = withStyles({\n  root: {\n    color: '#2289ff',\n    '&$checked': {\n      color: '#027aff',\n    },\n  },\n  checked: {},\n  // eslint-disable-next-line react/jsx-props-no-spreading\n})((props) => <Radio {...props} />)\n\nfunction MergesortParam() {\n  const [message, setMessage] = useState(null)\n  const [array, setArray] = useState(DEFAULT_ARR)\n  const [QSCase, setQSCase] = useState({\n    random: true,\n    sortedAsc: false,\n    // bestCase: false,\n    sortedDesc: false\n  });\n\n    \n\n// XXX best case definitely not needed; could skip choice of cases\n  // function for choosing the type of input\n  const handleChange = (e) => {\n    switch (e.target.name) {\n      case 'sortedAsc':\n        setArray([...array].sort(function(a,b) {\n         return (+a) - (+b)\n        }));\n        break;\n      case 'sortedDesc':\n        setArray([...array].sort(function(a,b) {\n          return (+b) - (+a)\n         }));\n         break;\n      case 'random':\n        setArray(DEFAULT_ARRAY_GENERATOR());\n        break;\n      case 'bestCase':\n        setArray(quicksortPerfectPivotArray(Math.floor(Math.random() * 10), 25+(Math.floor(Math.random()*25))));\n        break;\n      default:\n        break;\n    }\n\n    setQSCase({ ...UNCHECKED, [e.target.name]: true })\n\n  }\n\n  useEffect(\n    () => {\n      document.getElementById('startBtnGrp').click();\n    },\n    [QSCase],\n  );\n\n  return (\n    <>\n      <div className=\"form\">\n        <ListParam\n          name=\"msort_arr_td\"\n          buttonName=\"Reset\"\n          mode=\"sort\"\n          formClassName=\"formLeft\"\n          DEFAULT_VAL={array}\n          SET_VAL={setArray}\n          REFRESH_FUNCTION={\n            (() => {\n              if (QSCase.sortedAsc) {\n                return () => {\n                  return (DEFAULT_ARRAY_GENERATOR().sort(function (a,b) {\n                    return (+a) - (+b)\n                 }));\n                }\n              }\n              else if (QSCase.sortedDesc) {\n                return () => {\n                  return (DEFAULT_ARRAY_GENERATOR().sort(function (a,b) {\n                    return (+b) - (+a)\n                 }));\n                }\n              }\n              else if(QSCase.bestCase) {\n                return () => quicksortPerfectPivotArray(Math.floor(Math.random() * 10), 25+(Math.floor(Math.random()*25)));\n              }\n            })()\n          }\n          ALGORITHM_NAME={MERGE_SORT}\n          EXAMPLE={MERGE_SORT_EXAMPLE}\n          setMessage={setMessage}\n        />\n      </div>\n      <span className=\"generalText\">Choose input format: &nbsp;&nbsp;</span>\n      {/* create a checkbox for Random array elements */}\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSCase.random}\n            onChange={handleChange}\n            name=\"random\"\n          />\n        }\n        label=\"Random\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSCase.sortedAsc}\n            onChange={handleChange}\n            name=\"sortedAsc\"\n          />\n        }\n        label=\"Sorted (ascending)\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSCase.sortedDesc}\n            onChange={handleChange}\n            name=\"sortedDesc\"\n          />\n        }\n        label=\"Sorted (descending)\"\n        className=\"checkbox\"\n      />\n      {/* render success/error message */}\n      {message}\n    </>\n  )\n}\n\nexport default MergesortParam\n","// Adapted from Quicksort - could rename a few things\n\n/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { withStyles } from '@mui/styles';\nimport { genRandNumList, quicksortPerfectPivotArray } from './helpers/ParamHelper';\nimport ListParam from './helpers/ListParam';\nimport '../../styles/Param.scss';\n\nconst DEFAULT_ARRAY_GENERATOR = genRandNumList.bind(null, 12, 1, 50);\nconst DEFAULT_ARR = DEFAULT_ARRAY_GENERATOR();\nconst MERGE_SORT = 'Merge Sort (lists)';\nconst MERGE_SORT_EXAMPLE = 'Please follow the example provided: 0,1,2,3,4';\nconst UNCHECKED = {\n  random: false,\n  sortedAsc: false,\n  // bestCase: false,\n  sortedDesc: false\n};\n\nconst BlueRadio = withStyles({\n  root: {\n    color: '#2289ff',\n    '&$checked': {\n      color: '#027aff',\n    },\n  },\n  checked: {},\n  // eslint-disable-next-line react/jsx-props-no-spreading\n})((props) => <Radio {...props} />)\n\nfunction MergesortParam() {\n  const [message, setMessage] = useState(null)\n  const [array, setArray] = useState(DEFAULT_ARR)\n  const [QSCase, setQSCase] = useState({\n    random: true,\n    sortedAsc: false,\n    // bestCase: false,\n    sortedDesc: false\n  });\n\n    \n\n// XXX best case definitely not needed; could skip choice of cases\n  // function for choosing the type of input\n  const handleChange = (e) => {\n    switch (e.target.name) {\n      case 'sortedAsc':\n        setArray([...array].sort(function(a,b) {\n         return (+a) - (+b)\n        }));\n        break;\n      case 'sortedDesc':\n        setArray([...array].sort(function(a,b) {\n          return (+b) - (+a)\n         }));\n         break;\n      case 'random':\n        setArray(DEFAULT_ARRAY_GENERATOR());\n        break;\n      case 'bestCase':\n        setArray(quicksortPerfectPivotArray(Math.floor(Math.random() * 10), 25+(Math.floor(Math.random()*25))));\n        break;\n      default:\n        break;\n    }\n\n    setQSCase({ ...UNCHECKED, [e.target.name]: true })\n\n  }\n\n  useEffect(\n    () => {\n      document.getElementById('startBtnGrp').click();\n    },\n    [QSCase],\n  );\n\n  // XXX some QSCase.bestCase etc junk best cleaned up\n  return (\n    <>\n      <div className=\"form\">\n        <ListParam\n          name=\"msort_lista_td\"\n          buttonName=\"Reset\"\n          mode=\"sort\"\n          formClassName=\"formLeft\"\n          DEFAULT_VAL={array}\n          SET_VAL={setArray}\n          REFRESH_FUNCTION={\n            (() => {\n              if (QSCase.sortedAsc) {\n                return () => {\n                  return (DEFAULT_ARRAY_GENERATOR().sort(function (a,b) {\n                    return (+a) - (+b)\n                 }));\n                }\n              }\n              else if (QSCase.sortedDesc) {\n                return () => {\n                  return (DEFAULT_ARRAY_GENERATOR().sort(function (a,b) {\n                    return (+b) - (+a)\n                 }));\n                }\n              }\n              else if(QSCase.bestCase) {\n                return () => quicksortPerfectPivotArray(Math.floor(Math.random() * 10), 25+(Math.floor(Math.random()*25)));\n              }\n            })()\n          }\n          ALGORITHM_NAME={MERGE_SORT}\n          EXAMPLE={MERGE_SORT_EXAMPLE}\n          setMessage={setMessage}\n        />\n      </div>\n      <span className=\"generalText\">Choose input format: &nbsp;&nbsp;</span>\n      {/* create a checkbox for Random array elements */}\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSCase.random}\n            onChange={handleChange}\n            name=\"random\"\n          />\n        }\n        label=\"Random\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSCase.sortedAsc}\n            onChange={handleChange}\n            name=\"sortedAsc\"\n          />\n        }\n        label=\"Sorted (ascending)\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSCase.sortedDesc}\n            onChange={handleChange}\n            name=\"sortedDesc\"\n          />\n        }\n        label=\"Sorted (descending)\"\n        className=\"checkbox\"\n      />\n      {/* render success/error message */}\n      {message}\n    </>\n  )\n}\n\nexport default MergesortParam\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { useTable } from 'react-table';\nimport EditableCell from './EditableCell';\nimport '../../../styles/Param.scss';\n\n// Set editable cell renderer as the default Cell renderer\nconst defaultColumn = {\n  Cell: EditableCell,\n};\n\n/**\n * Table component\n */\nfunction Table({\n  columns,\n  data,\n  updateData,\n  algo,\n}) {\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    prepareRow,\n    rows,\n  } = useTable({\n    columns,\n    data,\n    defaultColumn,\n    updateData,\n    algo,\n  }); \n\n\n  // add the header in left side of table\n  let counter = 0;\n  const incrementCounter = () => { counter += 1; };\n  // Render the table\n  return (\n    <div className=\"table\">\n      <table {...getTableProps()}>\n        <thead>\n          {headerGroups.map((headerGroup) => (\n            <tr {...headerGroup.getHeaderGroupProps()}>\n              <th>Node</th>\n              {headerGroup.headers.map((column) => (\n                <th {...column.getHeaderProps()}>{column.render('Header')}</th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n          {rows.map((row) => {\n            prepareRow(row);\n            return (\n              <tr {...row.getRowProps()}>\n                <th {...incrementCounter()}>{counter}</th>\n                {row.cells.map((cell) => <td {...cell.getCellProps()}>{cell.render('Cell')}</td>)}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  ); \n\n  \n}\n\nexport default Table;\n","/* eslint-disable react/prop-types */\nimport React, { useEffect, useState } from 'react';\n\n/**\n * Cell component\n */\nconst EditableCell = ({\n  value: initialValue,\n  row: { index },\n  column: { id },\n  updateData,\n  algo,\n}) => {\n  const [value, setValue] = useState(initialValue || 0);\n\n  const onChange = (e) => { \n    let newValue = e.target.value; \n\n    // Ensure only numeric values are allowed\n    if (!/^\\d+$/.test(newValue) && newValue !== \"\") {\n      return;\n    } \n\n    // Remove leading zeros\n    newValue = String(parseInt(newValue, 10) || 0);\n\n    if (algo === 'transitiveClosure' || algo === 'BFS'\n    || algo === 'DFS') {\n      // eslint-disable-next-line radix\n      if (parseInt(newValue) > 1) {\n        newValue = '1';\n      }\n      // eslint-disable-next-line radix\n      if (parseInt(newValue) < 0) {\n        newValue = '0';\n      }\n      // window.alert(id[3]);\n      // eslint-disable-next-line radix\n      if (index === parseInt(id[3])) {\n        newValue = '1';\n      }\n    }  \n  \n    //make sure the diagonal is 0\n    if (algo != 'transitiveClosure'){\n      if (index === parseInt(id[3])) {\n        newValue = '0';\n      }\n    }\n\n\n    if (newValue === \"\") {\n      newValue = '0';\n    }  \n    \n    setValue(newValue); \n    \n    \n    \n    //setValue(e.target.value); \n\n    // Update data immediately on value change\n    updateData(index, id, newValue);\n  };\n\n  // update the data when the input is blurred\n  const onBlur = () => {\n    //updateData(index, id, value);\n  }; \n  \n \n\n\n  // If the initialValue is changed external,\n  // sync it up with the initial state\n  useEffect(() => {\n    setValue(initialValue || 0);\n  }, [initialValue]);\n\n  return <input value={value} onChange={onChange} onBlur={onBlur} />;\n};\n\nexport default EditableCell;\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgAdd(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"426.66667pt\",\n    viewBox: \"0 0 426.66667 426.66667\",\n    width: \"426.66667pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m405.332031 192h-170.664062v-170.667969c0-11.773437-9.558594-21.332031-21.335938-21.332031-11.773437 0-21.332031 9.558594-21.332031 21.332031v170.667969h-170.667969c-11.773437 0-21.332031 9.558594-21.332031 21.332031 0 11.777344 9.558594 21.335938 21.332031 21.335938h170.667969v170.664062c0 11.777344 9.558594 21.335938 21.332031 21.335938 11.777344 0 21.335938-9.558594 21.335938-21.335938v-170.664062h170.664062c11.777344 0 21.335938-9.558594 21.335938-21.335938 0-11.773437-9.558594-21.332031-21.335938-21.332031zm0 0\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgAdd);\nexport default __webpack_public_path__ + \"static/media/add.89fe7bf6.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgMinus(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"121.805px\",\n    height: \"121.804px\",\n    viewBox: \"0 0 121.805 121.804\",\n    style: {\n      enableBackground: \"new 0 0 121.805 121.804\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.308,68.211h107.188c4.037,0,7.309-3.272,7.309-7.31c0-4.037-3.271-7.309-7.309-7.309H7.308 C3.272,53.593,0,56.865,0,60.902C0,64.939,3.272,68.211,7.308,68.211z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinus);\nexport default __webpack_public_path__ + \"static/media/minus.ed1583fb.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/button-has-type */\n/* eslint-disable react/prop-types */\n\n// Support for graphs with Euclidean (X-Y) coordinates defined for each\n// node. In flux currently. Student version used tables only for input of\n// graphs - lots of screen real-estate.  Also a bunch of other problems\n// and annoyances/limitations.  Now supports input of X-Y cordinates\n// and edges/weights via text boxes, plus having predefined example\n// graphs, allowing user-defined weights as well as Euclidean/Manhattan\n// weights based on X-Y coordinates, etc. Also start node and end nodes\n// (latter is optional - start nodes should be also). Old input method still\n// supported if you scroll down - could delete eventually but doesn't do\n// much harm if its off-screen, though it hides error messages.\n// NOTE: There are (at least) three different representations for\n// graphs: strings (the \"new\" one - comma separated pairs of numbers etc)\n// the one for rendering tables (YUK!), and more sensible 2D edge\n// matrix (plus coordinates). These must be kept synchronised, and\n// synchronised with the representation used for rendering the graph at\n// certain points (a separate representation again with code elsewhere).\n// It's a bit tricky because setState in React is asynchronous - if you\n// call setState then immediately read the state it will be the old\n// state returned.  It's particularly tricky with size.  Basically,\n// whenever anything is changed, you want to have the changed value in a\n// local variable thats passed around as needed, rather than relying on\n// the state version, which might be out of date. The flow of control\n// through normal function calls + also the calls that are triggered\n// through useEffect and UI interactions is also rather tricky.  Best\n// minimise triggering if you want to not tax your brain too much.\n// CURRENT STATUS:\n// Text boxes for data input are there and there are sample graphs with\n// switch to select them or random, coordinate data copied and size\n// updated accordingly and edge/coordinate data is copied to tables.\n// Data input from tables also gets reflected in text boxes.\n// Example graphs passed in from algorithm; one random graph option\n// added here. Input + editing of start node and optional end nodes\n// (if the initial value is null, end nodes are not displayed and thus\n// can't be changed). Temp changed to only have a single end node to\n// re-use display code and avoid extra testing for A*. Optional\n// weight and heuristic function toggles.\n// TO DO:\n// Work more on input data display - use sccs for everything, define\n// new classes etc instead of just reusing existing ones, rethink some\n// input methods (such as size + start) to reduce screen space required.\n// Size adjustment should just trim/grow tables etc instead of\n// regenerating a random graph each time. However, it would also be nice\n// to easily generate new random graphs of a given size.\n// Better random graph creation? Seems like there are default\n// functions for creating a random graph in the renderer but no way of\n// getting from there to the data input display - could get some ideas\n// from that but it's not too bad as is.\n// Rethink (and probably delete) stuff for re-setting values - doesn't\n// seem like it's needed now.\n// FiXXX BUG: sometimes if you try to edit a matrix cell with a backspace\n// it \"froze\" and you couldn't change it from zero (no idea why; maybe\n// it's fixed now - hasn't cropped up for a while??).\n// A bunch of other things with XXX comments in code.\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { GlobalActions } from '../../../context/actions';\nimport Table from './Table';\nimport {\n  makeColumnArray,\n  makeColumnCoords,\n  makeXYCoords,\n  makeWeights,\n  euclidean,\n  manhattan,\n  singleNumberValidCheck,\n  errorParamMsg,\n  successParamMsg, matrixValidCheck,\n} from './ParamHelper';\n\nimport useParam from '../../../context/useParam';\nimport { closeInstructions } from '../../../components/mid-panel/helper';\nimport '../../../styles/EuclideanMatrix.scss';\nimport { ReactComponent as RefreshIcon } from '../../../assets/icons/refresh.svg';\nimport { ReactComponent as AddIcon } from '../../../assets/icons/add.svg';\nimport { ReactComponent as MinusIcon } from '../../../assets/icons/minus.svg';\n\nimport ControlButton from '../../../components/common/ControlButton';\nimport { template } from 'lodash';\n// XXX ListParam used here - better to use something simpler - see\n// comments elsewhere (search for ListParam)\nimport ListParam from './ListParam';\nimport '../../../styles/Param.scss';\n\n\n// We have an initial graph that is generated randomly (we could add\n// other graph here that are independent of the algorithm) and other\n// example graphs (passed in from algorithm) are appended onto these\n// XXX best use graph 1 as the default if any sample graphs are supplied\n// and random graph otherwise (messy to do init like this; not sure\n// where to trigger graph change, so we assume there is at least 1 graph\n// supplied)\nconst GRAPHCHOICERAND = 0; // choice 0 is random graph\nlet namesEgsInit = ['Random'];\nconst SIZE_RANDOM = 6;  // size for random graphs - could change\nconst sizeEgsInit = [SIZE_RANDOM];\n// COORDS etc for random graphs will be generated; use anything here\nconst coordsEgsInit = ['1-1'];\nconst edgesEgsInit = ['1-2'];\n\nconst COORDS_EXAMPLE =\n \"Please follow example: 1-1,3-4,4-1,6-6 giving the X-Y coordinates for each of the nodes in the graph.\";\nconst EDGES_EXAMPLE =\n \"Please follow example: 1-2,1-3,2-3,3-2-6,3-4-7 giving NodeA-NodeB-Weight for each in the graph; -Weight is optional and defaults to 1.\";\n\n// SIM Mouse click\nconst mouseClickEvents = ['mousedown', 'click', 'mouseup'];\nfunction simulateMouseClick(element) {\n  // eslint-disable-next-line max-len\n  mouseClickEvents.forEach((mouseEventType) => element.dispatchEvent(new MouseEvent(mouseEventType, {\n    view: window, bubbles: true, cancelable: true, buttons: 1,\n  })));\n}\n\n// This is now used for initialisation in EuclideanMatrixParams so it needs\n// to be outside that function and needs extra parameters passed in\n// It returns [data1, size] in case the size has to change; data1 being\n// null if there is an error\n// Note: if the new size differs from the old size we must also call\n// setData2 or we get into an inconsistent state and the new graph\n// is not rendered until that is done\nconst coordTxt2Data1 = (value, size, ALGORITHM_NAME, setMessage) => {\n  const textInput = value.replace(/\\s+/g, '');\n \n  if (isListofTuples(textInput, 2, 2)) {\n    const coordMatrix =\n      textInput\n        .split(',')\n        .map((pair) => pair.trim().split('-')) ;\n    const newSize = coordMatrix.length;\n    let newData1 = [];\n    for (let i=0; i < coordMatrix.length; i++) {\n      const xyArray = coordMatrix[i];\n      newData1.push({col0: xyArray[0], col1: xyArray[1]});\n    }\n    return [newData1, newSize];\n  } else {\n    setMessage(errorParamMsg(ALGORITHM_NAME, COORDS_EXAMPLE));\n    return [null, size];\n  }\n};\n\n// This is now used for initialisation in EuclideanMatrixParams so it needs\n// to be outside that function and needs extra parameters passed in\n// XXX returns null if there is an error - SHOULD CHECK RETURN VALUE!\nconst edgeTxt2Data2 = (value, size, unweighted, symmetric, setMessage, ALGORITHM_NAME) => {\n  const textInput = value.replace(/\\s+/g, '');\n  // accept pairs and triples; pairs are padded out with default\n  // weight of 1; XXX should check node values are in 1 to size\n  if (isListofTuples(textInput, 2, 3)) {\n    // edgeList represented as 2D array\n    let edgeList =\n      textInput\n        .split(',')\n        .map((pair) => pair.trim().split('-')) ;\n    const newSize = edgeList.length;\n    let newData2 = [];\n    for (let i = 0; i < size; i += 1) {\n      const data = {};\n      for (let j = 0; j < size; j += 1) {\n        data[`col${j}`] = searchEdgeList(edgeList, i+1, j+1, unweighted, symmetric);\n      }\n      newData2.push(data);\n    }\n\n    return newData2;\n  } else {\n    setMessage(errorParamMsg(ALGORITHM_NAME, EDGES_EXAMPLE));\n    return null;\n  }\n};\n\n\n/**\n * This matrix param component can be used when\n * the param input accepts a matrix\n */\nfunction EuclideanMatrixParams({\n  defaultSize,\n  defaultStart,\n  defaultEnd,\n  // XXX should have defaultWeight = 0 (=Euclidean) defined in the\n  // graph traversal parameters; included explicitly in Warshall's\n  defaultWeight = 0, // in case defaultWeight not defined\n  defaultHeur,\n  graphEgs,\n  min,\n  max,\n  name,\n  symmetric,\n  mode,\n  setMessage,\n  ALGORITHM_NAME,\n  EXAMPLE,\n  EXAMPLE2,\n  unweighted,\n  circular\n}) {\n\n  // XXX these get re-evaluated when anything much changes - could\n  // possibly redesign so that doesn't happen; the difficulty is that\n  // they depend on graphEgs, which is passed in as a parameter.  It\n  // would also be nicer to initialize all these together (something I\n  // wrote code for initially but for some reason it didn't quite work)\n  let graphChoiceNum = 1+graphEgs.length; // number of graph choice options\n  // let sizeEgs = [SIZE_RANDOM, 5, 4];\n  // let coordsEgs = ['1-1', COORDS_TXT_EG1, COORDS_TXT_EG2];\n  // let edgesEgs = ['1-1', EDGES_TXT_EG1, EDGES_TXT_EG2];\n  let sizeEgs = graphEgsSizes(graphEgs);\n  let coordsEgs = graphEgsCoords(graphEgs);\n  let edgesEgs = graphEgsEdges(graphEgs);\n  let namesEgs = graphEgsNames(graphEgs);\n  // Now use Example graph 0 passed in rather than random initially\n  const [size, setSize] = useState(graphEgs[0].size);\n\n  // Button toggles Euclidean/Manhattan/As Input for weights\n  const WEIGHTCALCMAX = 3; // number of weight calculation options\n  const W_EUCLIDEAN = 0;\n  const W_MANHATTAN = 1;\n  const W_INPUT = 2; // as defined by input\n  const weightCalcName = ['Euclidean', 'Manhattan', 'As input'];\n  const [weightCalc, setCalcMethod] = useState(defaultWeight);\n\n  // Button toggles Euclidean/Manhattan for heuristic\n  const HEURCALCMAX = 2; // number of heuristic calculation options\n  const H_EUCLIDEAN = 0;\n  const H_MANHATTAN = 1;\n  const heurCalcName = ['Euclidean', 'Manhattan'];\n  const [heurCalc, setHeurCalc] = useState(H_EUCLIDEAN);\n\n  // (size) affects number of columns.\n  const columns1 = useMemo(() => makeColumnCoords(size), [size]);\n  const columns2 = useMemo(() => makeColumnArray(size), [size]);\n  // window.alert(columns.Header);\n  const { dispatch } = useParam();\n\n  // Old version with a table of X-Y coordinates and matrix of edge\n  // weights:\n  // X&Y coordinate table\n  // Now use Example graph 0 passed in rather than random initially\n  //const [data1, setData1] = useState(() => makeXYCoords(size, min, max));\n  const [data1, setData1] =\n    useState(() => coordTxt2Data1(graphEgs[0].coords, graphEgs[0].size, ALGORITHM_NAME, setMessage)[0]);\n  // best delete saving of original data\n  const [originalData1, setOriginalData1] = useState(data1);\n\n  // Edge weight table\n  // We use 1-10 for weights here and elsewhere (should define consts for\n  // these instead); these are the weights for edges - makeWeights has a\n  // separate way of determining if an edge should exist.\n  // const [data2, setData2] = useState(() => makeWeights(size, 1, 10, symmetric, unweighted));\n  const [data2, setData2] =\n    useState(() => edgeTxt2Data2(graphEgs[0].edges, graphEgs[0].size, unweighted, symmetric, setMessage, ALGORITHM_NAME));\n  // best delete saving of original data\n  const [originalData2, setOriginalData2] = useState(data2);\n\n  // New version of graph input:\n  // Text list of pairs for X-Y coordinates, eg 1-4,3-4,4-1,6-5,7-8\n  // and text list or pairs/triples for edges/weights,\n  // eg 1-2,1-3-10,2-3-12,3-4,3-5 where first two numbers are nodes\n  // and third is weight (if third is missing, weight defaults to 1)\n  const [coordsTxt, setCoordsTxt] = useState(graphEgs[0].coords);\n  const [edgesTxt, setEdgesTxt] = useState(graphEgs[0].edges);\n  const [startNode, setStartNode] = useState(defaultStart);\n  // XXX not sure if endNodesTxt needs to be in State\n  const [endNodesTxt, setEndNodesTxt] = useState(nums2Txt(defaultEnd));\n  const [endNodes, setEndNodes] = useState((defaultEnd===null?[]:defaultEnd));\n  // const [graphChoice, setgraphChoice] = useState(GRAPHCHOICERAND);\n  const [graphChoice, setgraphChoice] = useState(1);\n\n//   // reset the XY coordinates when the size changes\n//   // (now done in updateTableSize - this is probably not needed XXX)\n//   useEffect(() => {\n//     const newData1 = makeXYCoords(size, min, max);\n//     setData1(newData1);\n//     setCoordsTxt(getCoordinateList(newData1));\n//     setOriginalData1(newData1);\n//   }, [min, max, symmetric, unweighted]);\n// \n//   // reset the edge weight matrix when the size changes\n//   // (now done in updateTableSize - this is probably not needed XXX)\n//   // XXX Best just trim/extend\n//   useEffect(() => {\n//     const newData2 = makeWeights(size, 1, 10, symmetric, unweighted);\n//     setData2(newData2);\n//     setEdgesTxt(getEdgeList(newData2, size));\n//     setOriginalData2(newData2);\n//   }, [min, max, symmetric, unweighted]);\n\n  // synchonise input data with rendered graph etc\n  // if graph data etc change\n  useEffect(() => {\n    // const element = document.querySelector('button[id=\"startBtnGrp\"]');\n    // simulateMouseClick(element);\n    handleSearch();\n  }, [size, startNode, endNodes, data1, data2, weightCalc, heurCalc]);\n\n  // change graph choice; Note setData1 etc are asynchronous\n  // newSize is passed in for random graphs; if it is zero the default\n  // size for random graphs is used (XXX could use previous size?)\n  const changeGraphChoice = (graphChoice, newSize) => {\n    graphChoice = (graphChoice + 1) % graphChoiceNum;\n    setgraphChoice(graphChoice);\n    if (newSize === 0) {\n       newSize = sizeEgs[graphChoice];\n    }\n    // some repeated code from updateTableSize here...\n    setSize(newSize);\n    if (newSize < startNode)\n        setStartNode(newSize);\n    // remove and end nodes > newSize\n    if (endNodes.some((e) => e > newSize)) {\n      let newEndNodes = endNodes.filter((e) => e <= newSize);\n      if (newEndNodes.length === 0 && ALGORITHM_NAME === 'A* Algorithm')\n        newEndNodes = [newSize];\n      setEndNodesTxt(nums2Txt(newEndNodes));\n      setEndNodes(newEndNodes);\n    }\n    if (graphChoice === GRAPHCHOICERAND) {\n      const edges = makeWeights(newSize, 1, 10, symmetric, unweighted, circular);\n      const coords = makeXYCoords(newSize, min, max, circular);\n      setData1(coords);\n      setCoordsTxt(getCoordinateList(coords));\n      setData2(edges);\n      setEdgesTxt(getEdgeList(edges, newSize));\n    } else {\n      setCoordsTxt(coordsEgs[graphChoice]);\n      setEdgesTxt(edgesEgs[graphChoice]);\n      // setMessage(errorParamMsg(ALGORITHM_NAME, coordsEgs[graphChoice]));\n      // let newData1 = null;\n      // let s1 = null;\n      let [newData1, s1] = coordTxt2Data1(coordsEgs[graphChoice], newSize, ALGORITHM_NAME, setMessage);\n      if (newData1 !== null)\n        setData1(newData1);\n      setData2(edgeTxt2Data2(edgesEgs[graphChoice], newSize, unweighted, symmetric, setMessage, ALGORITHM_NAME));\n    }\n  };\n\n  // Update number of nodes\n  // useEffect() triggers handleSearch() to update animation\n  // XXX currently generates new random graph - best avoid so\n  // any displayed graph can be edited with this easily\n  // XXX alternative to explicit size adjustment is just editing the\n  // coordinates to add/delete some (which works), but it would be nice\n  // to generate new random graphs of any size (thats still a bit\n  // cumbersome with the current setup)\n  // XXX maybe we should have a text box for the size instead of + and -\n  const updateTableSize = (newSize, circular=false) => {\n    if (newSize < 1) return;\n    if (newSize < startNode)\n        setStartNode(newSize);\n    // remove and end nodes > newSize\n    // A* must have end node so we pick size if needed\n    if (endNodes.some((e) => e > newSize)) {\n      let newEndNodes = endNodes.filter((e) => e <= newSize);\n      if (newEndNodes.length === 0 && ALGORITHM_NAME === 'A* Algorithm')\n          newEndNodes = [newSize];\n      setEndNodesTxt(nums2Txt(newEndNodes));\n      setEndNodes(newEndNodes);\n    }\n    setMessage(null);\n    // make new random graph (updating data1 and data2)\n    // This also calls setSize (see XXX note above)\n    // Note changeGraphChoice takes the previous graph choice as it's\n    // first argument and increments it (with modulo) to get new choice\n    changeGraphChoice(GRAPHCHOICERAND-1, newSize);\n  };\n\n  // Update start node\n  // useEffect() triggers handleSearch() to update animation\n  const updateStartNode = (newStart) => {\n    if (newStart < 1 || newStart > size) return;\n    setMessage(null);\n    setStartNode(newStart);\n    // handleSearch();\n  };\n\n  // Update (single) end node; we just use modulo size+1, zero\n  // representing no end node; special case for A* where an end node is\n  // required\n  // useEffect() triggers handleSearch() to update animation\n  const updateEndNode = (newEnd) => {\n    newEnd = (newEnd + size+1) % (size+1);\n    if (newEnd === 0 && ALGORITHM_NAME === 'A* Algorithm')\n      newEnd = size;\n    setMessage(null);\n    setEndNodes([newEnd]);\n    // handleSearch();\n  };\n\n  // change weight calculation method\n  const changeCalcMethod = (state) => {\n    setMessage(null);\n    setCalcMethod((state+1) % WEIGHTCALCMAX);\n  };\n\n  // change weight calculation method\n  const changeHeurCalc= (state) => {\n    setMessage(null);\n    setHeurCalc((state+1) % HEURCALCMAX);\n  };\n\n  // When cell renderer calls updateData1, we'll use\n  // the rowIndex, columnId and new value to update the\n  // original data\n  const updateData1 = (rowIndex, columnId, value) => {\n    const newData1 = data1.map((row, index) => {\n      if (index === rowIndex) {\n        return {\n          ...data1[rowIndex],\n          [columnId]: value,\n        };\n      }\n      return row;\n    });\n    setData1(newData1);\n    setCoordsTxt(getCoordinateList(newData1));\n  };\n\n  // set up a function to call if node is moved with mouse (see\n  // components/DataStructures/Graph/GraphRenderer/index.js) so\n  // coordinates here can be updated\n  const moveNode = (nodeID, x, y) => {\n    const newData1 = data1.map((row, index) => {\n      if (index === nodeID) {\n        return {\n          ...data1[nodeID],\n          ['col0']: x.toString(),\n          ['col1']: y.toString(),\n        };\n      }\n      return row;\n    });\n    setData1(newData1);\n    setCoordsTxt(getCoordinateList(newData1));\n  }\n\n  // When cell renderer calls updateData2, we'll use\n  // the rowIndex, columnId and new value to update the\n  // original data + symmetric cell if flag set\n  const updateData2 = (rowIndex, columnId, value) => {\n    let rowIndexMirror = -1;\n    let columnIdMirror = 'colXYZZY';\n    if (symmetric) {\n      rowIndexMirror = parseInt(columnId.substring(3,columnId.length, 10));\n      columnIdMirror = 'col' + rowIndex;\n    }\n    const newData2 = data2.map((row, index) => {\n      if (index === rowIndex) {\n        return {\n          ...data2[rowIndex],\n          [columnId]: value,\n        };\n      } else if (index === rowIndexMirror) { // only true if symmetric\n        return {\n          ...data2[rowIndexMirror],\n          [columnIdMirror]: value,\n        };\n      }\n      return row;\n    });\n    setData2(newData2);\n    setEdgesTxt(getEdgeList(newData2, size));\n  };\n\n  // Get and parse the coordinates of each node\n  const getCoordinateMatrix = () => {\n    const coords = [];\n    data1.forEach((row) => {\n      const temp = [];\n      for (const [_, value] of Object.entries(row)) {\n        if (singleNumberValidCheck(value)) {\n          const num = parseInt(value, 10);\n          temp.push(num);\n        } else {\n          setMessage(errorParamMsg(ALGORITHM_NAME, EXAMPLE));\n          return;\n        }\n      }\n      coords.push(temp);\n    });\n    return coords;\n  };\n\n  // Get coordinates from table and build list text (string)\n  const getCoordinateList = (data1) => {\n    let coordsTxt = ``;\n    data1.forEach((row) => {\n      coordsTxt += row.col0 + `-` + row.col1 + `,`;\n    });\n    coordsTxt = coordsTxt.substring(0,coordsTxt.length-1); // strip final `,`\n    return coordsTxt;\n  };\n\n  // Get and parse the edges from table; recompute weights depending on\n  // weightCalc flag (maybe this should be a parameter)\n  const getEdgeValueMatrix = () => {\n\n    const adjacent = [];\n    data2.forEach((row) => {\n      const temp = [];\n      for (const [_, value] of Object.entries(row)) {\n        if (singleNumberValidCheck(value)) {\n          const num = parseInt(value, 10);\n          temp.push(num);\n        } else {\n          // when the input cannot be converted to a number\n          setMessage(errorParamMsg(ALGORITHM_NAME, EXAMPLE));\n          return;\n        }\n      }\n      adjacent.push(temp);\n    });\n\n    // Calculate edges based on adjacent matrix\n    // XXX should figure out an appropriate error message if things are\n    // screwed up\n    const coords = getCoordinateMatrix();\n    if (coords.length !== adjacent.length || coords.length !== adjacent[0].length || coords[0].length !== 2) {\n      return [];\n    }\n\n    const edges = [];\n\n    for (let i = 0; i < coords.length; i++) {\n      const temp_edges = [];\n      \n      for (let j = 0; j < coords.length; j++) {\n        let distance = 0;\n        if (adjacent[i][j] !== 0) {\n          if (weightCalc === W_EUCLIDEAN) {\n            distance = euclidean(coords[j][0], coords[j][1], coords[i][0], coords[i][1]);\n          } else if (weightCalc === W_MANHATTAN) {\n            distance = manhattan(coords[j][0], coords[j][1], coords[i][0], coords[i][1]);\n          } else { // W_INPUT\n            distance = adjacent[i][j];\n          }\n        }\n        // If adjacent push distance, otherwise push 0\n        temp_edges.push(distance);\n      }\n      edges.push(temp_edges);\n    }\n\n    if (edges.length !== size || edges[0].length !== size) return [];\n    if (name === 'prim') {\n      if (matrixValidCheck(edges) === false) {\n        setMessage(errorParamMsg(ALGORITHM_NAME, EXAMPLE2));\n        // eslint-disable-next-line consistent-return\n        return [];\n      }\n    }\n    return edges;\n  };\n\n  // Get edges from table and build list text (string)\n  const getEdgeList = (data2, size) => {\n    let edgesTxt = ``;\n    for (var rowNum = 0; rowNum < size; rowNum++) {\n      for (const [colId, val] of Object.entries(data2[rowNum])) {\n        if (val !== '0') {\n          const colNum = parseInt(colId.substring(3,colId.length, 10));\n          if (!(rowNum == colNum || (symmetric && colNum < rowNum))) {\n            edgesTxt += (rowNum+1).toString() + `-` + (colNum+1).toString();\n            if (val !== '1') {\n              edgesTxt += `-` + val;\n            }\n            edgesTxt += `,`;\n          }\n        }\n      }\n    }\n    edgesTxt = edgesTxt.substring(0,edgesTxt.length-1); // strip final `,`\n    return edgesTxt;\n  };\n\n  // synchonises input data with rendered graph etc for animation\n  // XXX better to call this handleStart/...; no longer need Start\n  // button now as this is called via useEffect \n  const handleSearch = () => {\n    closeInstructions(); // remove instruction\n    setMessage(null);\n\n    const coordsMatrix = getCoordinateMatrix();\n    const edgeValueMatrix = getEdgeValueMatrix();\n\n    if (edgeValueMatrix.length !== 0) {\n      // setMessage(successParamMsg(ALGORITHM_NAME));\n      dispatch(GlobalActions.RUN_ALGORITHM, {\n        name,\n        mode,\n        size,\n        startNode,\n        endNodes,\n        heuristicFn,\n        coordsMatrix,\n        edgeValueMatrix,\n        moveNode\n      });\n    //   setButtonMessage('Reset');\n    } else {\n      setMessage(errorParamMsg(ALGORITHM_NAME, EXAMPLE)); // FIX message\n    }\n  };\n\n  // Handle text input for coordinates\n  // modified from the Union-Find code (that team seemed to know what\n  // they were doing!)\n  // XXX ListParam is used. It stores a comma separated list as an array\n  // of strings, which we don't really want for coordinates or edges.\n  // Using an array for edgesTxt, but only when the edges are edited is\n  // horrible and we use a hack here to convert it back to a string.\n  // We should really have something like ListParam that doesn't mess\n  // about with things.\n  const handleXYTxt = (e) => {\n    e.preventDefault();\n    setMessage(null);\n    const [newData1, newSize] = coordTxt2Data1(e.target[0].value, size, ALGORITHM_NAME, setMessage);\n    if (newData1 !== null)\n      setData1(newData1);\n    setSize(newSize);\n    // some repeated code from updateTableSize here...\n    if (newSize < startNode)\n        setStartNode(newSize);\n    // remove and end nodes > newSize\n    if (endNodes.some((e) => e > newSize)) {\n      let newEndNodes = endNodes.filter((e) => e <= newSize);\n      if (newEndNodes.length === 0 && ALGORITHM_NAME === 'A* Algorithm')\n        newEndNodes = [newSize];\n      setEndNodesTxt(nums2Txt(newEndNodes));\n      setEndNodes(newEndNodes);\n    }\n    // console.log('handleXYTxt');\n    // console.log(edgesTxt);\n    // XXX ListParam hack - see above\n    let edgesTxt1 = edgesTxt;\n    if (typeof edgesTxt !== \"string\")\n      edgesTxt1 = edgesTxt.join();\n    // console.log(edgesTxt1);\n    if (newSize !== size) {\n      setData2(edgeTxt2Data2(edgesTxt1, newSize, unweighted, symmetric, setMessage, ALGORITHM_NAME));\n    }\n  }\n\n  // Handle text input for edges/weights\n  // XXX ListParam used - see above\n  const handleEdgeTxt = (e) => {\n    e.preventDefault();\n    setMessage(null);\n    setData2(edgeTxt2Data2(e.target[0].value, size, unweighted, symmetric, setMessage, ALGORITHM_NAME));\n  }\n\n  // XXX Temporarily not used as we just support a single end node in\n  // the same way as the start node\n  // Handle text input for coordinates\n  // As above\n  const handleEndNodesTxt = (e) => {\n    e.preventDefault();\n    setMessage(null);\n    const newEndNodes = endTxt2EndNodes(e.target[0].value, size);\n    if (newEndNodes !== null)\n      setEndNodes(newEndNodes);\n  }\n\n  // converts '1,2,3' into [1,2,3] etc; checks numbers are <= size\n  // XXX should have method to restrict how many (eg, some algorithms\n  // must have just one, others can have several)\n  const endTxt2EndNodes = (value, size) => {\n    const textInput = value.replace(/\\s+/g, '');\n  \n    if (isListofTuples(textInput, 1, 1)) {\n      const endNodes =\n        textInput\n          .split(',')\n          .map((s) => parseInt(s, 10));\n      if (!(endNodes.some((val) => val > size))) // check is NaN also?\n        return endNodes;\n    }\n    setMessage(errorParamMsg(ALGORITHM_NAME, 'Input a list of comma-separated node numbers, eg 1,2'));\n    return null;\n  };\n\n  // Heuristic function (for A Star); could possibly move the heuristic\n  // function stuff elsewhere but for layout it's handy to have it here and\n  // it's easier to get at the state here and pass the function.  Uses the\n  // XY coordinates of the nodes (possibly could generalise some time)\n  const heuristicFn = (x1, y1, x2, y2) => {\n    if (heurCalc === H_EUCLIDEAN)\n      return euclidean(x1, y1, x2, y2);\n    else\n      return manhattan(x1, y1, x2, y2);\n  };\n\n\n  // XXX need to fix sccs for some things, don't need refresh buttons\n  // Better for size and start node to be single editable text box\n  // instead of + and - buttons(?) -> space for end nodes on same line?\n  // End nodes are optional (not used in all algorithms); should do the\n  // same for start node\n  let endNodeDiv = '';\n  let endButton = '';\n  if (defaultEnd !== null)\n    // Temp disabled version supporting multiple end nodes\n // endNodeDiv = \n //     (<div className=\"disabled\">\n //       <ListParam\n //         name=\"EndNodes\"\n //         buttonName=\"Set&nbsp;End&nbsp;Nodes\"\n //         formClassName=\"formLeft\"\n //         mode=\"search\"\n //         handleSubmit={handleEndNodesTxt}\n //         DEFAULT_VAL={endNodesTxt}\n //         SET_VAL={setEndNodesTxt}\n //         REFRESH_FUNCTION={() => ''}\n //         ALGORITHM_NAME={ALGORITHM_NAME}\n //         EXAMPLE={COORDS_EXAMPLE}\n //         setMessage={setMessage}\n //       />\n //     </div>);\n    // XXX would be nice to display ' ' instead of '0'\n    endButton =\n        (<div className=\"sLineButtonContainer\">\n          <button className=\"endBtn\" onClick={() => updateEndNode(endNodes[0] - 1)}>\n            \n          </button>\n          <span className='size'>End: {endNodes[0]}</span>\n          <button className=\"sizeBtn\" onClick={() => updateEndNode(endNodes[0] + 1)}>\n            +\n          </button>\n        </div>);\n\n  let startButton = '';\n  if (defaultStart !== null)\n    startButton =\n        (<div className=\"sLineButtonContainer\">\n          <button className=\"startBtn\" onClick={() => updateStartNode(startNode - 1)}>\n            \n          </button>\n          <span className='size'>Start: {startNode}</span>\n          <button className=\"sizeBtn\" onClick={() => updateStartNode(startNode + 1)}>\n            +\n          </button>\n          \n        </div>);\n \n  let weightButton = '';\n  if (!unweighted)\n    weightButton = \n        (<button className=\"algorithmBtn\" onClick={() => changeCalcMethod(weightCalc)}>\n          Weights: {weightCalcName[weightCalc]}\n        </button>);\n  let heurButton = '';\n  if (defaultHeur !== null)\n    heurButton = \n        (<button className=\"algorithmBtn\" onClick={() => changeHeurCalc(heurCalc)}>\n          Heuristic: {heurCalcName[heurCalc]}\n        </button>);\n\n  return (\n  <>\n      <div className=\"matrixButtonContainer\">\n        <div className=\"sLineButtonContainer\">\n  <div className=\"form\">\n        <button className=\"graphChoiceBtn\" onClick={() => changeGraphChoice(graphChoice, 0)}>\n          {namesEgs[graphChoice]}\n        </button>\n        <div className=\"sLineButtonContainer\">\n          <button className=\"sizeBtn\" onClick={() => updateTableSize(size - 1)}>\n            \n          </button>\n          <span className=\"size\">Size: {size}</span>\n          <button className=\"sizeBtn\" onClick={() => updateTableSize(size + 1)}>\n            +\n          </button>\n          \n        </div>\n        {weightButton}\n        {heurButton}\n        {startButton}\n        {endButton}\n  </div>\n  {endNodeDiv}\n  <div className=\"disabled\">\n        <ListParam\n          name=\"graphCoords\"\n          buttonName=\"Set&nbsp;X-Y&nbsp;Coordinates\"\n          formClassName=\"formLeft\"\n          mode=\"search\"\n          handleSubmit={handleXYTxt}\n          DEFAULT_VAL={coordsTxt}\n          SET_VAL={setCoordsTxt}\n          REFRESH_FUNCTION={() => '1,1'}\n          ALGORITHM_NAME={ALGORITHM_NAME}\n          EXAMPLE={COORDS_EXAMPLE}\n          setMessage={setMessage}\n        />\n  </div>\n  <div className=\"disabled\">\n        <ListParam\n          name=\"graphEdges\"\n          buttonName=\"Set&nbsp;Edges/Weights\"\n          formClassName=\"formLeft\"\n          mode=\"search\"\n          handleSubmit={handleEdgeTxt}\n          DEFAULT_VAL={edgesTxt}\n          SET_VAL={setEdgesTxt}\n          REFRESH_FUNCTION={() => '1-2'}\n          ALGORITHM_NAME={ALGORITHM_NAME}\n          EXAMPLE={EDGES_EXAMPLE}\n          setMessage={setMessage}\n        />\n  </div>\n        </div>\n      </div>\n    <div className=\"matrixContainer\">\n\n      <div className=\"coord\">\n        <text className=\"titles\"> Coordinates (X,Y) </text>\n        <Table columns={columns1} data={data1} updateData={updateData1} algo={name} />\n      </div>\n      \n      <div className=\"edge\">\n        <text className=\"titles\"> Edges (0,1)</text>\n        <Table columns={columns2} data={data2} updateData={updateData2} algo={name} />\n      </div>\n\n    </div>\n  </>\n  );\n}\n\nexport default EuclideanMatrixParams;\n\n// check if string is list of pairs/triples etc of numbers\n// XXX could generalise a bit and use for other code, eg Union Find\nfunction isListofTuples(value, minLen, maxLen) {\n  if (!value) return false;\n\n  // ensuring only allowable characters\n  if (!/^[0-9,-\\s]+$/.test(value)) return false;\n\n  // splits the string into an array of tuples\n  const tuples = value.split(',').map((tuple) => tuple.trim());\n\n  // checks if each tuple is valid\n  for (let i = 0; i < tuples.length; i++) {\n    const tuple = tuples[i].split('-');\n\n    // checks minLen up to maxLen values in tuple\n    if (tuple.length < minLen || tuple.length > maxLen) return false;\n\n    // checks if each value in pair is in domain\n    // XXX could do better here\n    if (tuple.some((val) => isNaN(val))) return false;\n  }\n  return true;\n}\n\n// searches through edge list represented as a 2D array and returns\n// weight if there is an edge between i and j, otherwise zero\nfunction searchEdgeList(edgeList, i, j, unweighted, symmetric) {\n  for (var r = 0; r < edgeList.length; r++) {\n    const node1 = edgeList[r][0];\n    const node2 = edgeList[r][1];\n    let weight = (edgeList[r].length == 2? '1' : edgeList[r][2]);\n    if (unweighted && weight > 0) {\n      weight = '1';\n    }\n    if (i == node1 && j == node2) {\n      return weight;\n    }\n    if (symmetric && i == node2 && j == node1) {\n      return weight;\n    }\n  }\n  return '0';\n}\n\n// XXX not much point in sizeEgs etc as random graphs have to be handled\n// as a special case generally anyway\n\n// Extract sizes from graphEgs param; add to random\nconst graphEgsSizes = (graphEgs) => {\n  let sizeEgs = [...sizeEgsInit];\n  const nExtras = graphEgs.length;\n  for (let i = 0; i < nExtras; i++) {\n    const graphEg = graphEgs[i];\n    sizeEgs.push(graphEg.size);\n  }\n  return sizeEgs;\n}\n\n// Extract coords from graphEgs param; add to random\nconst graphEgsCoords = (graphEgs) => {\n  let coordsEgs = [...coordsEgsInit];\n  const nExtras = graphEgs.length;\n  for (let i = 0; i < nExtras; i++) {\n    const graphEg = graphEgs[i];\n    coordsEgs.push(graphEg.coords);\n  }\n  return coordsEgs;\n}\n\n// Extract edges from graphEgs param; add to random\nconst graphEgsEdges = (graphEgs) => {\n  let edgesEgs = [...edgesEgsInit];\n  const nExtras = graphEgs.length;\n  for (let i = 0; i < nExtras; i++) {\n    const graphEg = graphEgs[i];\n    edgesEgs.push(graphEg.edges);\n  }\n  return edgesEgs;\n}\n\n// Extract edges from graphEgs param; add to random\nconst graphEgsNames = (graphEgs) => {\n  let namesEgs = [...namesEgsInit];\n  const nExtras = graphEgs.length;\n  for (let i = 0; i < nExtras; i++) {\n    const graphEg = graphEgs[i];\n    namesEgs.push(graphEg.name);\n  }\n  return namesEgs;\n}\n\n  // converts [1,2,3] into '1,2,3' etc\n  const nums2Txt = (nums) => {\n    if (nums === null) return '';\n    let txt = ``;\n    nums.forEach((n) => {\n      txt += n + `,`;\n    });\n    txt = txt.substring(0,txt.length-1); // strip final `,`\n    return txt;\n  };\n\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport EuclideanMatrixParams from './helpers/EuclideanMatrixParams';\nimport '../../styles/Param.scss';\n\nconst DEFAULT_SIZE = 5; // gets overwritten by GRAPH_EGS[0] now\nconst DEFAULT_START = 5; // XXX null should disable\nconst DEFAULT_END = null; // disable end nodes display/input\n// XXX For now we support at most one end node\n// const DEFAULT_END = [8,9] // XXX not currently supported\n// const DEFAULT_END = [0] // enable end node but start with none\n// const DEFAULT_END = [10] // start with 10 as end node\nconst DEFAULT_HEUR = null;  // disable heuristic display/input\n// const DEFAULT_HEUR = 0;  // 0 = Euclidean\nconst PRIMS = 'Prim\\'s (simpler code)';\n// XXX fix up error messages some time and change from 'EXAMPLE'\nconst PRIMS_EXAMPLE = 'Please enter positive edge weights (or 0 for no edge)';\nconst PRIMS_EXAMPLE2 = 'Please enter the symmetrical value in matrix';\nconst GRAPH_EGS = [ // XXX think up better examples?\n        { name: 'Graph 1',\n          size: 14,\n          coords: '4-3,2-7,7-11,9-3,12-6,13-2,12-16,17-2,20-4,34-4,26-9,30-6,34-10,38-5',\n          edges: '1-2-3,1-4-6,2-3-4,3-4-2,3-5-4,4-5-3,5-6-2,5-7-10,6-8-5,7-11-10,8-9-6,9-10-3,10-12-8,11-12-5,12-13-3,13-14-4'\n        },\n        { name: 'Graph 2',\n          size: 17,\n          coords: '2-13,6-6,7-11,9-15,12-2,15-6,16-12,19-5,25-7,23-16,28-14,29-10,35-13,36-6,40-15, 39-2,42-10',\n          edges:\n'1-2-10,1-4-4,2-3-6,3-4-10,3-5-5,4-7-3,5-6-7,6-7-8,7-8-2,7-9,8-9-3,9-10-5,9-11-7, 10-11-7,11-13-4,12-13-8,12-14-6,13-14-7,13-15-7,14-16-6,15-16-2,15-17-5,16-17-2'\n        }];\n\nfunction PRIM_oldParam() {\n  const [message, setMessage] = useState(null);\n\n  return (\n    <>\n      {/* Matrix input */}\n      <EuclideanMatrixParams\n        name=\"prim_old\"\n        mode=\"find\"\n        defaultSize={DEFAULT_SIZE}\n        defaultStart={DEFAULT_START}\n        defaultEnd={DEFAULT_END}\n        defaultHeur = {DEFAULT_HEUR}\n        // XXX\n        // min&max for weights originally, then used for X&Y coordinates\n        // as well (DOH!) (maybe avoid for weights in the future but\n        // beware legacy use of min and max in weight-related code!)\n        // Best avoid 0 so we don't get edges along axes.\n        // max around 50 ideal *if we can fix size of display* so it fits ok\n        // - means precision is reasonably but both Manhattan and\n        // Euclidean distances are at most two digits. Using something\n        // smaller for now due to display size being a mystery...\n        min={1}\n        // max={9}\n        max={49}\n        graphEgs={GRAPH_EGS}\n        symmetric\n        ALGORITHM_NAME={PRIMS}\n        EXAMPLE={PRIMS_EXAMPLE}\n        EXAMPLE2={PRIMS_EXAMPLE2}\n        setMessage={setMessage}\n      />\n\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default PRIM_oldParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport EuclideanMatrixParams from './helpers/EuclideanMatrixParams';\nimport '../../styles/Param.scss';\n\nconst DEFAULT_SIZE = 5; // gets overwritten by GRAPH_EGS[0] now\nconst DEFAULT_START = 5; // XXX null should disable\nconst DEFAULT_END = null; // disable end nodes display/input\n// XXX For now we support at most one end node\n// const DEFAULT_END = [8,9] // XXX not currently supported\n// const DEFAULT_END = [0] // enable end node but start with none\n// const DEFAULT_END = [10] // start with 10 as end node\nconst DEFAULT_HEUR = null;  // disable heuristic display/input\n// const DEFAULT_HEUR = 0;  // 0 = Euclidean\nconst PRIMS = 'New Prim\\'s';\n// XXX fix up error messages some time and change from 'EXAMPLE'\nconst PRIMS_EXAMPLE = 'Please enter positive edge weights (or 0 for no edge)';\nconst PRIMS_EXAMPLE2 = 'Please enter the symmetrical value in matrix';\nconst GRAPH_EGS = [ // XXX think up better examples?\n        { name: 'Graph 1',\n          size: 14,\n          coords: '4-3,2-7,7-11,9-3,12-6,13-2,12-16,17-2,20-4,34-4,26-9,30-6,34-10,38-5',\n          edges: '1-2-3,1-4-6,2-3-4,3-4-2,3-5-4,4-5-3,5-6-2,5-7-10,6-8-5,7-11-10,8-9-6,9-10-3,10-12-8,11-12-5,12-13-3,13-14-4'\n        },\n        { name: 'Graph 2',\n          size: 17,\n          coords: '2-13,6-6,7-11,9-15,12-2,15-6,16-12,19-5,25-7,23-16,28-14,29-10,35-13,36-6,40-15, 39-2,42-10',\n          edges:\n'1-2-10,1-4-4,2-3-6,3-4-10,3-5-5,4-7-3,5-6-7,6-7-8,7-8-2,7-9,8-9-3,9-10-5,9-11-7, 10-11-7,11-13-4,12-13-8,12-14-6,13-14-7,13-15-7,14-16-6,15-16-2,15-17-5,16-17-2'\n        }];\n\nfunction PRIMParam() {\n  const [message, setMessage] = useState(null);\n\n  return (\n    <>\n      {/* Matrix input */}\n      <EuclideanMatrixParams\n        name=\"prim\"\n        mode=\"find\"\n        defaultSize={DEFAULT_SIZE}\n        defaultStart={DEFAULT_START}\n        defaultEnd={DEFAULT_END}\n        defaultHeur = {DEFAULT_HEUR}\n        // XXX\n        // min&max for weights originally, then used for X&Y coordinates\n        // as well (DOH!) (maybe avoid for weights in the future but\n        // beware legacy use of min and max in weight-related code!)\n        // Best avoid 0 so we don't get edges along axes.\n        // max around 50 ideal *if we can fix size of display* so it fits ok\n        // - means precision is reasonably but both Manhattan and\n        // Euclidean distances are at most two digits. Using something\n        // smaller for now due to display size being a mystery...\n        min={1}\n        // max={9}\n        max={49}\n        graphEgs={GRAPH_EGS}\n        symmetric\n        ALGORITHM_NAME={PRIMS}\n        EXAMPLE={PRIMS_EXAMPLE}\n        EXAMPLE2={PRIMS_EXAMPLE2}\n        setMessage={setMessage}\n      />\n\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default PRIMParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport EuclideanMatrixParams from './helpers/EuclideanMatrixParams';\nimport '../../styles/Param.scss';\n\nconst DEFAULT_SIZE = 5; // gets overwritten by GRAPH_EGS[0] now\nconst DEFAULT_START = null; // XXX null should disable\nconst DEFAULT_END = null; // disable end nodes display/input\n// XXX For now we support at most one end node\n// const DEFAULT_END = [8,9] // XXX not currently supported\n// const DEFAULT_END = [0] // enable end node but start with none\n// const DEFAULT_END = [10] // start with 10 as end node\nconst DEFAULT_HEUR = null;  // disable heuristic display/input\n// const DEFAULT_HEUR = 0;  // 0 = Euclidean\nconst KRUSKAL = 'Kruskal\\'s';\n// XXX fix up error messages some time and change from 'EXAMPLE'\nconst KRUSKAL_EXAMPLE = 'Please enter positive edge weights (or 0 for no edge)';\nconst KRUSKAL_EXAMPLE2 = 'Please enter the symmetrical value in matrix';\nconst GRAPH_EGS = [ // XXX think up better examples?\n        { name: 'Graph 1',\n          size: 14,\n          coords: '4-3,2-7,7-11,9-3,12-6,13-2,12-16,17-2,20-4,34-4,26-9,30-6,34-10,38-5',\n          edges: '1-2-3,1-4-6,2-3-4,3-4-2,3-5-4,4-5-3,5-6-2,5-7-10,6-8-5,7-11-10,8-9-6,9-10-3,10-12-8,11-12-5,12-13-3,13-14-4'\n        },\n        { name: 'Graph 2',\n          size: 17,\n          coords: '2-13,6-6,7-11,9-15,12-2,15-6,16-12,19-5,25-7,23-16,28-14,29-10,35-13,36-6,40-15, 39-2,42-10',\n          edges:\n'1-2-10,1-4-4,2-3-6,3-4-10,3-5-5,4-7-3,5-6-7,6-7-8,7-8-2,7-9,8-9-3,9-10-5,9-11-7, 10-11-7,11-13-4,12-13-8,12-14-6,13-14-7,13-15-7,14-16-6,15-16-2,15-17-5,16-17-2'\n        }];\n\nfunction KRUSKALParam() {\n  const [message, setMessage] = useState(null);\n\n  return (\n    <>\n      {/* Matrix input */}\n      <EuclideanMatrixParams\n        name=\"kruskal\"\n        mode=\"find\"\n        defaultSize={DEFAULT_SIZE}\n        defaultStart={DEFAULT_START}\n        defaultEnd={DEFAULT_END}\n        defaultHeur = {DEFAULT_HEUR}\n        // XXX\n        // min&max for weights originally, then used for X&Y coordinates\n        // as well (DOH!) (maybe avoid for weights in the future but\n        // beware legacy use of min and max in weight-related code!)\n        // Best avoid 0 so we don't get edges along axes.\n        // max around 50 ideal *if we can fix size of display* so it fits ok\n        // - means precision is reasonably but both Manhattan and\n        // Euclidean distances are at most two digits. Using something\n        // smaller for now due to display size being a mystery...\n        min={1}\n        // max={9}\n        max={49}\n        graphEgs={GRAPH_EGS}\n        symmetric\n        ALGORITHM_NAME={KRUSKAL}\n        EXAMPLE={KRUSKAL_EXAMPLE}\n        EXAMPLE2={KRUSKAL_EXAMPLE2}\n        setMessage={setMessage}\n      />\n\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default KRUSKALParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\n// import MatrixParam from './helpers/MatrixParam';\nimport EuclideanMatrixParams from './helpers/EuclideanMatrixParams';\nimport '../../styles/Param.scss';\n\nconst DEFAULT_SIZE = 4; // gets overwritten by GRAPH_EGS[0] now\nconst DEFAULT_START = null; // disable\nconst DEFAULT_END = null; // disable\nconst DEFAULT_HEUR = null; // disable\nconst DEFAULT_WEIGHT = 2; // weights \"as input\"\nconst TRANSITIVE_CLOSURE = 'Transitive Closure';\nconst TRANSITIVE_CLOSURE_EXAMPLE = 'Please follow the example provided: 0,1';\nconst GRAPH_EGS = [ // XXX think up better examples?\n        { name: 'Graph 1',\n          size: 4,\n          coords: '10-13,20-13,20-3,10-3',\n          edges: '1-1,2-2,3-3,4-4,1-2,2-3,3-4'\n        },\n        { name: 'Graph 2',\n          size: 4,\n          coords: '10-13,20-13,20-3,10-3',\n          edges: '1-1,2-2,3-3,4-4,1-3,2-1,3-2,4-3'\n        },\n        { name: 'Graph 3',\n          size: 5,\n          coords: '6-9,15-16,20-10,17-2,8-2',\n          edges: '1-2,2-1,2-3,3-4,4-5,5-3'\n        }];\n\nfunction TransitiveClosureParam() {\n  const [message, setMessage] = useState(null);\n\n  return (\n    <>\n      {/* Matrix input */}\n      <EuclideanMatrixParams\n        name=\"transitiveClosure\"\n        mode=\"tc\"\n        defaultSize={DEFAULT_SIZE}\n        defaultStart={DEFAULT_START}\n        defaultEnd={DEFAULT_END}\n        defaultWeight = {DEFAULT_WEIGHT}\n        defaultHeur = {DEFAULT_HEUR}\n        min={1}\n        max={49}\n        graphEgs={GRAPH_EGS}\n        ALGORITHM_NAME={TRANSITIVE_CLOSURE}\n        EXAMPLE={TRANSITIVE_CLOSURE_EXAMPLE}\n        setMessage={setMessage}\n        symmetric={false}\n        circular={true}\n        unweighted\n      />\n\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default TransitiveClosureParam;\n","/* eslint-disable react/prop-types */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useContext,useEffect } from 'react';\nimport ControlButton from '../../../components/common/ControlButton';\nimport { closeInstructions } from '../../../components/mid-panel/helper';\nimport { GlobalContext } from '../../../context/GlobalState';\nimport '../../../styles/Param.scss';\n\n//SIM Event - DanistyWuKids\nconst mouseClickEvents = ['mousedown', 'click', 'mouseup'];\nfunction simulateMouseClick(element){\n  mouseClickEvents.forEach(mouseEventType => element.dispatchEvent(new MouseEvent(mouseEventType, {view: window,bubbles: true,cancelable: true,buttons: 1})));\n}\n\n/**\n * The ParamForm wraps a input, icon(optional) and a button.\n */\nfunction StringParamForm(props) {\n  const {\n    formClassName, buttonName, string, stringOnChange,\n    pattern, patternOnChange, handleSubmit, disabled,\n  } = props;\n  // eslint-disable-next-line\n  const { algorithm } = useContext(GlobalContext);\n\n  const closeInstructionsFun = () => {\n    if (algorithm.name === 'Quicksort') {\n      // setQuicksortPlay(false)\n      sessionStorage.setItem('isPivot', false);\n      sessionStorage.setItem('quicksortPlay', false);\n    }\n    closeInstructions();\n  };\n\n  useEffect(() => {var element = document.querySelector('button[id=\"startBtnGrp\"]');simulateMouseClick(element);},[]);\n\n  return (\n    <form className={formClassName} onSubmit={handleSubmit}>\n      <div className=\"outerInput\">\n        <label className=\"inputText\">\n          <div className=\"stringContainer\">\n            String\n          </div>\n          <div className=\"inputContainer\">\n            <input\n              // name={name}\n              type=\"text\"\n              value={string}\n              onChange={stringOnChange}\n            />\n          </div>\n        </label>\n        <label className=\"inputText\">\n          <div className=\"stringContainer\">\n            Pattern\n          </div>\n          <div className=\"inputContainer\">\n            <input\n              // name={name}\n              type=\"text\"\n              value={pattern}\n              onChange={patternOnChange}\n            />\n          </div>\n        </label>\n        <div className=\"btnGrp\">\n          {/** this children is left to add icons */}\n          {/* {children} */}\n          <ControlButton\n            className={disabled ? 'blueWordBtnDisabled' : 'blueWordBtn'}\n            onClick={closeInstructionsFun}\n            id=\"startBtnGrp\"\n            type=\"submit\"\n            disabled={disabled}\n          >\n            {buttonName}\n          </ControlButton>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default StringParamForm;\n","/* eslint-disable react/prop-types */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport '../../../styles/Param.scss';\nimport { GlobalActions } from '../../../context/actions';\nimport StringParamForm from './StringParamForm';\nimport {\n  successParamMsg,\n  errorParamMsg,\n  stringValidCheck,\n} from './ParamHelper';\n\nimport useParam from '../../../context/useParam';\n\n/**\n * This list param component can be used when\n * the param input accepts a list\n */\nfunction StringParam({\n  name, buttonName, mode, DEFAULT_STRING, SET_STRING, DEFAULT_PATTERN, SET_PATTERN, ALGORITHM_NAME,\n  EXAMPLE, formClassName, handleSubmit, setMessage,\n}) {\n  const {\n    dispatch,\n    disabled,\n    // paramVal,\n    // setParamVal,\n  } = useParam([DEFAULT_STRING, DEFAULT_PATTERN]);\n\n  /**\n   * The default function that uses the list of values to\n   * run an animation. It will check whether the input list\n   * is valid first.\n   */\n  const handleDefaultSubmit = (e) => {\n    e.preventDefault();\n    // check whether both input fields are valid string and patterns\n    const string = e.target[0].value;\n    const pattern = e.target[1].value;\n    if (stringValidCheck(string) && stringValidCheck(pattern)) {\n      // SET_VAL(nodes);\n      // run animation\n      dispatch(GlobalActions.RUN_ALGORITHM, { name, mode, nodes: [string, pattern] });\n      setMessage(successParamMsg(ALGORITHM_NAME));\n    } else {\n      setMessage(errorParamMsg(ALGORITHM_NAME, EXAMPLE));\n    }\n  };\n\n  return (\n    <StringParamForm\n      formClassName={formClassName}\n      name={ALGORITHM_NAME}\n      buttonName={buttonName}\n      string={DEFAULT_STRING}\n      pattern={DEFAULT_PATTERN}\n      disabled={disabled}\n      stringInputName=\"String\"\n      patternInputName=\"Pattern\"\n      stringOnChange={(e) => {\n        SET_STRING(e.target.value);\n      }}\n      patternOnChange={(e) => {\n        SET_PATTERN(e.target.value);\n      }}\n      // If no customized handle function is provided, the default one will be used\n      handleSubmit={\n        handleSubmit && typeof handleSubmit === 'function'\n          ? handleSubmit\n          : handleDefaultSubmit\n      }\n    />\n  );\n}\n\nexport default StringParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport { genRandNumList } from './helpers/ParamHelper';\nimport ListParam from './helpers/ListParam';\nimport StringParam from './helpers/StringParam';\nimport '../../styles/Param.scss';\n\nconst DEFAULT_STRING = 'dcaccdddabddac';\nconst DEFAULT_PATTERN = 'ddac';\nconst BFSS_SEARCH = 'Brute force String Search';\nconst BFSS_EXAMPLE = 'Enter lower case alphabetic character or space.';\n\nfunction BFSSParam() {\n  const [message, setMessage] = useState(null);\n  const [string, setString] = useState(DEFAULT_STRING);\n  const [pattern, setPattern] = useState(DEFAULT_PATTERN);\n  return (\n    <>\n      <div className=\"form\">\n        <StringParam\n          name=\"bruteForceStringSearch\"\n          buttonName=\"SEARCH\"\n          mode=\"search\"\n          formClassName=\"formLeft\"\n          DEFAULT_STRING={string}\n          DEFAULT_PATTERN={pattern}\n          SET_STRING={setString}\n          SET_PATTERN={setPattern}\n          ALGORITHM_NAME={BFSS_SEARCH}\n          EXAMPLE={BFSS_EXAMPLE}\n          setMessage={setMessage}\n        />\n      </div>\n      {/* render success/error message */}\n      <text className=\"message\">{message}</text>\n    </>\n    \n  );\n}\n\nexport default BFSSParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { withStyles } from '@mui/styles';\nimport { genRandNumList, quicksortPerfectPivotArray } from './helpers/ParamHelper';\nimport ListParam from './helpers/ListParam';\nimport '../../styles/Param.scss';\n\nconst DEFAULT_ARRAY_GENERATOR = genRandNumList.bind(null, 12, 1, 50);\nconst DEFAULT_ARR = DEFAULT_ARRAY_GENERATOR();\nconst QUICK_SORT = 'Quick Sort Median of Three';\nconst QUICK_SORT_EXAMPLE = 'Please follow the example provided: 0,1,2,3,4';\nconst UNCHECKED = {\n  random: false,\n  sortedAsc: false,\n  bestCase: false,\n  sortedDesc: false\n};\n\nconst BlueRadio = withStyles({\n  root: {\n    color: '#2289ff',\n    '&$checked': {\n      color: '#027aff',\n    },\n  },\n  checked: {},\n  // eslint-disable-next-line react/jsx-props-no-spreading\n})((props) => <Radio {...props} />)\n\nfunction QuicksortParam() {\n  const [message, setMessage] = useState(null)\n  const [array, setArray] = useState(DEFAULT_ARR)\n  const [QSM3Case, setQSM3Case] = useState({\n    random: true,\n    sortedAsc: false,\n    bestCase: false,\n    sortedDesc: false\n  });\n\n    \n\n  // function for choosing the type of pivot (median of three)\n  const handleChange = (e) => {\n    switch (e.target.name) {\n      case 'sortedAsc':\n        setArray([...array].sort(function(a,b) {\n         return (+a) - (+b)\n        }));\n        break;\n      case 'sortedDesc':\n        setArray([...array].sort(function(a,b) {\n          return (+b) - (+a)\n         }));\n         break;\n      case 'random':\n        setArray(DEFAULT_ARRAY_GENERATOR());\n        break;\n      case 'bestCase':\n        setArray(quicksortPerfectPivotArray(Math.floor(Math.random() * 10), 25+(Math.floor(Math.random()*25))));\n        break;\n      default:\n        break;\n    }\n\n    setQSM3Case({ ...UNCHECKED, [e.target.name]: true })\n\n  }\n\n  useEffect(\n    () => {\n      document.getElementById('startBtnGrp').click();\n    },\n    [QSM3Case],\n  );\n\n  return (\n    <>\n      <div className=\"form\">\n        <ListParam\n          name=\"quickSortM3\"\n          buttonName=\"Reset\"\n          mode=\"sort\"\n          formClassName=\"formLeft\"\n          DEFAULT_VAL={array}\n          SET_VAL={setArray}\n          REFRESH_FUNCTION={\n            (() => {\n              if (QSM3Case.sortedAsc) {\n                return () => {\n                  return (DEFAULT_ARRAY_GENERATOR().sort(function (a,b) {\n                    return (+a) - (+b)\n                 }));\n                }\n              }\n              else if (QSM3Case.sortedDesc) {\n                return () => {\n                  return (DEFAULT_ARRAY_GENERATOR().sort(function (a,b) {\n                    return (+b) - (+a)\n                 }));\n                }\n              }\n              else if(QSM3Case.bestCase) {\n                return () => quicksortPerfectPivotArray(Math.floor(Math.random() * 10), 25+(Math.floor(Math.random()*25)));\n              }\n            })()\n          }\n          ALGORITHM_NAME={QUICK_SORT}\n          EXAMPLE={QUICK_SORT_EXAMPLE}\n          setMessage={setMessage}\n        />\n      </div>\n      <span className=\"generalText\">Choose input format: &nbsp;&nbsp;</span>\n      {/* create a checkbox for Random array elements */}\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSM3Case.random}\n            onChange={handleChange}\n            name=\"random\"\n          />\n        }\n        label=\"Random\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSM3Case.sortedAsc}\n            onChange={handleChange}\n            name=\"sortedAsc\"\n          />\n        }\n        label=\"Sorted (ascending)\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={QSM3Case.sortedDesc}\n            onChange={handleChange}\n            name=\"sortedDesc\"\n          />\n        }\n        label=\"Sorted (descending)\"\n        className=\"checkbox\"\n      />\n      {/* render success/error message */}\n      {message}\n    </>\n  )\n}\n\nexport default QuicksortParam\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport StringParam from './helpers/StringParam';\nimport '../../styles/Param.scss';\n\n// const DEFAULT_STRING = 'cddaadddabdda';\n// const DEFAULT_PATTERN = 'dddac';\nconst DEFAULT_STRING = 'dcaccdddabddac';\nconst DEFAULT_PATTERN = 'ddac';\nconst HSS_SEARCH = 'Horspool String Search';\nconst HSS_EXAMPLE = 'Enter lower case alphabetic character or space.';\n\nfunction HSSParam() {\n  const [message, setMessage] = useState(null);\n  const [string, setString] = useState(DEFAULT_STRING);\n  const [pattern, setPattern] = useState(DEFAULT_PATTERN);\n  return (\n    <>\n      <div className=\"form\">\n        <StringParam\n          name=\"horspoolStringSearch\"\n          buttonName=\"Search\"\n          mode=\"search\"\n          formClassName=\"formLeft\"\n          DEFAULT_STRING={string}\n          DEFAULT_PATTERN={pattern}\n          SET_STRING={setString}\n          SET_PATTERN={setPattern}\n          ALGORITHM_NAME={HSS_SEARCH}\n          EXAMPLE={HSS_EXAMPLE}\n          setMessage={setMessage}\n        />\n      </div>\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default HSSParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect, useContext } from 'react';\n\nimport { withStyles } from '@mui/styles';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { GlobalActions } from '../../context/actions';\nimport { GlobalContext } from '../../context/GlobalState';\nimport { successParamMsg, errorParamMsg } from './helpers/ParamHelper';\n\nimport SingleValueParam from './helpers/SingleValueParam';\nimport ListParam from './helpers/ListParam';\n\nimport '../../styles/Param.scss';\n\nconst N_ARRAY = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'];\nconst DEFAULT_UNION = ['1-2', '3-4', '2-4', '1-5', '6-8', '3-6'];\nconst DEFAULT_FIND = '2';\n\nconst ALGORITHM_NAME = 'Union Find';\nconst FIND = 'Find';\nconst UNION = 'Union';\n\nconst FIND_EXAMPLE =\n  'Please follow the example provided: 2. The single digit should be between 1 and 10.';\nconst UNION_EXAMPLE =\n  \"Please follow the example provided: 5-7,8-5,9-8,3-9,5-2. All digits should be between 1 and 10, '-' should be used to separate the two digits, and ',' should be used to separate each union operation.\";\n\n// button styling\nconst BlueRadio = withStyles({\n  root: {\n    color: '#2289ff',\n    '&$checked': {\n      color: '#027aff',\n    },\n  },\n  checked: {},\n  // eslint-disable-next-line react/jsx-props-no-spreading\n})((props) => <Radio {...props} />);\n\nfunction UFParam() {\n  const [message, setMessage] = useState(null);\n  const { algorithm, dispatch } = useContext(GlobalContext);\n  const [unions, setUnions] = useState(DEFAULT_UNION);\n  const [pathCompressionEnabled, setPathCompressionEnabled] = useState(true);\n\n  // toggling path compression (i.e., a boolean value)\n  const handleChange = () => {\n    setPathCompressionEnabled((prevState) => !prevState);\n  };\n\n  // validating input before find submission\n  const handleFind = (e) => {\n    e.preventDefault();\n    const inputValue = e.target[0].value;\n\n    // eslint-disable-next-line no-restricted-globals\n    if (!(isNaN(inputValue) || !N_ARRAY.includes(inputValue))) {\n      const target = {\n        arg1: parseInt(inputValue, 10),\n        arg2: pathCompressionEnabled,\n      };\n\n      const visualiser = algorithm.chunker.visualisers;\n      dispatch(GlobalActions.RUN_ALGORITHM, {\n        name: 'unionFind',\n        mode: 'find',\n        visualiser,\n        target,\n      });\n      setMessage(successParamMsg(ALGORITHM_NAME));\n    } else {\n      setMessage(errorParamMsg(ALGORITHM_NAME, FIND_EXAMPLE));\n    }\n  };\n\n  const handleUnion = (e) => {\n    e.preventDefault();\n\n    const textInput = e.target[0].value.replace(/\\s+/g, '');\n\n    if (validateTextInput(textInput)) {\n      const target = {\n        arg1: textInput\n          .split(',')\n          .map((pair) => pair.trim().split('-').map(Number)),\n        arg2: pathCompressionEnabled,\n      };\n\n      // running animation\n      dispatch(GlobalActions.RUN_ALGORITHM, {\n        name: 'unionFind',\n        mode: 'union',\n        target,\n      });\n\n      setMessage(successParamMsg(ALGORITHM_NAME));\n    } else {\n      setMessage(errorParamMsg(ALGORITHM_NAME, UNION_EXAMPLE));\n    }\n  };\n\n  useEffect(() => {\n    document.getElementById('startBtnGrp').click();\n  }, [pathCompressionEnabled]);\n\n  return (\n    <>\n      <div className=\"form\">\n        <ListParam\n          name=\"unionFind\"\n          buttonName=\"Union\"\n          mode=\"union\"\n          formClassName=\"formLeft\"\n          DEFAULT_VAL={unions}\n          SET_VAL={setUnions}\n          handleSubmit={handleUnion}\n          REFRESH_FUNCTION={() => DEFAULT_UNION}\n          ALGORITHM_NAME={UNION}\n          EXAMPLE={UNION_EXAMPLE}\n          setMessage={setMessage}\n        />\n\n        <SingleValueParam\n          name=\"unionFind\"\n          buttonName=\"Find\"\n          mode=\"find\"\n          formClassName=\"formRight\"\n          DEFAULT_VAL={DEFAULT_FIND}\n          ALGORITHM_NAME={FIND}\n          EXAMPLE={FIND_EXAMPLE}\n          handleSubmit={handleFind}\n          setMessage={setMessage}\n        />\n      </div>\n\n      <span className=\"generalText\">Path compression: &nbsp;&nbsp;</span>\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={pathCompressionEnabled === true}\n            onChange={handleChange}\n            name=\"on\"\n          />\n        }\n        label=\"On\"\n        className=\"checkbox\"\n      />\n      <FormControlLabel\n        control={\n          <BlueRadio\n            checked={pathCompressionEnabled === false}\n            onChange={handleChange}\n            name=\"off\"\n          />\n        }\n        label=\"Off\"\n        className=\"checkbox\"\n      />\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default UFParam;\n\n/**\n * Validate the text input within the DualValueParam component.\n * @param {String} value The text input.\n * @returns {Boolean} Whether the text input is valid.\n */\nfunction validateTextInput(value) {\n  if (!value) return false;\n\n  // ensuring only allowable characters\n  if (!/^[0-9,-\\s]+$/.test(value)) return false;\n\n  // splits the string into an array of pairs\n  const pairs = value.split(',').map((pair) => pair.trim());\n\n  // checks if each pair is valid\n  for (let i = 0; i < pairs.length; i++) {\n    const pair = pairs[i].split('-');\n\n    // checks only two values in pair\n    if (pair.length !== 2) return false;\n\n    // checks if each value in pair is in domain\n    if (pair.some((val) => isNaN(val) || !N_ARRAY.includes(val))) return false;\n  }\n  return true;\n}\n","import React, { useState, useContext, useEffect } from 'react';\nimport { GlobalContext } from '../../context/GlobalState';\nimport { GlobalActions } from '../../context/actions';\nimport ListParam from './helpers/ListParam';\nimport SingleValueParam from './helpers/SingleValueParam';\nimport '../../styles/Param.scss';\nimport {\n  singleNumberValidCheck,\n  genUniqueRandNumList,\n  successParamMsg,\n  errorParamMsg,\n} from './helpers/ParamHelper';\n\n// import useParam from '../../context/useParam';\n\nconst ALGORITHM_NAME = '2-3-4 Trees';\nconst INSERTION = 'Insertion';\nconst SEARCH = 'Search';\n\n// DEFAULT input - enough for a tree with a few levels\n// Should be the same as in REFRESH_FUNCTION\nconst DEFAULT_NODES = genUniqueRandNumList(12, 1, 100);\nconst DEFAULT_TARGET = '2';\n\nconst INSERTION_EXAMPLE = 'Please follow the example provided: 1,2,3,4. Values should also be unique.';\nconst SEARCH_EXAMPLE = 'Please follow the example provided: 16.';\nconst NO_TREE_ERROR = 'Please build a tree before running search.';\n\nfunction TTFTreeParam() {\n  const { algorithm, dispatch } = useContext(GlobalContext);\n  const [message, setMessage] = useState(null);\n  const [nodes, setNodes] = useState(DEFAULT_NODES);\n\n\n  const handleInsertion = (e) => {\n    e.preventDefault();\n    const list = e.target[0].value;\n\n    if (validateListInput(list)) {\n      let nodes = list.split(',').map(Number);\n      // run search animation\n      dispatch(GlobalActions.RUN_ALGORITHM, {\n        name: 'TTFTree',\n        mode: 'insertion',\n        nodes,\n      });\n      setMessage(successParamMsg(ALGORITHM_NAME));\n    } else {\n      setMessage(errorParamMsg(ALGORITHM_NAME, INSERTION_EXAMPLE));\n    }\n  };\n  const handleSearch = (e) => {\n    e.preventDefault();\n    const inputValue = e.target[0].value;\n\n    if (singleNumberValidCheck(inputValue)) {\n      const target = parseInt(inputValue, 10);\n\n      if (\n        Object.prototype.hasOwnProperty.call(algorithm, 'visualisers')\n        && !algorithm.visualisers.tree.instance.isEmpty()\n      ) {\n        const visualiser = algorithm.chunker.visualisers;\n        dispatch(GlobalActions.RUN_ALGORITHM, {\n          name: 'TTFTree',\n          mode: 'search',\n          visualiser,\n          target,\n        });\n        setMessage(successParamMsg(ALGORITHM_NAME));\n      } else {\n        setMessage(errorParamMsg(ALGORITHM_NAME, NO_TREE_ERROR));\n      }\n    }\n    else {\n      setMessage(errorParamMsg(ALGORITHM_NAME, SEARCH_EXAMPLE));\n    }\n  };\n\n  return (\n    <>\n      <div className=\"form\">\n        {/* Insert input */}\n        <ListParam\n          name=\"TTFTree\"\n          buttonName=\"Insert\"\n          mode=\"insertion\"\n          formClassName=\"formLeft\"\n          DEFAULT_VAL={nodes}\n          handleSubmit={handleInsertion}\n          SET_VAL={setNodes}\n          REFRESH_FUNCTION={(() => genUniqueRandNumList(12, 1, 100))}\n          ALGORITHM_NAME={INSERTION}\n          EXAMPLE={INSERTION_EXAMPLE}\n          setMessage={setMessage}\n        />\n\n        {/* Search input */}\n        {<SingleValueParam\n          name=\"TTFTree\"\n          buttonName=\"Search\"\n          mode=\"search\"\n          formClassName=\"formRight\"\n          handleSubmit={handleSearch}\n          DEFAULT_VAL={DEFAULT_TARGET}\n          ALGORITHM_NAME={SEARCH}\n          EXAMPLE={SEARCH_EXAMPLE}\n          setMessage={setMessage}\n        />}\n      </div>\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default TTFTreeParam;\n\nfunction validateListInput(input) {\n  const inputArr = input.split(',');\n  const inputSet = new Set(inputArr);\n  return (\n    inputArr.length === inputSet.size\n    && inputArr.every((num) => singleNumberValidCheck(num))\n  );\n}\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport '../../styles/Param.scss';\nimport EuclideanMatrixParams from './helpers/EuclideanMatrixParams';\n\nconst DEFAULT_START = 5; // XXX null should disable\n// const DEFAULT_END = null; // disable end nodes display/input\n// XXX For now we support at most one end node\n// const DEFAULT_END = [8,9] // XXX not currently supported\nconst DEFAULT_END = [0] // enable end node but start with none\n// const DEFAULT_END = [10] // start with 10 as end node\nconst DEFAULT_HEUR = null;  // disable heuristic display/input\n// const DEFAULT_HEUR = 0;  // 0 = Euclidean\nconst DEFAULT_SIZE = 5;\nconst GRAPH_EGS = [ // XXX think up better examples?\n        { name: 'Graph 1',\n          size: 14,\n          coords: '4-3,2-7,7-11,9-3,12-6,13-2,12-16,17-2,20-4,34-4,26-9,30-6,34-10,38-5',\n          edges: '1-2-3,1-4-6,2-3-4,3-4-2,3-5-4,4-5-3,5-6-2,5-7-10,6-8-5,7-11-10,8-9-6,9-10-3,10-12-8,11-12-5,12-13-3,13-14-4'\n        },\n        { name: 'Graph 2',\n          size: 17,\n          coords: '2-13,6-6,7-11,9-15,12-2,15-6,16-12,19-5,25-7,23-16,28-14,29-10,35-13,36-6,40-15, 39-2,42-10',\n          edges:\n'1-2-10,1-4-4,2-3-6,3-4-10,3-5-5,4-7-3,5-6-7,6-7-8,7-8-2,7-9,8-9-3,9-10-5,9-11-7, 10-11-7,11-13-4,12-13-8,12-14-6,13-14-7,13-15-7,14-16-6,15-16-2,15-17-5,16-17-2'\n        }];\nconst DIJK = 'Dijkstra\\'s';\nconst DIJK_EXAMPLE = 'Please provided positive numbers: 0,1'; //TODO\nconst DIJK_EXAMPLE2 = 'Please enter the symmetrical value in matrix'; //TODO\nfunction DijkstraParam() {\n  const [message, setMessage] = useState(null);\n\n  return (\n    <>\n      {/* Matrix input */}\n      <EuclideanMatrixParams\n        name=\"dijkstra\"\n        mode=\"find\"\n        defaultSize={DEFAULT_SIZE}\n        defaultStart={DEFAULT_START}\n        defaultEnd={DEFAULT_END}\n        defaultHeur = {DEFAULT_HEUR}\n        graphEgs={GRAPH_EGS}\n        min={1}\n        max={49}\n        symmetric\n        ALGORITHM_NAME={DIJK}\n        EXAMPLE={DIJK_EXAMPLE}\n        EXAMPLE2={DIJK_EXAMPLE2}\n        setMessage={setMessage}\n      />\n\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default DijkstraParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport MatrixParam from './helpers/MatrixParam';\nimport '../../styles/Param.scss';\nimport EuclideanMatrixParams from './helpers/EuclideanMatrixParams';\n\n// Note: 'A* Algorithm' currently used in EuclideanMatrixParams.js -\n// change both or neither!\nconst ASTAR = 'A* Algorithm';\nconst ASTAR_EXAMPLE = 'Please provided positive numbers: 0,1'; //TODO\nconst ASTAR_EXAMPLE2 = 'Please enter the symmetrical value in matrix'; //TODO\n\nconst DEFAULT_SIZE = 14; // gets overwritten in any case\nconst DEFAULT_START = 5; // XXX null should disable\n// const DEFAULT_END = null; // disable end nodes display/input\n// XXX For now we support at most one end node\n// const DEFAULT_END = [8,9] // XXX not currently supported\n// const DEFAULT_END = [0] // enable end node but start with none\nconst DEFAULT_END = [12] // start with 12 as end node\nconst DEFAULT_HEUR = 0;  // 0 = Euclidean\nconst GRAPH_EGS = [ // XXX think up better examples?\n        { name: 'Graph 1',\n          size: 14,\n          coords: '4-3,2-7,7-11,9-3,12-6,13-2,12-16,17-2,20-4,34-4,26-9,30-6,34-10,38-5',\n          edges: '1-2-3,1-4-6,2-3-4,3-4-2,3-5-4,4-5-3,5-6-2,5-7-10,6-8-5,7-11-10,8-9-6,9-10-3,10-12-8,11-12-5,12-13-3,13-14-4'\n        },\n        { name: 'Graph 2',\n          size: 17,\n          coords: '2-13,6-6,7-11,9-15,12-2,15-6,16-12,19-5,25-7,23-16,28-14,29-10,35-13,36-6,40-15, 39-2,42-10',\n          edges:\n'1-2-10,1-4-4,2-3-6,3-4-10,3-5-5,4-7-3,5-6-7,6-7-8,7-8-2,7-9,8-9-3,9-10-5,9-11-7, 10-11-7,11-13-4,12-13-8,12-14-6,13-14-7,13-15-7,14-16-6,15-16-2,15-17-5,16-17-2'\n        }];\nfunction ASTParam() {\n  const [message, setMessage] = useState(null);\n\n  return (\n    <>\n      {/* Matrix input */}\n      <EuclideanMatrixParams\n        name=\"aStar\"\n        mode=\"find\"\n        defaultSize={DEFAULT_SIZE}\n        defaultStart={DEFAULT_START}\n        defaultEnd={DEFAULT_END}\n        heuristic = {DEFAULT_HEUR}\n        min={1}\n        max={49}\n        symmetric\n        graphEgs={GRAPH_EGS}\n        ALGORITHM_NAME={ASTAR}\n        EXAMPLE={ASTAR_EXAMPLE}\n        EXAMPLE2={ASTAR_EXAMPLE2}\n        setMessage={setMessage} \n        \n      />\n\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default ASTParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport MatrixParam from './helpers/MatrixParam';\nimport '../../styles/Param.scss';\nimport EuclideanMatrixParams from './helpers/EuclideanMatrixParams';\n\nconst DEFAULT_SIZE = 5;\nconst BFS = 'BFS\\'s';\nconst BFS_EXAMPLE = 'Please provided positive numbers: 0,1'; //TODO\nconst BFS_EXAMPLE2 = 'Please enter the symmetrical value in matrix'; //TODO\nconst DEFAULT_START = 5; // XXX null should disable\n// const DEFAULT_END = null; // disable end nodes display/input\n// XXX For now we support at most one end node\n// const DEFAULT_END = [8,9] // XXX not currently supported\nconst DEFAULT_END = [0] // enable end node but start with none\n// const DEFAULT_END = [10] // start with 10 as end node\nconst DEFAULT_HEUR = null;  // disable heuristic display/input\n// const DEFAULT_HEUR = 0;  // 0 = Euclidean\nconst GRAPH_EGS = [ // XXX think up better examples?\n        { name: 'Graph 1',\n          size: 14,\n          coords: '4-3,2-7,7-11,9-3,12-6,13-2,12-16,17-2,20-4,34-4,26-9,30-6,34-10,38-5',\n          edges: '1-2-3,1-4-6,2-3-4,3-4-2,3-5-4,4-5-3,5-6-2,5-7-10,6-8-5,7-11-10,8-9-6,9-10-3,10-12-8,11-12-5,12-13-3,13-14-4'\n        },\n        { name: 'Graph 2',\n          size: 17,\n          coords: '2-13,6-6,7-11,9-15,12-2,15-6,16-12,19-5,25-7,23-16,28-14,29-10,35-13,36-6,40-15, 39-2,42-10',\n          edges:\n'1-2-10,1-4-4,2-3-6,3-4-10,3-5-5,4-7-3,5-6-7,6-7-8,7-8-2,7-9,8-9-3,9-10-5,9-11-7, 10-11-7,11-13-4,12-13-8,12-14-6,13-14-7,13-15-7,14-16-6,15-16-2,15-17-5,16-17-2'\n        }];\n\nfunction BFSParam() {\n  const [message, setMessage] = useState(null);\n\n  return (\n    <>\n      {/* Matrix input */}\n      <EuclideanMatrixParams\n        name=\"BFS\"\n        mode=\"find\"\n        defaultSize={DEFAULT_SIZE}\n        defaultStart={DEFAULT_START}\n        defaultEnd={DEFAULT_END}\n        defaultHeur = {DEFAULT_HEUR}\n        min={1}\n        max={49}\n        symmetric\n        graphEgs={GRAPH_EGS}\n        ALGORITHM_NAME={BFS}\n        EXAMPLE={BFS_EXAMPLE}\n        EXAMPLE2={BFS_EXAMPLE2}\n        setMessage={setMessage}\n        unweighted\n      />\n\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default BFSParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport MatrixParam from './helpers/MatrixParam';\nimport '../../styles/Param.scss';\nimport EuclideanMatrixParams from './helpers/EuclideanMatrixParams';\n\nconst DEFAULT_SIZE = 5;\nconst DFS = 'DFS\\'s';\nconst DFS_EXAMPLE = 'Please provided positive numbers: 0,1'; //TODO\nconst DFS_EXAMPLE2 = 'Please enter the symmetrical value in matrix'; //TODO\nconst DEFAULT_START = 5; // XXX null should disable\n// const DEFAULT_END = null; // disable end nodes display/input\n// XXX For now we support at most one end node\n// const DEFAULT_END = [8,9] // XXX not currently supported\nconst DEFAULT_END = [0] // enable end node but start with none\n// const DEFAULT_END = [10] // start with 10 as end node\nconst DEFAULT_HEUR = null;  // disable heuristic display/input\n// const DEFAULT_HEUR = 0;  // 0 = Euclidean\nconst GRAPH_EGS = [ // XXX think up better examples?\n        { name: 'Graph 1',\n          size: 14,\n          coords: '4-3,2-7,7-11,9-3,12-6,13-2,12-16,17-2,20-4,34-4,26-9,30-6,34-10,38-5',\n          edges: '1-2-3,1-4-6,2-3-4,3-4-2,3-5-4,4-5-3,5-6-2,5-7-10,6-8-5,7-11-10,8-9-6,9-10-3,10-12-8,11-12-5,12-13-3,13-14-4'\n        },\n        { name: 'Graph 2',\n          size: 17,\n          coords: '2-13,6-6,7-11,9-15,12-2,15-6,16-12,19-5,25-7,23-16,28-14,29-10,35-13,36-6,40-15, 39-2,42-10',\n          edges:\n'1-2-10,1-4-4,2-3-6,3-4-10,3-5-5,4-7-3,5-6-7,6-7-8,7-8-2,7-9,8-9-3,9-10-5,9-11-7, 10-11-7,11-13-4,12-13-8,12-14-6,13-14-7,13-15-7,14-16-6,15-16-2,15-17-5,16-17-2'\n        }];\n\nfunction DFSParam() {\n  const [message, setMessage] = useState(null);\n\n  return (\n    <>\n      {/* Matrix input */}\n      <EuclideanMatrixParams\n        name=\"DFS\"\n        mode=\"find\"\n        defaultSize={DEFAULT_SIZE}\n        defaultStart={DEFAULT_START}\n        defaultHeur = {DEFAULT_HEUR}\n        defaultEnd={DEFAULT_END}\n        min={1}\n        max={49}\n        graphEgs={GRAPH_EGS}\n        symmetric\n        ALGORITHM_NAME={DFS}\n        EXAMPLE={DFS_EXAMPLE}\n        EXAMPLE2={DFS_EXAMPLE2}\n        setMessage={setMessage} \n        unweighted\n      />\n\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default DFSParam;\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport MatrixParam from './helpers/MatrixParam';\nimport '../../styles/Param.scss';\nimport EuclideanMatrixParams from './helpers/EuclideanMatrixParams';\n\nconst DEFAULT_SIZE = 5;\nconst DFSrec = 'DFSrec\\'s';\nconst DFSrec_EXAMPLE = 'Please provided positive numbers: 0,1'; //TODO\nconst DFSrec_EXAMPLE2 = 'Please enter the symmetrical value in matrix'; //TODO\nconst DEFAULT_START = 5; // XXX null should disable\n// const DEFAULT_END = null; // disable end nodes display/input\n// XXX For now we support at most one end node\n// const DEFAULT_END = [8,9] // XXX not currently supported\nconst DEFAULT_END = [0] // enable end node but start with none\n// const DEFAULT_END = [10] // start with 10 as end node\nconst DEFAULT_HEUR = null;  // disable heuristic display/input\n// const DEFAULT_HEUR = 0;  // 0 = Euclidean\nconst GRAPH_EGS = [ // XXX think up better examples?\n        { name: 'Graph 1',\n          size: 14,\n          coords: '4-3,2-7,7-11,9-3,12-6,13-2,12-16,17-2,20-4,34-4,26-9,30-6,34-10,38-5',\n          edges: '1-2-3,1-4-6,2-3-4,3-4-2,3-5-4,4-5-3,5-6-2,5-7-10,6-8-5,7-11-10,8-9-6,9-10-3,10-12-8,11-12-5,12-13-3,13-14-4'\n        },\n        { name: 'Graph 2',\n          size: 17,\n          coords: '2-13,6-6,7-11,9-15,12-2,15-6,16-12,19-5,25-7,23-16,28-14,29-10,35-13,36-6,40-15, 39-2,42-10',\n          edges:\n'1-2-10,1-4-4,2-3-6,3-4-10,3-5-5,4-7-3,5-6-7,6-7-8,7-8-2,7-9,8-9-3,9-10-5,9-11-7, 10-11-7,11-13-4,12-13-8,12-14-6,13-14-7,13-15-7,14-16-6,15-16-2,15-17-5,16-17-2'\n        }];\n\nfunction DFSrecParam() {\n  const [message, setMessage] = useState(null);\n\n  return (\n    <>\n      {/* Matrix input */}\n      <EuclideanMatrixParams\n        name=\"DFSrec\"\n        mode=\"find\"\n        defaultSize={DEFAULT_SIZE}\n        defaultStart={DEFAULT_START}\n        defaultHeur = {DEFAULT_HEUR}\n        defaultEnd={DEFAULT_END}\n        min={1}\n        max={49}\n        graphEgs={GRAPH_EGS}\n        symmetric\n        ALGORITHM_NAME={DFSrec}\n        EXAMPLE={DFSrec_EXAMPLE}\n        EXAMPLE2={DFSrec_EXAMPLE2}\n        setMessage={setMessage} \n        unweighted\n      />\n\n      {/* render success/error message */}\n      {message}\n    </>\n  );\n}\n\nexport default DFSrecParam;\n","export default __webpack_public_path__ + \"static/media/HSInfo.339acb96.md\";","export default __webpack_public_path__ + \"static/media/BSTInfo.7ba11aae.md\";","export default __webpack_public_path__ + \"static/media/QSInfo.a60ad72f.md\";","export default __webpack_public_path__ + \"static/media/msort_arr_td.e468681e.md\";","export default __webpack_public_path__ + \"static/media/msort_lista_td.fbd6e0c9.md\";","export default __webpack_public_path__ + \"static/media/PRIM_oldInfo.51d714f4.md\";","export default __webpack_public_path__ + \"static/media/PRIMInfo.76210860.md\";","export default __webpack_public_path__ + \"static/media/KRUSKALInfo.ba2468c0.md\";","export default __webpack_public_path__ + \"static/media/TCInfo.6eb03334.md\";","export default __webpack_public_path__ + \"static/media/BFSSInfo.ef247f84.md\";","export default __webpack_public_path__ + \"static/media/QSM3Info.6007072b.md\";","export default __webpack_public_path__ + \"static/media/HSSInfo.a1baa892.md\";","export default __webpack_public_path__ + \"static/media/UFInfo.77b519a0.md\";","export default __webpack_public_path__ + \"static/media/TTFInfo.73e7fe82.md\";","export default __webpack_public_path__ + \"static/media/DIJKInfo.5ca8b667.md\";","export default __webpack_public_path__ + \"static/media/ASTInfo.1ef6f6ab.md\";","export default __webpack_public_path__ + \"static/media/BFSInfo.0e12f400.md\";","export default __webpack_public_path__ + \"static/media/DFSInfo.b6930117.md\";","export default __webpack_public_path__ + \"static/media/DFSrecInfo.f7746a85.md\";","export default {\n  /**\n   * For the search algorithm, we use the tree that is created in\n   * the insertion algorithm to initialise the visualiser\n   * @param {object} visualiser\n   */\n  initVisualisers({ visualiser }) {\n    // clear existing trace, if any\n    visualiser.graph.instance.clear();\n    return {\n      graph: {\n        instance: visualiser.graph.instance,\n        order: 0,\n      },\n    };\n  },\n\n  /**\n   * We use the tree that is created in the insertion algorithm to search\n   * @param {object} chunker\n   * @param {object} visualiser\n   * @param {number} target\n   */\n  run(chunker, { visualiser, target }) {\n    const tree = visualiser.graph.instance.getTree();\n    const root = visualiser.graph.instance.getRoot();\n    const item = target;\n\n    let current = root;\n    let parent = null;\n\n    chunker.add(8);\n    chunker.add(1, (vis, c, p) => vis.graph.visit(c, p), [current, parent]);\n    let ptr = tree;\n    parent = current;\n\n    while (ptr) {\n      chunker.add(2);\n      if (current === item) {\n        chunker.add(2, (vis, c, p) => vis.graph.leave(c, p), [current, parent]);\n        chunker.add(3, (vis, c, p) => vis.graph.select(c, p), [current, parent]);\n        // for test\n        return 'success';\n      }\n\n      chunker.add(4);\n      if (item < current) {\n        if (tree[current].left !== undefined) {\n          // if current node has left child\n          parent = current;\n          current = tree[current].left;\n          ptr = tree[current];\n          chunker.add(5, (vis, c, p) => vis.graph.visit(c, p), [current, parent]);\n        } else {\n          break;\n        }\n      } else if (tree[current].right !== undefined) {\n        // if current node has right child\n        parent = current;\n        current = tree[current].right;\n        ptr = tree[current];\n        chunker.add(6, (vis, c, p) => vis.graph.visit(c, p), [current, parent]);\n      } else {\n        break;\n      }\n    }\n    chunker.add(7);\n    // for test\n    chunker.add(7, (vis) => vis.graph.setText('RESULT NOT FOUND'));\n    return 'fail';\n  },\n};\n","/* eslint-disable object-curly-newline */\n/* eslint-disable no-shadow */\n/* eslint-disable camelcase */\n/* eslint-disable arrow-parens */\n/* eslint-disable no-param-reassign */\nconst classes = (...arr) => arr.filter(v => v).join(' ');\n\nconst distance = (a, b) => {\n  const dx = a.x - b.x;\n  const dy = a.y - b.y;\n  return Math.sqrt(dx * dx + dy * dy);\n};\n\nconst extension = fileName => /(?:\\.([^.]+))?$/.exec(fileName)[1];\n\nconst refineGist = gist => {\n  const gistId = gist.id;\n  const title = gist.description;\n  delete gist.files['algorithm-visualizer'];\n  const { login, avatar_url } = gist.owner;\n  const files = Object.values(gist.files).map(file => ({\n    name: file.filename,\n    content: file.content,\n    contributors: [{ login, avatar_url }],\n  }));\n  return { login, gistId, title, files };\n};\n\nconst createFile = (name, content, contributors) => ({ name, content, contributors });\n\nconst createProjectFile = (name, content) => createFile(name, content, [{\n  login: 'algorithm-visualizer',\n  avatar_url: 'https://github.com/algorithm-visualizer.png',\n}]);\n\nconst createUserFile = (name, content) => createFile(name, content, undefined);\n\nconst isSaved = ({ titles, files, lastTitles, lastFiles }) => {\n  const serialize = (titles, files) => JSON.stringify({\n    titles,\n    files: files.map(({ name, content }) => ({ name, content })),\n  });\n  return serialize(titles, files) === serialize(lastTitles, lastFiles);\n};\n\nexport {\n  classes,\n  distance,\n  extension,\n  refineGist,\n  createFile,\n  createProjectFile,\n  createUserFile,\n  isSaved,\n};\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { classes } from '../util';\nimport styles from './Ellipsis.module.scss';\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass Ellipsis extends React.Component {\n  render() {\n    const { className, children } = this.props;\n\n    return (\n      <span className={classes(styles.ellipsis, className)}>\n        {children}\n      </span>\n    );\n  }\n}\n\nexport default Ellipsis;\n","/* eslint-disable no-multiple-empty-lines */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-closing-bracket-location */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable react/jsx-indent-props */\n/* eslint-disable react/jsx-first-prop-new-line */\n/* eslint-disable react/prop-types */\n/* eslint-disable no-restricted-properties */\n/* eslint-disable space-unary-ops */\n/* eslint-disable operator-linebreak */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport styles from './Renderer.module.scss';\nimport Ellipsis from '../Ellipsis/index';\nimport { classes } from '../util';\n\nclass Renderer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleWheel = this.handleWheel.bind(this);\n\n    this._handleMouseDown = this.handleMouseDown;\n    this._handleWheel = this.handleWheel;\n    this.togglePan(false);\n    this.toggleZoom(false);\n\n    this.lastX = null;\n    this.lastY = null;\n    this.centerX = 0;\n    this.centerY = 0;\n    this.zoom = 1;\n    this.zoomFactor = 1.001;\n    this.zoomMax = 20;\n    this.zoomMin = 1 / 200;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n  }\n\n  togglePan(enable = !this.handleMouseDown) {\n    this.handleMouseDown = enable ? this._handleMouseDown : undefined;\n  }\n\n  toggleZoom(enable = !this.handleWheel) {\n    this.handleWheel = enable ? this._handleWheel : undefined;\n  }\n\n  handleMouseDown(e) {\n    const { clientX, clientY } = e;\n    this.lastX = clientX;\n    this.lastY = clientY;\n    document.addEventListener('mousemove', this.handleMouseMove);\n    document.addEventListener('mouseup', this.handleMouseUp);\n  }\n\n  handleMouseMove(e) {\n    const { clientX, clientY } = e;\n    const dx = clientX - this.lastX;\n    const dy = clientY - this.lastY;\n    this.centerX -= dx;\n    this.centerY -= dy;\n    this.refresh();\n    this.lastX = clientX;\n    this.lastY = clientY;\n  }\n\n  handleMouseUp(e) {\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n  }\n\n  handleWheel(e) {\n    //e.preventDefault();\n    const { deltaY } = e;\n    this.zoom *= Math.pow(this.zoomFactor, deltaY);\n    this.zoom = Math.min(this.zoomMax, Math.max(this.zoomMin, this.zoom));\n    this.refresh();\n  }\n\n  toString(value) {\n    switch (typeof(value)) {\n      case 'number':\n        return [Number.POSITIVE_INFINITY, Number.MAX_SAFE_INTEGER, 0x7fffffff].includes(value) ? '' :\n          [Number.NEGATIVE_INFINITY, Number.MIN_SAFE_INTEGER, -0x80000000].includes(value) ? '-' :\n            Number.isInteger(value) ? value.toString() :\n              value.toFixed(3);\n      case 'boolean':\n        return value ? 'T' : 'F';\n      default:\n        return value;\n    }\n  }\n\n  refresh() {\n    this.forceUpdate();\n  }\n\n  renderData() {\n    return null;\n  }\n\n  render() {\n    const { className, title } = this.props;\n    const zoomPref = true;\n    return (\n      <div\n        className={classes(styles.renderer, className)}\n        onMouseDown={zoomPref ? this.handleMouseDown : null}\n        onWheel={zoomPref ? this.handleWheel : null}\n      >\n        <Ellipsis className={styles.title}>{title}</Ellipsis>\n        { this.renderData() }\n      </div>\n    );\n  }\n}\n\nexport default Renderer;\n\n","/* eslint-disable class-methods-use-this */\nimport React from 'react';\nimport Renderer from './Renderer/index';\n\nclass Tracer {\n  constructor(key, getObject, title, options) {\n    this.key = key;\n    this.getObject = getObject;\n    this.title = title;\n    if (options !== undefined) {\n      this.arrayItemMagnitudes = options.arrayItemMagnitudes;\n      this.largestValue = options.largestValue;\n    }\n    this.init();\n    this.reset();\n  }\n\n  getRendererClass() {\n    return Renderer;\n  }\n\n  init() {\n  }\n\n  render() {\n    const RendererClass = this.getRendererClass();\n    return (\n      <RendererClass key={this.key} title={this.title} data={this} />\n    );\n  }\n\n  set() {\n  }\n\n  reset() {\n    this.set();\n  }\n}\n\nexport default Tracer;\n","var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgFont(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"517pt\",\n    viewBox: \"0 -45 517.33333 517\",\n    width: \"517pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m240 384.167969h-21.332031v-341.335938h128v21.335938c0 11.796875 9.535156 21.332031 21.332031 21.332031s21.332031-9.535156 21.332031-21.332031v-42.667969c0-11.796875-9.535156-21.332031-21.332031-21.332031h-346.667969c-11.796875 0-21.332031 9.535156-21.332031 21.332031v42.667969c0 11.796875 9.535156 21.332031 21.332031 21.332031s21.335938-9.535156 21.335938-21.332031v-21.335938h133.332031v341.335938h-21.332031c-11.796875 0-21.335938 9.535156-21.335938 21.332031s9.539063 21.332031 21.335938 21.332031h85.332031c11.796875 0 21.332031-9.535156 21.332031-21.332031s-9.535156-21.332031-21.332031-21.332031zm0 0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m496 192.167969h-170.667969c-11.796875 0-21.332031 9.535156-21.332031 21.332031v37.332031c0 11.796875 9.535156 21.335938 21.332031 21.335938s21.335938-9.539063 21.335938-21.335938v-16h42.664062v149.335938h-10.664062c-11.796875 0-21.335938 9.535156-21.335938 21.332031s9.539063 21.332031 21.335938 21.332031h64c11.796875 0 21.332031-9.535156 21.332031-21.332031s-9.535156-21.332031-21.332031-21.332031h-10.667969v-149.335938h42.667969v10.667969c0 11.796875 9.535156 21.332031 21.332031 21.332031s21.332031-9.535156 21.332031-21.332031v-32c0-11.796875-9.535156-21.332031-21.332031-21.332031zm0 0\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgFont);\nexport default __webpack_public_path__ + \"static/media/font.612d92cd.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useState, useRef } from 'react';\n\nexport default function useComponentVisible(initialIsVisible) {\n  const [isComponentVisible, setIsComponentVisible] = useState(initialIsVisible);\n  const ref = useRef(null);\n\n  const handleClickOutside = (event) => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      setIsComponentVisible(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside, true);\n    return () => {\n      document.removeEventListener('click', handleClickOutside, true);\n    };\n  });\n\n  return { ref, isComponentVisible, setIsComponentVisible };\n}\n\n// Returns true if it is a DOM node\nfunction isNode(o) {\n  return (\n    typeof Node === 'object' ? o instanceof Node\n      : o && typeof o === 'object' && typeof o.nodeType === 'number' && typeof o.nodeName === 'string'\n  );\n}\n\n// Returns true if it is a DOM element\nfunction isElement(o) {\n  return (\n    typeof HTMLElement === 'object' ? o instanceof HTMLElement // DOM2\n      : o && typeof o === 'object' && o !== null && o.nodeType === 1 && typeof o.nodeName === 'string'\n  );\n}\n\nexport function increaseFontSize(id, increaseFactor) {\n  const txt = document.getElementById(id);\n  if (isElement(txt) || isNode(txt)) {\n    const style = window.getComputedStyle(txt, null).getPropertyValue('font-size');\n    const currentSize = parseFloat(style);\n    txt.style.fontSize = `${currentSize + increaseFactor}px`;\n  }\n}\n\nexport function setFontSize(id, fontSize) {\n  const txt = document.getElementById(id);\n  if (isElement(txt) || isNode(txt)) {\n    // const style = window.getComputedStyle(txt, null).getPropertyValue('font-size');\n    // const currentSize = parseFloat(style);\n    txt.style.fontSize = `${fontSize}px`;\n  }\n}\n\nexport function getCSSVariable(cssVar) {\n  let res = getComputedStyle(document.documentElement).getPropertyValue(cssVar);\n  res = res.replace(/\\s/g, '');\n  return res;\n}\n\nexport function isDarkMode() {\n  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n    return true;\n  }\n\n  return false;\n}\n\nexport const ALGO_THEME_KEY = 'algo-theme';\nexport const ALGO_THEME_1 = 'default';\nconst ALGO_THEME_2 = 'green';\nconst ALGO_THEME_3 = 'red';\n\n// Color Scheme\nexport const allColBtn = [\n  {\n    id: ALGO_THEME_1,\n    primary: 'positive1',\n    secondary: 'negative1',\n    third:'hint1',\n    fourth:'back-up1',\n  },\n  {\n    id: ALGO_THEME_2,\n    primary: 'positive2',\n    secondary: 'negative2',\n    third:'hint2',\n    fourth:'back-up2',\n  },\n  {\n    id: ALGO_THEME_3,\n    primary: 'cyan',\n    secondary: 'purple',\n    third:'green',\n    fourth:'yellow',\n  },\n];\n\nexport const SYSTEM_THEME_KEY = 'data-theme';\nconst SYSTEM_THEME_1 = 'light';\nconst SYSTEM_THEME_2 = 'dark';\n\nexport const allSystemCol = [\n  {\n    id: SYSTEM_THEME_1,\n    primary: 'white',\n    secondary: 'white',\n    third:'white',\n    fourth:'white',\n  },\n  {\n    id: SYSTEM_THEME_2,\n    primary: 'black',\n    secondary: 'black',\n    third:'black',\n    fourth:'black',\n  },\n];\n\n\nfunction setWithExpiry(key, value, ttl) {\n  const now = new Date();\n  // `item` is an object which contains the original value\n  // as well as the time when it's supposed to expire\n  const item = {\n    value,\n    expiry: now.getTime() + ttl,\n  };\n  localStorage.setItem(key, JSON.stringify(item));\n}\n\nexport function getWithExpiry(key) {\n  const itemStr = localStorage.getItem(key);\n  // if the item doesn't exist, return null\n  if (!itemStr) {\n    return null;\n  }\n  const item = JSON.parse(itemStr);\n\n  const now = new Date();\n  // compare the expiry time of the item with the current time\n  if (now.getTime() > item.expiry) {\n    // If the item is expired, delete the item from storage\n    // and return null\n    localStorage.removeItem(key);\n    return null;\n  }\n\n  return item.value;\n}\n\nconst EXPIRE_SEC = (86400) * 1000; // 1 day\n// const EXPIRE_SEC = 5 * 1000; // 5 sec\n\nexport function setTheme(theme) {\n  if (theme === SYSTEM_THEME_1) {\n    setWithExpiry(SYSTEM_THEME_KEY, SYSTEM_THEME_1, EXPIRE_SEC);\n    document.documentElement.setAttribute(SYSTEM_THEME_KEY, SYSTEM_THEME_1);\n  } else if (theme === SYSTEM_THEME_2) {\n    setWithExpiry(SYSTEM_THEME_KEY, SYSTEM_THEME_2, EXPIRE_SEC);\n    document.documentElement.setAttribute(SYSTEM_THEME_KEY, SYSTEM_THEME_2);\n  }\n}\n\n\nexport function getSystemColorMode() {\n  if (window.matchMedia && window.matchMedia(`(prefers-color-scheme: ${SYSTEM_THEME_2})`).matches) {\n    return SYSTEM_THEME_2;\n  }\n  return SYSTEM_THEME_1;\n}\n\n\nexport function setAlgoTheme(theme) {\n  if (theme === ALGO_THEME_1) {\n    setWithExpiry(ALGO_THEME_KEY, ALGO_THEME_1, EXPIRE_SEC);\n    document.documentElement.setAttribute(ALGO_THEME_KEY, ALGO_THEME_1);\n  } else if (theme === ALGO_THEME_2) {\n    setWithExpiry(ALGO_THEME_KEY, ALGO_THEME_2, EXPIRE_SEC);\n    document.documentElement.setAttribute(ALGO_THEME_KEY, ALGO_THEME_2);\n  } else if (theme === ALGO_THEME_3) {\n    setWithExpiry(ALGO_THEME_KEY, ALGO_THEME_3, EXPIRE_SEC);\n    document.documentElement.setAttribute(ALGO_THEME_KEY, ALGO_THEME_3);\n  }\n}\n","/* eslint-disable import/no-mutable-exports */\nimport React from 'react';\nimport '../../styles/Settings.scss';\nimport PropTypes from 'prop-types';\nimport { ReactComponent as Font } from '../../assets/icons/font.svg';\nimport {\n  allColBtn, allSystemCol,\n} from './helper';\n// import Checkbox from './Checkbox';\n\nconst DEFAULT_COL = 0;\n\nconst mode = () => DEFAULT_COL;\n\nfunction Settings({\n  onFontIncrease,\n  onSetting,\n  colorMode,\n  handleColorModeChange,\n  systemColor,\n  handleSystemColorChange,\n}) {\n  return (\n    <div className=\"settingsContainer\">\n      <div className=\"setContainer\">\n        <div className=\"label\">Font Size</div>\n        <div className=\"fontSize\">\n          <button type=\"button\" className=\"fontBtn small\" onClick={() => { onFontIncrease(-1); }}>\n            <Font />\n          </button>\n          <button type=\"button\" className=\"fontBtn big\" onClick={() => { onFontIncrease(1); }}>\n            <Font />\n          </button>\n        </div>\n      </div>\n      <div className=\"setContainer\">\n        <div className=\"label\">Data Structures</div>\n        <div className=\"algoCol\">\n          {\n          allColBtn.map(({ primary, secondary, third,fourth,id }) => (\n            <button key={id} id={id} type=\"button\" className={colorMode === id ? 'colorBtn active' : 'colorBtn'} onClick={(e) => handleColorModeChange(e.target.id)}>\n              <table border=\"0\">\n                <tr>\n                  <th id={id} className={`top-left ${primary}`}></th>\n                  <th id={id} className={`top-right ${secondary}`}></th>\n                </tr>\n                <tr>\n                  <td id={id} className={`bottom-left ${third}`}></td>\n                  <td id={id} className={`bottom-right ${fourth}`}></td>\n                </tr>\n              </table>\n              \n              \n            </button>   \n          ))\n        }\n        </div>\n      </div>\n      <div className=\"setContainer\">\n        <div className=\"label\">System</div>\n        <div className=\"algoCol\">\n          {\n          allSystemCol.map(({ primary, secondary, id }) => (\n            <button key={id} id={id} type=\"button\" className={systemColor === id ? 'colorBtn active' : 'colorBtn'} onClick={(e) => handleSystemColorChange(e.target.id)}>\n              <span id={id} className={`left ${primary}`}> </span>\n              <span id={id} className={`right ${secondary}`}> </span>\n            </button>\n          ))\n        }\n        </div>\n      </div>\n      {/* <div className=\"setContainer\">\n        <div className=\"label\">Zoom Preference</div>\n        <Checkbox />\n      </div> */}\n      <div className=\"settingFooter\">\n        <button className=\"saveBtn\" type=\"button\" onClick={onSetting}>Return</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Settings;\nexport {\n  mode,\n};\n\nSettings.propTypes = {\n  onFontIncrease: PropTypes.func.isRequired,\n  onSetting: PropTypes.func.isRequired,\n  colorMode: PropTypes.string.isRequired,\n  handleColorModeChange: PropTypes.func.isRequired,\n  systemColor: PropTypes.string.isRequired,\n  handleSystemColorChange: PropTypes.func.isRequired,\n};\n","/* eslint-disable no-multiple-empty-lines */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable arrow-parens */\n/* eslint-disable operator-linebreak */\n/* eslint-disable react/jsx-closing-bracket-location */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-one-expression-per-line */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/jsx-indent-props */\n/* eslint-disable react/jsx-first-prop-new-line */\n/* eslint-disable max-len */\n/* eslint-disable object-curly-newline */\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport Renderer from '../../common/Renderer/index';\nimport { classes, distance } from '../../common/util';\nimport styles from './GraphRenderer.module.scss';\nimport { mode } from '../../../top/Settings';\n\nlet modename;\nfunction switchmode(modetype = mode()) {\n  switch (modetype) {\n    case 1:\n      modename = styles.graphgreen;\n      break;\n    case 2:\n      modename = styles.graphblue;\n      break;\n    default:\n      modename = styles.graph;\n  }\n  return modename;\n}\n\nexport function calculateControlCord(x1, y1, x2, y2) {\n  // Slope for line that perpendicular to (x1,y1) (x2,y2)\n  const slope = -(x2 - x1) / (y2 - y1);\n  let cx;\n  let cy;\n  let direction = y1 > y2 ? 1 : -1;\n\n  if (Math.abs(y1 - y2) / Math.abs(x1 - x2) < 0.5) {\n    direction = x1 > x2 ? 1 : -1;\n    cx = (x2 + x1) / 2;\n    cy = (y1 + y2) / 2 + direction * 30;\n  } else {\n    cx = (x2 + x1) / 2 + direction * 30;\n    cy = slope * (cx - (x1 + x2) / 2) + (y1 + y2) / 2;\n  }\n  return { cx, cy };\n}\n\nclass GraphRenderer extends Renderer {\n  constructor(props) {\n    super(props);\n\n    // XXX shouldn't rely on this.props.title\n    // XXX This plus the code for axes and graph layout (eg layoutCircle()\n    // and code where X-Y coordinates are explicitly given by the user) is\n    // linked. Some magic numbers were added to shift things around and make\n    // things look ok.  It should be rethought or at least the numbers for\n    // this.centerX and this.centerY should be put in one place.\n    if (this.props.title === 'Graph view') {\n      // Center to new axis origin\n      // this.centerX = 180;\n      this.centerX = 650; // shift graph display left\n      this.centerY = -200;\n    }\n    this.zoom = 0.85; // zoom out a bit to fit graph on screen\n\n    this.elementRef = React.createRef();\n    this.selectedNode = null;\n\n    this.togglePan(true);\n    this.toggleZoom(true);\n  }\n\n  handleMouseDown(e) {\n    super.handleMouseDown(e);\n    const coords = this.computeCoords(e);\n    const { nodes, dimensions } = this.props.data;\n    const { nodeRadius } = dimensions;\n    this.selectedNode = nodes.find(\n      (node) => distance(coords, node) <= nodeRadius\n    );\n  }\n\n  handleMouseMove(e) {\n    // XXX would be nice to avoid selecting text with reverse video\n    // as we move the mouse around!\n    if (this.selectedNode && this.props.data.moveNode) {\n      // Allow mouse to move nodes (for Euclidean graphs) if\n      // this.props.data.moveNode function is defined\n      const { x, y } = this.computeCoords(e);\n      const node = this.props.data.findNode(this.selectedNode.id);\n      const scaleSize = 30; // XXX should define globally in one spot!\n      const scaledX = Math.round(x/scaleSize);\n      const scaledY = -Math.round(y/scaleSize);\n      if (scaledX > 0 && scaledY > 0) { // limit range, XXX add max?\n        this.props.data.moveNode(node.id, scaledX, scaledY);\n        node.x = x;\n        node.y = y;\n        this.refresh();\n      }\n    } else if (this.selectedNode) {\n      // Ignore mouse movement if no moveNode function is defined\n      this.refresh();\n    } else {\n      super.handleMouseMove(e);\n    }\n  }\n\n  computeCoords(e) {\n    const svg = this.elementRef.current;\n    const s = svg.createSVGPoint();\n    s.x = e.clientX;\n    s.y = e.clientY;\n    const { x, y } = s.matrixTransform(svg.getScreenCTM().inverse());\n    return { x, y };\n  }\n\n  /**\n   * Compute the max x and y from nodes coordinates for auto scalling\n   */\n  computeMax(nodes) {\n    var xMax = 0;\n    var yMax = 0;\n\n    const nodesXArr = [];\n    const nodesYArr = [];\n    for (const node of nodes) {\n      const { x, y } = node;\n      nodesXArr.push(x);\n      nodesYArr.push(y);\n    }\n    xMax = Math.max.apply(null, nodesXArr.map(Math.abs));\n    yMax = Math.max.apply(null, nodesYArr.map(Math.abs));\n    return { x: xMax, y: yMax };\n  }\n\n  /**\n   * Add scale tick marks to the axis\n   */\n  computeScales(\n    min,\n    max,\n    center,\n    stepSize = 30,\n    stepHeight = 15, // size of scale mark tick on axes\n    increment = 1\n  ) {\n    const scales = [];\n    const alignMinX = center.x - stepHeight / 2;\n    const alignMaxX = center.x + stepHeight / 2;\n    const alignMinY = center.y - stepHeight / 2;\n    const alignMaxY = center.y + stepHeight / 2;\n\n    for (let i = increment; i <= (max - min) / stepSize; i += increment) {\n      scales.push({\n        label: 'x',\n        x1: min + i * stepSize,\n        x2: min + i * stepSize,\n        y1: alignMinY,\n        y2: alignMaxY,\n        num: i,\n      });\n      scales.push({\n        label: 'y',\n        x1: alignMinX,\n        x2: alignMaxX,\n        y1: -(min + i) * stepSize,\n        y2: -(min + i) * stepSize,\n        num: i,\n      });\n    }\n\n    return scales;\n  }\n\n  /**\n   * Add arrows to the end of axis using two lines\n   */\n  computeArrows(label, axisEndPoint, length, width) {\n    var arrow1;\n    var arrow2;\n\n    if (label === 'x') {\n      arrow1 = {\n        x1: axisEndPoint.x,\n        y1: axisEndPoint.y,\n        x2: axisEndPoint.x - length,\n        y2: axisEndPoint.y - width / 2,\n      };\n      arrow2 = {\n        x1: axisEndPoint.x,\n        y1: axisEndPoint.y,\n        x2: axisEndPoint.x - length,\n        y2: axisEndPoint.y + width / 2,\n      };\n    } else if (label === 'y') {\n      arrow1 = {\n        x1: axisEndPoint.x,\n        y1: -axisEndPoint.y,\n        x2: axisEndPoint.x - width / 2,\n        y2: -axisEndPoint.y + length,\n      };\n      arrow2 = {\n        x1: axisEndPoint.x,\n        y1: -axisEndPoint.y,\n        x2: axisEndPoint.x + width / 2,\n        y2: -axisEndPoint.y + length,\n      };\n    } else {\n      arrow1 = {};\n      arrow2 = {};\n    }\n\n    return [arrow1, arrow2];\n  }\n\n  /*\n   * Calculate the scale of the x y axes dependant on the maximum x and y coordinates.\n   */\n  calculateAxisScale(maxScale, stepSize = 30) {\n    const trueMax = Math.max(maxScale.x, maxScale.y) / stepSize; // Maximum individual coordinate value.\n\n    // Determine scale up to multiple of 10.\n    for (let i = 1; i < 10; ++i) {\n      const maxCoord = 10 * i;\n      if (trueMax < maxCoord) {\n        return maxCoord * stepSize;\n      }\n    }\n\n    const maxCoord = 100;\n    return maxCoord * stepSize;\n  }\n\n  /*\n   * Calculate value increment of axis coordinate labels.\n   */\n  calculateIncrement(axisScale, stepSize = 30) {\n    const maxCoord = (axisScale /= stepSize); // The maximum coordinate each axis displays.\n    if (maxCoord <= 20) {\n      return 1;\n    } else if (maxCoord <= 50) {\n      return 5;\n    }\n    const maxIncrement = 10;\n    return maxIncrement;\n  }\n\n  /*\n   * Determine multiplier for size of all labels on the graph.\n   */\n  calculateLabelSizeMultiplier(axisScale, stepSize = 30) {\n    const maxCoord = (axisScale /= stepSize); // The maximum coordinate each axis displays.\n    for (let i = 1; i < 10; ++i) {\n      if (maxCoord <= i * 10) {\n        const multiplier = 1 + (i - 1) * 0.2;\n        return multiplier;\n      }\n    }\n  }\n\n  /*\n   * Render x y axis\n   */\n  renderAxis(maxScale) {\n    const axisCenter = { x: 0, y: 0 }; // axis position\n\n    // Scaling variables.\n    const axisScale = this.calculateAxisScale(maxScale); // Largest coordinate value of each axis.\n    const increment = this.calculateIncrement(axisScale); // Calculate value increment of axis coordinate labels.\n    const labelMultiplier = this.calculateLabelSizeMultiplier(axisScale); // Multiplier for size of all labels.\n\n    const scales = this.computeScales(\n      0,\n      axisScale,\n      axisCenter,\n      undefined,\n      undefined,\n      increment\n    ); // list of scales\n\n    const axisEndPoint = axisScale + 20;\n    const axisArrowX = this.computeArrows(\n      'x',\n      { x: axisEndPoint, y: axisCenter.y },\n      18,\n      18\n    ); // list containing fragments to form arrow on x\n    const axisArrowY = this.computeArrows(\n      'y',\n      { x: axisCenter.x, y: axisEndPoint },\n      18,\n      18\n    ); // list containing fragments to form arrow on y\n\n    const labelPadding = 20;\n    const labelPosX = axisEndPoint + labelPadding;\n    const labelPosY = axisEndPoint + labelPadding;\n\n    const originCoords = { x: axisCenter.x - 12, y: axisCenter.y + 16 };\n\n    if (this.props.title !== 'Graph view') {\n      // Do not render axis if its not graph\n      return <g></g>;\n    }\n\n    return (\n      <g>\n        {/* Add X and Y Axis */}\n        <line\n          x1={0}\n          y1={axisCenter.y}\n          x2={axisEndPoint}\n          y2={axisCenter.y}\n          className={styles.axis}\n        />\n\n        <line\n          x1={axisCenter.x}\n          y1={0}\n          x2={axisCenter.x}\n          y2={-axisEndPoint}\n          className={styles.axis}\n        />\n\n        {/* Arrow X */}\n        {axisArrowX.map((frag) => {\n          return (\n            <line\n              x1={frag.x1}\n              y1={frag.y1}\n              x2={frag.x2}\n              y2={frag.y2}\n              className={styles.axis}\n            />\n          );\n        })}\n\n        {/* Arrow Y */}\n        {axisArrowY.map((frag) => {\n          return (\n            <line\n              x1={frag.x1}\n              y1={frag.y1}\n              x2={frag.x2}\n              y2={frag.y2}\n              className={styles.axis}\n            />\n          );\n        })}\n\n        {/* X Axis Label */}\n        <text\n          x={labelPosX}\n          y={axisCenter.y + 5}\n          textAnchor=\"middle\"\n          className={styles.axisLabel}\n        >\n          x\n        </text>\n\n        {/* Y Axis Label */}\n        <text\n          x={axisCenter.x}\n          y={-labelPosY}\n          textAnchor=\"middle\"\n          className={styles.axisLabel}\n        >\n          y\n        </text>\n\n        {/* Origin Label */}\n        <text\n          x={originCoords.x}\n          y={originCoords.y}\n          textAnchor=\"middle\"\n          className={styles.axisLabel}\n        >\n          0\n        </text>\n\n        {/* Scales */}\n        {scales.map((scale) => {\n          if (scale.label === 'x') {\n            return (\n              <g>\n                <line\n                  x1={scale.x1}\n                  y1={scale.y1}\n                  x2={scale.x2}\n                  y2={scale.y2}\n                  className={styles.axis}\n                />\n                <text\n                  x={scale.x1}\n                  y={originCoords.y + 30}\n                  textAnchor=\"middle\"\n                  className={styles.axisLabel}\n                >\n                  {' '}\n                  {scale.num}{' '}\n                </text>\n              </g>\n            );\n          } else if (scale.label === 'y') {\n            return (\n              <g>\n                <line\n                  x1={scale.x1}\n                  y1={scale.y1}\n                  x2={scale.x2}\n                  y2={scale.y2}\n                  className={styles.axis}\n                />\n                <text\n                  x={originCoords.x - 25}\n                  y={scale.y1 + 6}\n                  textAnchor=\"middle\"\n                  className={styles.axisLabel}\n                >\n                  {' '}\n                  {scale.num}{' '}\n                </text>\n              </g>\n            );\n          }\n        })}\n      </g>\n    );\n  }\n\n  renderData() {\n    const { nodes, edges, isDirected, isWeighted, dimensions, text } =\n      this.props.data;\n    const {\n      baseWidth,\n      baseHeight,\n      nodeRadius,\n      arrowGap,\n      nodeWeightGap,\n      edgeWeightGap,\n    } = dimensions;\n    const viewBox = [\n      (this.centerX - baseWidth / 2) / this.zoom,\n      (this.centerY - baseHeight / 2) / this.zoom,\n      baseWidth / this.zoom,\n      baseHeight / this.zoom,\n    ];\n    const root = nodes[0];\n    let rootX = 0;\n    let rootY = 0;\n    if (root) {\n      rootX = root.x;\n      rootY = root.y;\n    }\n\n    return (\n      <svg\n        className={switchmode(mode())}\n        viewBox={viewBox}\n        ref={this.elementRef}\n      >\n        <defs>\n          <marker\n            id=\"markerArrow\"\n            markerWidth=\"6\"\n            markerHeight=\"6\"\n            refX=\"3\"\n            refY=\"3\"\n            orient=\"auto\"\n          >\n            <path d=\"M0,0 L0,6 L6,3 L0,0\" className={styles.arrow} />\n          </marker>\n          <marker\n            id=\"markerArrowSelected\"\n            markerWidth=\"6\"\n            markerHeight=\"6\"\n            refX=\"3\"\n            refY=\"3\"\n            orient=\"auto\"\n          >\n            <path\n              d=\"M0,0 L0,6 L6,3 L0,0\"\n              className={classes(styles.arrow, styles.selected)}\n            />\n          </marker>\n          <marker\n            id=\"markerArrowVisited\"\n            markerWidth=\"6\"\n            markerHeight=\"6\"\n            refX=\"3\"\n            refY=\"3\"\n            orient=\"auto\"\n          >\n            <path\n              d=\"M0,0 L0,6 L6,3 L0,0\"\n              className={classes(styles.arrow, styles.visited)}\n            />\n          </marker>\n          <marker\n            id=\"markerArrowVisited1\"\n            markerWidth=\"6\"\n            markerHeight=\"6\"\n            refX=\"3\"\n            refY=\"3\"\n            orient=\"auto\"\n          >\n            <path\n              d=\"M0,0 L0,6 L6,3 L0,0\"\n              className={classes(styles.arrow, styles.visited1)}\n            />\n          </marker>\n          <marker\n            id=\"markerArrowVisited2\"\n            markerWidth=\"6\"\n            markerHeight=\"6\"\n            refX=\"3\"\n            refY=\"3\"\n            orient=\"auto\"\n          >\n            <path\n              d=\"M0,0 L0,6 L6,3 L0,0\"\n              className={classes(styles.arrow, styles.visited2)}\n            />\n          </marker>\n          <marker\n            id=\"markerArrowVisited3\"\n            markerWidth=\"6\"\n            markerHeight=\"6\"\n            refX=\"3\"\n            refY=\"3\"\n            orient=\"auto\"\n          >\n            <path\n              d=\"M0,0 L0,6 L6,3 L0,0\"\n              className={classes(styles.arrow, styles.visited3)}\n            />\n          </marker>\n          <marker\n            id=\"markerArrowVisited4\"\n            markerWidth=\"6\"\n            markerHeight=\"6\"\n            refX=\"3\"\n            refY=\"3\"\n            orient=\"auto\"\n          >\n            <path\n              d=\"M0,0 L0,6 L6,3 L0,0\"\n              className={classes(styles.arrow, styles.visited4)}\n            />\n          </marker>\n        </defs>\n\n        {/* X axis and Y axis */}\n        {this.renderAxis(this.computeMax(nodes))}\n\n        {edges\n          .sort(\n            (a, b) =>\n              a.visitedCount -\n              b.visitedCount +\n              a.visitedCount1 -\n              b.visitedCount1\n          )\n          .map((edge) => {\n            const {\n              source,\n              target,\n              weight,\n              visitedCount,\n              selectedCount,\n              visitedCount0,\n              visitedCount1,\n              visitedCount2,\n              visitedCount3,\n              visitedCount4,\n            } = edge;\n            const sourceNode = this.props.data.findNode(source);\n            const targetNode = this.props.data.findNode(target);\n            if (!sourceNode || !targetNode) return undefined;\n            const { x: sx, y: sy } = sourceNode;\n            let { x: ex, y: ey } = targetNode;\n            const mx = (sx + ex) / 2;\n            const my = (sy + ey) / 2;\n            const dx = ex - sx;\n            const dy = ey - sy;\n            if (isDirected) {\n              const length = Math.sqrt(dx * dx + dy * dy);\n              if (length !== 0) {\n                ex = sx + (dx / length) * (length - nodeRadius - arrowGap);\n                ey = sy + (dy / length) * (length - nodeRadius - arrowGap);\n              }\n            }\n            let pathSvg = null;\n            if (this.props.data.isInterConnected(source, target)) {\n              const { cx, cy } = calculateControlCord(sx, sy, ex, ey);\n              pathSvg = `M${sx},${sy} Q${cx},${cy},${ex},${ey}`;\n            } else {\n              pathSvg = `M${sx},${sy} L${ex},${ey}`;\n            }\n            // console.log(sx,sy,ex,ey,cx,cy);\n            return (\n              <g\n                className={classes(\n                  styles.edge,\n                  targetNode.sorted && styles.sorted,\n                  selectedCount && styles.selected,\n                  !selectedCount && visitedCount && styles.visited,\n                  visitedCount0 && styles.visited,\n                  visitedCount1 && styles.visited1,\n                  visitedCount2 && styles.visited2,\n                  visitedCount3 && styles.visited3,\n                  visitedCount4 && styles.visited4\n                )}\n                key={`${source}-${target}`}\n              >\n                <path\n                  d={pathSvg}\n                  className={classes(\n                    styles.line,\n                    isDirected && styles.directed\n                  )}\n                />\n                {isWeighted && (\n                  <g transform={`translate(${mx},${my})`}>\n                    <text\n                      className={styles.weight}\n                      transform=\"rotate(0)\"\n                      y={-edgeWeightGap}\n                    >\n                      {this.toString(weight)}\n                    </text>\n                  </g>\n                )}\n              </g>\n            );\n          })}\n        {/* node graph */}\n        {nodes.map((node) => {\n          const {\n            x,\n            y,\n            weight,\n            visitedCount0,\n            visitedCount,\n            visitedCount1,\n            visitedCount2,\n            visitedCount3,\n            visitedCount4,\n            selectedCount,\n            value,\n            key,\n            style,\n            sorted,\n            isPointer,\n            pointerText,\n          } = node;\n          // only when selectedCount is 1, then highlight the node\n          const selectNode = selectedCount === 1;\n          const visitedNode0 = visitedCount0 === 1;\n          const visitedNode = visitedCount === 1;\n          const visitedNode1 = visitedCount1 === 1;\n          const visitedNode2 = visitedCount2 === 1;\n          const visitedNode3 = visitedCount3 === 1;\n          const visitedNode4 = visitedCount4 === 1;\n          return (\n            <motion.g\n              animate={{ x, y }}\n              initial={false}\n              transition={{ duration: 1 }}\n              className={classes(\n                styles.node,\n                selectNode && styles.selected,\n                sorted && styles.sorted,\n                visitedNode0 && styles.visited0,\n                visitedNode && styles.visited,\n                visitedNode1 && styles.visited1,\n                visitedNode2 && styles.visited2,\n                visitedNode3 && styles.visited3,\n                visitedNode4 && styles.visited4\n              )}\n              key={key}\n            >\n              <circle\n                className={classes(\n                  styles.circle,\n                  style && style.backgroundStyle\n                )}\n                r={nodeRadius}\n              />\n              <text className={classes(styles.id, style && style.textStyle)}>\n                {value}\n              </text>\n              {isWeighted && (\n                <text className={styles.weight} x={nodeRadius + nodeWeightGap}>\n                  {this.toString(weight)}\n                </text>\n              )}\n              {isPointer && (\n                <text className={styles.weight} x={nodeRadius + nodeWeightGap}>\n                  {this.toString(pointerText)}\n                </text>\n              )}\n            </motion.g>\n          );\n        })}\n        <text\n          style={{ fill: '#ff0000' }}\n          textAnchor=\"middle\"\n          x={rootX}\n          y={rootY - 20}\n        >\n          {text}\n        </text>\n      </svg>\n    );\n  }\n}\n\nexport default GraphRenderer;\n","/* eslint-disable no-prototype-builtins */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable object-curly-newline */\n/* eslint-disable operator-linebreak */\n/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-else-return */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable prefer-rest-params */\n/* eslint-disable arrow-parens */\n/* eslint-disable prefer-template */\n/* eslint-disable-next-line max-classes-per-file */\n/* eslint-disable import/no-unresolved */\nimport Tracer from '../common/Tracer';\nimport { distance } from '../common/util';\nimport GraphRenderer from './GraphRenderer/index';\n\nexport class Element {\n  constructor() {\n    this.variables = [];\n  }\n}\n\nclass GraphTracer extends Tracer {\n  getRendererClass() {\n    return GraphRenderer;\n  }\n\n  init() {\n    super.init();\n    this.dimensions = {\n      baseWidth: 480,\n      baseHeight: 480,\n      padding: 32,\n      // nodeRadius is used in binary trees and graphs but font size and\n      // zoom(?) has been adjusted for Euclidean graphs so nodes look a\n      // bit fat there and a bit think in other places - should make\n      // them all look similar if possible XXX\n      defaultNodeRadius: 33,\n      nodeRadius: 33,  // Should be identical to default node radius.\n      arrowGap: 4,\n      nodeWeightGap: 4,\n      edgeWeightGap: 4,\n    };\n    this.isDirected = true;\n    this.isWeighted = false;\n    this.callLayout = { method: this.layoutCircle, args: [] };\n    this.text = null;\n    this.logTracer = null;\n    this.istc = false;\n  }\n\n  /* \n   * Calcluates the maximum individual coordinate from an array of x y coordinates.\n  */\n  calculateMaximumCoordinate(coordinates) {\n    let max = 0;\n    for (let i = 0; i < coordinates.length; i++) {\n      if(coordinates[i][0] > max)\n      {\n        max = coordinates[i][0];\n      }\n      else if(coordinates[i][1] > max)\n      {\n        max = coordinates[i][1];\n      }\n    }\n    return max;\n  }\n\n  /*\n   * Sets the node radius dependant on the maximum node coordinate from an array of coordinates.\n  */\n// XXX\n// Better for node radius to also depend on number of nodes (and\n// perhaps the shortest edge length).  We want the coordinate\n// values to be up to 50 generally so we can have reasonable\n// precision with Euclidean distance.  Currently things are\n// way too small with larger coordinate values and the scaling\n// and font size control is a mystery to me...\n  setNodeRadius(coordinates = [])\n  {\n    if(coordinates.length === 0)\n    {\n      this.dimensions.nodeRadius = this.dimensions.defaultNodeRadius;\n    }\n\n    const maxCoord = this.calculateMaximumCoordinate(coordinates);\n    for(let i = 0; i <= 10; ++i)\n    {\n      if(maxCoord < (i + 1) * 10)\n      {\n        const radiusIncrease = (i - 1) * 6\n        // XXX makes graph nodes rather fat compared with tree nodes\n        // with default values so I've deleted it for now\n        // this.dimensions.nodeRadius = this.dimensions.defaultNodeRadius + radiusIncrease;\n        return;\n      }\n    }\n\n    // XXX\n    // SHOULD ALSO SET LABEL SIZE OF NODE HERE !!!\n    // ALTERNATIVELY LABEL SIZE SHOULD BE CALCULATED ELSEWHERE DEPENDANT ON NODE RADIUS!!! \n  }\n\n  /**\n   * This is the original function provided by Tracer.js,\n   * but we add a second argument which accepts nodes' values\n   * and a third argument which accepts nodes' coordinates.\n   * @param {array} array2d 2D array of nodes\n   */\n  set(array2d = [], values = [], coordinates = []) {\n    this.scaledCoords = coordinates;\n    this.setNodeRadius(coordinates);\n\n    // Set layout to null if nodes are to be displayed by coordinates.\n    if(coordinates.length > 0)\n    {\n      this.callLayout = null;\n    }\n    this.nodes = [];\n    this.edges = [];\n    for (let i = 0; i < array2d.length; i++) {\n      const nodeValue = values[i] ? values[i] : i;\n      if(coordinates.length === 0)\n      {\n        this.addNode(i, nodeValue);\n      }\n      else\n      {\n        // Do not change this value unless you also change axis scales\n        // and also check handleMouseMove\n        const scaleSize = 30;\n        const x = coordinates[i][0] * scaleSize;\n        const y = -coordinates[i][1] * scaleSize;\n        this.addNode(i, nodeValue, undefined, undefined, undefined, x, y);\n      }\n\n      for (let j = 0; j < array2d.length; j++) {\n        const value = array2d[i][j];\n        if (value) {\n          this.addEdge(i, j, this.isWeighted ? value : null);\n        }\n      }\n    }\n    this.layout();\n    super.set();\n  }\n\n  /**\n   * clear existing trace, if any\n   * nodes and edges remain unchanged\n   */\n  clear() {\n    this.edges.forEach(edge => {\n      edge.visitedCount = 0;\n      edge.selectedCount = 0;\n    });\n    this.nodes.forEach(node => {\n      node.visitedCount = 0;\n      node.selectedCount = 0;\n    });\n    this.text = null;\n  }\n\n  isEmpty() {\n    return this.nodes.length === 0 && this.edges.length === 0;\n  }\n\n  /**\n   * extract a tree object from edges and nodes\n   * @return {object} a tree object\n   */\n  getTree() {\n    const tree = {};\n\n    const setLeftOrRightChild = (t, parent, child) => {\n      if (parent < child) {\n        // right child\n        t[parent].right = child;\n      } else if (parent > child) {\n        // left child\n        t[parent].left = child;\n      }\n    };\n\n    this.edges.forEach(obj => {\n      if (!tree.hasOwnProperty(obj.source)) {\n        tree[obj.source] = {};\n        setLeftOrRightChild(tree, obj.source, obj.target);\n      } else {\n        setLeftOrRightChild(tree, obj.source, obj.target);\n      }\n      if (!tree.hasOwnProperty(obj.target)) {\n        tree[obj.target] = {};\n      }\n    });\n\n    this.nodes.forEach(obj => {\n      if (!tree.hasOwnProperty(obj.id)) {\n        tree[obj.id] = {};\n      }\n    });\n\n    return tree;\n  }\n\n  /**\n   * extract the root from edges and nodes\n   * @return {number} root\n   */\n  getRoot() {\n    // in case there is only a single node in the graph\n    if (this.edges.length === 0 && this.nodes.length === 1) {\n      return this.nodes[0].id;\n    }\n    const sources = this.edges.map(obj => obj.source);\n    const targets = this.edges.map(obj => obj.target);\n    const nodes = [...new Set([...sources, ...targets])];\n    // the node that does not a source is the root\n    return nodes.find(node => !targets.includes(node));\n  }\n\n  setHeap(nodes) {\n    this.nodes = [];\n    this.edges = [];\n    // 1 is the id of the first element of the array\n    for (let i = 1; i <= nodes.length; i++) {\n      this.addNode(i, nodes[i - 1]);\n      // left child\n      if ((2 * i) <= nodes.length) {\n        this.addEdge(i, 2 * i);\n      }\n      // right child\n      if (((2 * i) + 1) <= nodes.length) {\n        this.addEdge(i, (2 * i) + 1);\n      }\n    }\n\n    // set the root node, 1 is the id of the first element of the array\n    this.layoutTree(1);\n    this.directed(false);\n    this.layout();\n    super.set();\n  }\n\n  swapNodes(nodeId1, nodeId2) {\n    const node1 = this.findNode(nodeId1);\n    const temp = {\n      value: node1.value,\n      key: node1.key,\n      visitedCount: node1.visitedCount,\n      selectedCount: node1.selectedCount,\n    };\n    const node2 = this.findNode(nodeId2);\n    // Swap both the value and key (key is what animates swapping action)\n    node1.value = node2.value;\n    node1.key = node2.key;\n    node1.visitedCount = node2.visitedCount;\n    node1.selectedCount = node2.selectedCount;\n    node2.value = temp.value;\n    node2.key = temp.key;\n    node2.visitedCount = temp.visitedCount;\n    node2.selectedCount = temp.selectedCount;\n    this.layoutTree(this.root);\n  }\n\n  directed(isDirected = true) {\n    this.isDirected = isDirected;\n  }\n\n  weighted(isWeighted = true) {\n    this.isWeighted = isWeighted;\n  }\n\n  moveNodeFn(moveNode) {\n    this.moveNode = moveNode;\n  }\n\n  addNode(id, value = undefined, shape = 'circle', color = 'blue', weight = null,\n    x = 0, y = 0, visitedCount = 0, selectedCount = 0, visitedCount1 = 0,\n    isPointer = 0, pointerText = '') {\n    if (this.findNode(id)) return;\n    value = (value === undefined ? id : value);\n    const key = id;\n    // eslint-disable-next-line max-len\n    this.nodes.push({ id, value, shape, color, weight, x, y, visitedCount, selectedCount, key, visitedCount1, isPointer, pointerText });\n    this.layout();\n  }\n\n  addResult(text, id) {\n    this.findNode(id).Result = text;\n  }\n\n  addStringLen(len, id) {\n    this.findNode(id).StingLen = len;\n  }\n\n  addPatternLen(len, id) {\n    this.findNode(id).PatternLen = len;\n  }\n\n  updateNode(id, value, weight, x, y, visitedCount, selectedCount) {\n    const node = this.findNode(id);\n    const update = { value, weight, x, y, visitedCount, selectedCount };\n    Object.keys(update).forEach(key => {\n      if (update[key] === undefined) delete update[key];\n    });\n    Object.assign(node, update);\n  }\n\n  removeNode(id) {\n    const node = this.findNode(id);\n    if (!node) return;\n    const index = this.nodes.indexOf(node);\n    this.nodes.splice(index, 1);\n    this.layout();\n  }\n\n  addEdge(source, target, weight = null, visitedCount = 0, selectedCount = 0, visitedCount1 = 0) {\n    if (this.findEdge(source, target)) return;\n    this.edges.push({ source, target, weight, visitedCount, selectedCount, visitedCount1 });\n    this.layout();\n  }\n\n  updateEdge(source, target, weight, visitedCount, selectedCount) {\n    const edge = this.findEdge(source, target);\n    const update = { weight, visitedCount, selectedCount };\n    Object.keys(update).forEach(key => {\n      if (update[key] === undefined) delete update[key];\n    });\n    Object.assign(edge, update);\n  }\n\n  removeEdge(source, target) {\n    const edge = this.findEdge(source, target);\n    if (!edge) return;\n    const index = this.edges.indexOf(edge);\n    this.edges.splice(index, 1);\n    this.layout();\n  }\n\n  findValue(id) {\n    return this.findNode(id).value;\n  }\n\n  findNode(id) {\n    return this.nodes.find(node => node.id === id);\n  }\n\n  findEdge(source, target, isDirected = this.isDirected) {\n    if (isDirected) {\n      return this.edges.find(edge => edge.source === source && edge.target === target);\n    } else {\n      return this.edges.find(edge =>\n        (edge.source === source && edge.target === target) ||\n        (edge.source === target && edge.target === source));\n    }\n  }\n\n  findLinkedEdges(source, isDirected = this.isDirected) {\n    if (isDirected) {\n      return this.edges.filter(edge => edge.source === source);\n    } else {\n      return this.edges.filter(edge => edge.source === source || edge.target === source);\n    }\n  }\n\n  findLinkedNodeIds(source, isDirected = this.isDirected) {\n    const edges = this.findLinkedEdges(source, isDirected);\n    return edges.map(edge => edge.source === source ? edge.target : edge.source);\n  }\n\n  findLinkedNodes(source, isDirected = this.isDirected) {\n    const ids = this.findLinkedNodeIds(source, isDirected);\n    return ids.map(id => this.findNode(id));\n  }\n\n  getRect() {\n    const { baseWidth, baseHeight, padding } = this.dimensions;\n    const left = -baseWidth / 2 + padding;\n    const top = -baseHeight / 2 + padding;\n    const right = baseWidth / 2 - padding;\n    const bottom = baseHeight / 2 - padding;\n    const width = right - left;\n    const height = bottom - top;\n    return { left, top, right, bottom, width, height };\n  }\n\n  layout() {\n    if(this.callLayout === null)\n    {\n      return;\n    }\n    const { method, args } = this.callLayout;\n    method.apply(this, args);\n  }\n\n  layoutCircle() {\n    this.callLayout = { method: this.layoutCircle, args: arguments };\n    const rect = this.getRect();\n    const unitAngle = (2 * Math.PI) / this.nodes.length;\n    let angle = -Math.PI / 2;\n    for (const node of this.nodes) {\n      // XXX see comment about magic numbers in constructor() in\n      // Graph/GraphRenderer/index.js\n      const x = 650 - 200 + (Math.cos(angle) * rect.width) / 2;\n      const y = -200 - 70 + (Math.sin(angle) * rect.height) / 2;\n      node.x = x;\n      node.y = y;\n      angle += unitAngle;\n    }\n  }\n\n  shift(space = 0, nodes) {\n    const searchString = nodes[0];\n    const findString = nodes[1];\n    let stringCount = 0;\n    const xSpacing = 25;\n    const ySpacing = 30;\n    let startFindString = -1;\n    for (let i = 0; i < searchString.length; i++) {\n      const thisNode = this.findNode(stringCount);\n      thisNode.shape = 'box';\n      thisNode.x = (i - searchString.length / 2) * xSpacing;\n      if (i === 0) {\n        startFindString = thisNode.x;\n      }\n      thisNode.y = ySpacing / 2;\n      stringCount++;\n    }\n    for (let i = 0; i < findString.length; i++) {\n      const thisNode = this.findNode(stringCount);\n      thisNode.shape = 'box';\n      thisNode.x = startFindString + (i + space) * (xSpacing);\n      thisNode.y = -1 * (ySpacing / 2);\n      stringCount++;\n    }\n  }\n\n  layoutBFSS(shift = 0, nodes) {\n    this.callLayout = { method: this.layoutBFSS, args: arguments };\n    const searchString = nodes[0];\n    const findString = nodes[1];\n    let stringCount = 0;\n    const xSpacing = 25;\n    const ySpacing = 30;\n    let startFindString = -1;\n    for (let i = 0; i < searchString.length; i++) {\n      const thisNode = this.findNode(stringCount);\n      thisNode.shape = 'square';\n      thisNode.x = (i - searchString.length / 2) * xSpacing;\n      if (i === 0) {\n        startFindString = thisNode.x;\n      }\n      thisNode.y = ySpacing / 2;\n      stringCount++;\n    }\n    for (let i = 0; i < findString.length; i++) {\n      const thisNode = this.findNode(stringCount);\n      thisNode.shape = 'square';\n      thisNode.x = startFindString + (i * xSpacing + (shift * 25));\n      thisNode.y = -1 * (ySpacing / 2);\n      stringCount++;\n    }\n  }\n\n  layoutTree(root = 0, sorted = false) {\n    this.root = root;\n    this.callLayout = { method: this.layoutTree, args: arguments };\n    const rect = this.getRect();\n\n    // If there is a sole node, it centers it.\n    if (this.nodes.length === 1) {\n      const [node] = this.nodes;\n      node.x = (rect.left + rect.right) / 2;\n      node.y = (rect.top + rect.bottom) / 2;\n      return;\n    }\n\n    // Traversal of the entire tree, counting number of leaves.\n    let maxDepth = 0;\n    const leafCounts = {};\n    let marked = {};\n    const recursiveAnalyze = (id, depth) => {\n      marked[id] = true;\n      leafCounts[id] = 0;\n      if (maxDepth < depth) maxDepth = depth;\n      const linkedNodeIds = this.findLinkedNodeIds(id, false);\n      for (const linkedNodeId of linkedNodeIds) {\n        if (marked[linkedNodeId]) continue;\n        leafCounts[id] += recursiveAnalyze(linkedNodeId, depth + 1);\n      }\n      if (leafCounts[id] === 0) leafCounts[id] = 1;\n      return leafCounts[id];\n    };\n    recursiveAnalyze(root, 0);\n\n    // Calculates node's x and y.\n    // const hGap = rect.width / leafCounts[root];\n    // const vGap = rect.height / maxDepth;\n    marked = {};\n    // horizontal size allocated per leaf node under a subtree node\n    const leafNodeSizeAlloc = this.dimensions.baseWidth / this.nodes.length;\n    // vertical gap between nodes. incremented every level.\n    const verticalGap = (this.dimensions.baseHeight - 100) / maxDepth;\n    const recursivePosition = (node, h, v, x, y) => {\n      marked[node.id] = true;\n      // node.x = rect.left + (h + leafCounts[node.id] / 2) * hGap;\n      // node.y = rect.top + v * vGap;\n      node.x = x;\n      node.y = y;\n      const linkedNodes = this.findLinkedNodes(node.id, false);\n      if (sorted) linkedNodes.sort((a, b) => a.id - b.id);\n      for (const linkedNode of linkedNodes) {\n        if (marked[linkedNode.id]) continue;\n        let x1 = x;\n        let y1 = y;\n        // For left child\n        if (linkedNode.id === 2 * node.id) {\n          x1 -= leafCounts[node.id] * leafNodeSizeAlloc;\n        }\n        // For right child\n        if (linkedNode.id === 2 * node.id + 1) {\n          x1 += leafCounts[node.id] * leafNodeSizeAlloc;\n        }\n        y1 += verticalGap;\n        recursivePosition(linkedNode, h, v + 1, x1, y1);\n        h += leafCounts[linkedNode.id];\n      }\n    };\n    const rootNode = this.findNode(root);\n    recursivePosition(rootNode, 0, 0, 0, rect.top);\n  }\n\n  layoutBST(root = 0, sorted = false) {\n    this.root = root;\n    this.callLayout = { method: this.layoutBST, args: arguments };\n    const rect = this.getRect();\n    // If there is a sole node, it centers it.\n    const middleX = (rect.left + rect.right) / 2;\n    const middleY = (rect.top + rect.bottom) / 2;\n    if (this.nodes.length === 1) {\n      const [node] = this.nodes;\n      node.x = middleX;\n      node.y = middleY;\n      return;\n    }\n\n    // Traversal of the entire tree, counting number of nodes.\n    let maxDepth = 0;\n    const nodeDepth = {};\n    let marked = {};\n    const recursiveAnalyze = (id, depth) => {\n      marked[id] = true;\n      nodeDepth[id] = depth;\n      if (maxDepth < depth) maxDepth = depth;\n      const linkedNodeIds = this.findLinkedNodeIds(id, false);\n      for (const linkedNodeId of linkedNodeIds) {\n        if (marked[linkedNodeId]) continue;\n        recursiveAnalyze(linkedNodeId, depth + 1);\n      }\n    };\n    recursiveAnalyze(root, 0);\n\n    // Calculates node's x and y.\n    // adjust hGap to some function of node number later//\n    const hGap = rect.width - 150;\n    const vGap = rect.height / maxDepth;\n    marked = {};\n    const recursivePosition = (node, h, v) => {\n      marked[node.id] = true;\n      // 120 magic number to center root node//\n      node.x = rect.left + h * hGap + 120;\n      node.y = rect.top + v * vGap;\n      /* used to debug, delete in merge\n      console.log(node.x + \" \" +  node.y + \" \"  + node.id );\n      console.log(middle_x + \" \" + h + \" \" + hGap + \" \" +node.id);\n      console.log(middle_y + \" \" + v + \" \" + vGap + \" \" +node.id);\n      */\n      const linkedNodes = this.findLinkedNodes(node.id, false);\n      if (sorted) linkedNodes.sort((a, b) => a.id - b.id);\n      for (const linkedNode of linkedNodes) {\n        if (marked[linkedNode.id]) continue;\n        if (linkedNode.id > node.id) {\n          if (node.id > this.root) {\n            recursivePosition(linkedNode, h + 1 / (v * v + 1), v + 1);\n          } else {\n            recursivePosition(linkedNode, h + 1 / (v * v + 1), v + 1);\n          }\n        } else if (linkedNode.id < node.id) {\n          if (node.id < this.root) {\n            recursivePosition(linkedNode, h - 1 / (v * v + 1), v + 1);\n          } else {\n            recursivePosition(linkedNode, h - 1 / (2 * v + 1), v + 1);\n          }\n        }\n      }\n    };\n    const rootNode = this.findNode(root);\n    recursivePosition(rootNode, 0, 0);\n  }\n\n  layoutRandom() {\n    this.callLayout = { method: this.layoutRandom, args: arguments };\n    const rect = this.getRect();\n    const placedNodes = [];\n    for (const node of this.nodes) {\n      do {\n        node.x = rect.left + Math.random() * rect.width;\n        node.y = rect.top + Math.random() * rect.height;\n      } while (placedNodes.find(placedNode => distance(node, placedNode) < 48));\n      placedNodes.push(node);\n    }\n  }\n\n  visit0(target, source, weight) {\n    this.visitOrLeave0(true, target, source, weight);\n  }\n\n  visit(target, source, weight) {\n    this.visitOrLeave(true, target, source, weight);\n  }\n\n  leave(target, source, weight) {\n    this.visitOrLeave(false, target, source, weight);\n  }\n\n  allLeave(target, sources, weight) {\n    for (let i = 0; i < sources.length; i += 1) {\n      this.visitOrLeave(false, target, sources[i], weight);\n    }\n  }\n\n  visitOrLeave0(visit, target, source = null, weight) {\n    const edge = this.findEdge(source, target);\n    const node = this.findNode(target);\n    if (weight) node.weight = weight;\n    if (!this.istc) {\n      node.visitedCount0 += visit ? 1 : -1;\n      if (edge) edge.visitedCount0 += visit ? 1 : -1;\n    } else {\n      node.visitedCount0 = visit ? 1 : 0;\n      if (edge) edge.visitedCount0 = visit ? 1 : 0;\n    }\n    if (this.logTracer) {\n      this.logTracer.println(visit ? (source || '') + ' -> ' + target : (source || '') + ' <- ' + target);\n    }\n  }\n\n  visitOrLeave(visit, target, source = null, weight) {\n    const edge = this.findEdge(source, target);\n    const node = this.findNode(target);\n\n    if (weight) node.weight = weight;\n    if (!this.istc) {\n      node.visitedCount += visit ? 1 : -1;\n      if (edge) edge.visitedCount += visit ? 1 : -1;\n    } else {\n      node.visitedCount = visit ? 1 : 0;\n      if (edge) edge.visitedCount = visit ? 1 : 0;\n    }\n    if (this.logTracer) {\n      this.logTracer.println(visit ? (source || '') + ' -> ' + target : (source || '') + ' <- ' + target);\n    }\n  }\n\n  select(target, source) {\n    this.selectOrDeselect(true, target, source);\n  }\n\n  styledSelect(style, target, source) {\n    this.styledSelectOrDeselect(style, true, target, source);\n  }\n\n  styledDeselect(style, target, source) {\n    this.styledSelectOrDeselect(style, false, target, source);\n  }\n\n  deselect(target, source) {\n    this.selectOrDeselect(false, target, source);\n  }\n\n  visit1(target, source, colorIndex, weight) {\n    this.visitOrLeave1(true, target, source, weight, colorIndex);\n  }\n\n  leave0(target, source, colorIndex = 1, weight) {\n    this.visitOrLeave0(false, target, source, weight, colorIndex);\n  }\n\n  leave1(target, source, colorIndex = 1, weight) {\n    this.visitOrLeave1(false, target, source, weight, colorIndex);\n  }\n\n  visitOrLeave1(visit, target, source = null, weight = null, colorIndex = 1) {\n    const edge = this.findEdge(source, target);\n    const node = this.findNode(target);\n    if (weight) node.weight = weight;\n\n    const node1 = this.findNode(source);\n    if (colorIndex === 1) {\n      if (edge) edge.visitedCount1 = visit ? 1 : 0;\n      node.visitedCount1 = visit ? 1 : 0;\n      if (node1) node1.visitedCount1 = visit ? 1 : 0;\n    } else if (colorIndex === 2) {\n      if (edge) edge.visitedCount2 = visit ? 1 : 0;\n      node.visitedCount2 = visit ? 1 : 0;\n      if (node1) node1.visitedCount2 = visit ? 1 : 0;\n    }\n    if (this.logTracer) {\n      this.logTracer.println(visit ? (source || '') + ' -> ' + target : (source || '') + ' <- ' + target);\n    }\n  }\n\n  setPointerNode(source, sText, target = null, tText = null) {\n    const node1 = this.findNode(source);\n    node1.isPointer = 1;\n    if (!node1.pointerText.includes(sText)) {\n      node1.pointerText = node1.pointerText.concat(' ', sText);\n    }\n    const node2 = this.findNode(target);\n    if (node2) {\n      node2.isPointer = 1;\n      if (!node2.pointerText.includes(tText)) {\n        node2.pointerText = node2.pointerText.concat(' ', tText);\n      }\n    }\n  }\n\n  unsetPointerNode(source, sText, target = null, tText = null) {\n    const node1 = this.findNode(source);\n    node1.pointerText = node1.pointerText.replace(sText, '');\n    const node2 = this.findNode(target);\n    if (node2) {\n      node2.pointerText = node2.pointerText.replace(tText, '');\n    }\n  }\n\n  selectOrDeselect(select, target, source = null) {\n    const edge = this.findEdge(source, target);\n    if (edge) edge.selectedCount += select ? 1 : -1;\n    const node = this.findNode(target);\n    node.selectedCount += select ? 1 : -1;\n    if (this.logTracer) {\n      this.logTracer.println(select ? (source || '') + ' => ' + target : (source || '') + ' <= ' + target);\n    }\n  }\n\n  sorted(target) {\n    const node = this.findNode(target);\n    node.sorted = true;\n  }\n\n  // style = { backgroundStyle: , textStyle: }\n  styledSelectOrDeselect(style, select, target, source) {\n    this.selectOrDeselect(select, target, source);\n    const node = this.findNode(target);\n    node.style = style;\n  }\n\n  resetSelect(target, source) {\n    const edge = this.findEdge(source, target);\n    if (edge) edge.selectedCount = 0;\n    const node = this.findNode(target);\n    node.selectedCount = 0;\n  }\n\n  isInterConnected(source, target) {\n    return this.edges.find(edge => edge.source === source && edge.target === target)\n      && this.edges.find(edge => edge.source === target && edge.target === source);\n  }\n\n  log(key) {\n    this.logTracer = key ? this.getObject(key) : null;\n  }\n\n  setText(text) {\n    this.text = text;\n    this.text.push({ text });\n  }\n\n  setIstc() {\n    this.istc = true;\n  } \n\n  // functions for coloring/decoloring edges and nodes\n  // that are not painful to use\n  colorEdge(source, target, colorIndex) {\n    const edge = this.findEdge(source, target);\n    if (!edge) return;  // Exit if edge is not found\n    \n    if (colorIndex === 1) {\n      edge.visitedCount1 = 1;\n    } else if (colorIndex === 2) {\n      edge.visitedCount2 = 1;\n    } else if (colorIndex === 3) {\n      edge.visitedCount3 = 1;\n    } else if (colorIndex === 4) {\n      edge.visitedCount4 = 1;\n    }\n}\n  \n  removeEdgeColor(source, target) {\n    const edge = this.findEdge(source, target);\n    if (!edge) return;  // Exit if edge is not found\n    \n    edge.visitedCount1 = 0;\n    edge.visitedCount2 = 0;\n    edge.visitedCount3 = 0;\n    edge.visitedCount4 = 0;\n  }\n\n  \n  colorNode(node, colorIndex) {\n    const _node = this.findNode(node);\n    if (!_node) return;  // Exit if node is not found\n    \n    if (colorIndex === 1) {\n      _node.visitedCount1 = 1;\n    } else if (colorIndex === 2) {\n      _node.visitedCount2 = 1;\n    } else if (colorIndex === 3) {\n      _node.visitedCount3 = 1;\n    } else if (colorIndex === 4) {\n      _node.visitedCount4 = 1;\n    }\n  }\n  \n  removeNodeColor(node) {\n    const _node = this.findNode(node);\n    if (!_node) return;  // Exit if node is not found\n    \n    _node.visitedCount1 = 0;\n    _node.visitedCount2 = 0;\n    _node.visitedCount3 = 0;\n    _node.visitedCount4 = 0;\n  }\n} \n\nexport default GraphTracer;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-shadow */\n/* eslint-disable prefer-const */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable react/jsx-indent */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable import/no-cycle */\n/* eslint-disable no-multiple-empty-lines */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable arrow-parens */\n/* eslint-disable operator-linebreak */\n/* eslint-disable react/jsx-closing-bracket-location */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-one-expression-per-line */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/jsx-indent-props */\n/* eslint-disable react/jsx-first-prop-new-line */\n/* eslint-disable max-len */\n/* eslint-disable object-curly-newline */\n\nimport React from 'react';\n// import Array1DRenderer from '../Array1DRenderer/index';\nimport { motion, AnimateSharedLayout } from 'framer-motion';\nimport Renderer from '../../common/Renderer/index';\nimport styles from './Array2DRenderer.module.scss';\nimport { classes } from '../../common/util';\nimport { mode } from '../../../top/Settings';\n\nlet modename;\nexport function switchmode(modetype = mode()) {\n  switch (modetype) {\n    case 1:\n      modename = styles.array_2d_green;\n      break;\n    case 2:\n      modename = styles.array_2d_blue;\n      break;\n    default:\n      modename = styles.array_2d;\n  }\n  return modename;\n}\n\nclass Array2DRenderer extends Renderer {\n  constructor(props) {\n    super(props);\n\n    this.togglePan(true);\n    this.toggleZoom(true);\n  }\n\n  renderData() {\n    // For DFSrec+msort_arr_td,... listOfNumbers is actually a list of\n    // pairs of numbers, or strings such as '(2,5)'\n    const { data, algo, kth, listOfNumbers, motionOn, hideArrayAtIdx } =\n      this.props.data;\n    const isArray1D = true;\n    // eslint-disable-next-line camelcase\n    let data_T;\n    if (algo === 'tc') {\n      // eslint-disable-next-line camelcase\n      data_T = data[0].map((col, i) => data.map((row) => row[i]));\n    }\n    // const isArray1D = this instanceof Array1DRenderer;\n    // XXX sometimes caption (listOfNumbers) is longer than any row...\n    let longestRow = data.reduce(\n      (longestRow, row) => (longestRow.length < row.length ? row : longestRow),\n      []\n    );\n    return (\n      <table\n        className={switchmode(mode())}\n        style={{\n          marginLeft: -this.centerX * 2,\n          marginTop: -this.centerY * 2,\n          transform: `scale(${this.zoom})`,\n        }}\n      >\n        <tbody>\n          {algo === 'unionFind' && ( // adding the array indicies for union find\n            <AnimateSharedLayout>\n              <tr>\n                {data[0].map((col, idx) => (\n                  <td key={idx}>\n                    <div\n                      style={{\n                        position: 'absolute',\n                        height: '15px',\n                        width: '37px',\n                      }}\n                    >\n                      {col.variables.map((v) => (\n                        <motion.div\n                          layoutId={v}\n                          key={v}\n                          className={classes(\n                            styles.variable,\n                            styles.top_variable\n                          )}\n                          transition={\n                            motionOn ? { type: 'tween' } : { duration: 0 }\n                          }\n                        >\n                          {v}\n                        </motion.div>\n                      ))}\n                    </div>\n                  </td>\n                ))}\n              </tr>\n            </AnimateSharedLayout>\n          )}\n\n          <tr className={styles.row}>\n            {!isArray1D && <td className={classes(styles.col, styles.index)} />}\n            {algo === 'tc' && ( // Leave a blank cell at the header row\n              <td />\n            )}\n            { /* XXX really should have a displayIndex flag for this */\n              algo !== 'BFS' &&\n              algo !== 'DFSrec' &&\n              algo !== 'DFS' &&\n              algo !== 'kruskal' &&\n              algo !== 'dijkstra' &&\n              algo !== 'aStar' &&\n              algo !== 'aStar' &&\n              algo !== 'msort_lista_td' &&\n              longestRow.map((_, i) => {\n                if (algo === 'tc') {\n                  i += 1;\n                }\n                if (algo === 'prim' || algo == 'unionFind') {\n                  return <React.Fragment key={i} />;\n                }\n                return (\n                  <th className={classes(styles.col, styles.index)} key={i}>\n                    <span className={styles.value}>{i}</span>\n                  </th>\n                );\n              })}\n          </tr>\n          {data.map((row, i) => {\n            let pointer = false;\n\n            if (i === hideArrayAtIdx) return null;\n\n            // eslint-disable-next-line no-plusplus\n            for (let j = 0; j < row.length; j++) {\n              if (row[j].selected) {\n                pointer = true;\n              }\n            }\n            return (\n              <tr className={styles.row} key={i}>\n                {algo === 'tc' && ( // generate vertical index, which starts from 1\n                  <th className={classes(styles.col, styles.index)} key={i}>\n                    <span className={styles.value}>{i + 1}</span>\n                  </th>\n                )}\n                {!isArray1D && algo !== 'tc' && (\n                  <td className={classes(styles.col, styles.index)}>\n                    <span className={styles.value}>{i}</span>\n                  </td>\n                )}\n                {row.map((col, j) => {\n                  const varGreen = col.fill === 1; // for simple fill\n                  const varOrange = col.fill === 2;\n                  const varRed = col.fill === 3;\n\n                  return (\n                    <td\n                      className={classes(\n                        styles.col,\n                        col.selected && styles.selected,\n                        col.patched && styles.patched,\n                        col.sorted && styles.sorted,\n                        col.selected1 && styles.selected1,\n                        col.selected2 && styles.selected2,\n                        col.selected3 && styles.selected3,\n                        varGreen && styles.variableGreen,\n                        varOrange && styles.variableOrange,\n                        varRed && styles.variableRed\n                      )}\n                      key={j}\n                    >\n                      <span className={styles.value}>\n                        {this.toString(col.value)}\n                      </span>\n                    </td>\n                  );\n                })}\n                {\n                  (pointer && algo === 'tc' && (\n                    <th className={classes(styles.col, styles.index)}>\n                      <span className={styles.value}> i </span>\n                    </th>\n                  ))\n                ||\n                  (algo === 'aStar' && i === 1 && (\n                    <th className={classes(styles.col, styles.index)}>\n                      <span className={styles.value}> )Priority </span>\n                    </th>\n                  ))\n                ||\n                  (algo === 'aStar' && i === 2 && (\n                    <th className={classes(styles.col, styles.index)}>\n                      <span className={styles.value}> )Queue&ensp; </span>\n                    </th>\n                  ))\n                ||\n                  (((algo === 'prim' && i === 2) ||\n                    (algo === 'dijkstra' && i === 2) \n                    ) && (\n                    <th className={classes(styles.col, styles.index)}>\n                      <span className={styles.value}> Priority Queue </span>\n                    </th>\n                  ))\n                 || <td className={classes(styles.col, styles.index)} />}\n              </tr>\n            );\n          })}\n          {algo === 'tc' && (\n            // Don't remove \"j-tag='transitive_closure'\"\n            <tr j-tag=\"transitive_closure\" className={styles.row}>\n              <td />\n              {data_T.map((row) => {\n                let pointer = false;\n                // eslint-disable-next-line no-plusplus\n                for (let j = 0; j < row.length; j++) {\n                  if (row[j].selected1) {\n                    pointer = true;\n                  }\n                }\n                return (\n                  (pointer && (\n                    <th className={classes(styles.col, styles.index)}>\n                      <span className={styles.value}> j </span>\n                    </th>\n                  )) || <td className={classes(styles.col, styles.index)} />\n                );\n              })}\n            </tr>\n          )}\n          {(algo === 'prim' ||\n            algo === 'kruskal' ||\n            algo === 'dijkstra' ||\n            algo === 'aStar' ||\n            algo === 'DFS' ||\n            algo === 'DFSrec' ||\n            algo === 'msort_lista_td' ||\n            algo === 'BFS') &&\n            data.map(\n              (row, i) =>\n                i === 2 && (\n                  <AnimateSharedLayout>\n                    <tr layout className={styles.row} key={i}>\n                      {row.map((col, j) => (\n                        <td\n                          className={classes(styles.col, styles.variables)}\n                          key={j}\n                        >\n                          {col.variables.map((v) => (\n                            <motion.p\n                              layoutId={v}\n                              key={v}\n                              className={styles.variable}\n                            >\n                              {v}\n                            </motion.p>\n                          ))}\n                        </td>\n                      ))}\n                    </tr>\n                  </AnimateSharedLayout>\n                )\n            )}\n        </tbody>\n        {algo === 'tc' && (\n          <caption kth-tag=\"transitive_closure\">k = {kth}</caption>\n        )}\n        {algo == 'unionFind' && ( // bottom centre caption for union find\n          <caption kth-tag=\"unionFind\" className={styles.bottom_caption}>\n            <span className={styles.pseudocode_function}>Union</span>({kth})\n          </caption>\n        )}\n        {algo === 'DFS' && (\n          <caption\n            className={algo === 'DFS' ? styles.captionDFS : ''}\n            kth-tag=\"dfs_caption\"\n          >\n             Nodes (stack):&emsp; {listOfNumbers}&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;\n          </caption>\n        )}\n        {algo === 'DFSrec' && (\n          <caption\n            className={algo === 'DFSrec' ? styles.captionDFSrec : ''}\n            kth-tag=\"dfsrec_caption\"\n          >\n             Call stack (n,p):&emsp; {listOfNumbers}&emsp;&emsp;\n          </caption>\n        )}\n        {algo === 'msort_arr_td' && (\n          <caption\n            className={algo === 'msort_arr_td' ? styles.captionmsort_arr_td : ''}\n            kth-tag=\"msort_arr_td_caption\"\n          >\n             Call stack (n,p):&emsp; {listOfNumbers}&emsp;&emsp;\n          </caption>\n        )}\n        {algo === 'msort_lista_td' && listOfNumbers && (\n          <caption\n            className={algo === 'msort_lista_td' ?  styles.captionmsort_lista_td : ''}\n            kth-tag=\"msort_lista_td_caption\"\n          >\n             Call stack (L, len):&emsp; {listOfNumbers}&emsp;&emsp;\n          </caption>\n        )}\n        {algo === 'BFS' && (\n          <caption\n            className={algo === 'BFS' ? styles.captionBFS : ''}\n            kth-tag=\"bfs_caption\"\n          >\n            Nodes (queue): {listOfNumbers}\n          </caption>\n        )}\n      </table>\n    );\n  }\n}\n\nexport default Array2DRenderer;\n","/* eslint-disable no-plusplus */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable max-classes-per-file */\n/* eslint-disable no-multiple-empty-lines */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable arrow-parens */\n/* eslint-disable operator-linebreak */\n/* eslint-disable react/jsx-closing-bracket-location */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-one-expression-per-line */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/jsx-indent-props */\n/* eslint-disable react/jsx-first-prop-new-line */\n/* eslint-disable max-len */\n/* eslint-disable object-curly-newline */\n/* eslint-disable import/no-unresolved */\n\nimport { cloneDeepWith } from 'lodash';\nimport Tracer from '../common/Tracer';\nimport Array2DRenderer from './Array2DRenderer';\n\nexport class Element {\n  constructor(value, key) {\n    this.value = value;\n    this.patched = 0;\n    this.selected = 0;\n    this.sorted = false;\n    this.key = key;\n    this.variables = [];\n    this.stack = [];\n    this.fill = 0;\n  }\n}\n\nclass Array2DTracer extends Tracer {\n  getRendererClass() {\n    return Array2DRenderer;\n  }\n\n  /**\n   * @param {array} array2d\n   * @param {string} algo used to mark if it is a specific algorithm\n   */\n  set(array2d = [], algo, kth = 1) {\n    this.data = array2d.map((array1d) =>\n      [...array1d].map((value, i) => new Element(value, i))\n    );\n    this.algo = algo;\n    this.kth = kth;\n    this.motionOn = true; // whether to use animation\n    this.hideArrayAtIdx = null; // to hide array at given index\n    this.listOfNumbers = '';\n    super.set();\n  }\n\n  patch(x, y, v = this.data[x][y].value) {\n    if (!this.data[x][y]) this.data[x][y] = new Element();\n    this.data[x][y].value = v;\n    this.data[x][y].patched++;\n  }\n\n  depatch(x, y, v = this.data[x][y].value) {\n    this.data[x][y].patched--;\n    this.data[x][y].value = v;\n  }\n\n  // used to highlight sorted elements\n  sorted(x, y) {\n    if (!this.data[x][y]) this.data[x][y] = new Element();\n    this.data[x][y].sorted = true;\n  }\n\n  select(sx, sy, ex = sx, ey = sy, c = '0') {\n    // Color blue\n    for (let x = sx; x <= ex; x++) {\n      for (let y = sy; y <= ey; y++) {\n        switch (c) {\n          case '0':\n            this.data[x][y].selected++;\n            break;\n          case '1':\n            this.data[x][y].selected1 = true;\n            break;\n          case '2':\n            this.data[x][y].selected2 = true;\n            break;\n          case '3':\n            this.data[x][y].selected3 = true;\n            break;\n          case '4':\n            this.data[x][y].selected4 = true;\n            break;\n          case '5':\n            this.data[x][y].selected5 = true;\n            break;\n\n          default:\n            this.data[x][y].selected = true;\n            break;\n        }\n      }\n    }\n  }\n\n  // a simple fill function based on aia themes\n  // where green=1, yellow=2, and red=3\n  fill(sx, sy, ex = sx, ey = sy, c = 0) {\n    for (let x = sx; x <= ex; x++) {\n      for (let y = sy; y <= ey; y++) {\n        this.data[x][y].fill = c === 1 || c === 2 || c === 3 ? c : 0;\n      }\n    }\n  }\n\n  // unfills the given element (used with fill)\n  unfill(sx, sy, ex = sx, ey = sy) {\n    for (let x = sx; x <= ex; x++) {\n      for (let y = sy; y <= ey; y++) {\n        this.data[x][y].fill = 0;\n      }\n    }\n  }\n\n  // Set opacity to 0.3\n  fadeOut(sx, sy, ex = sx, ey = sy) {\n    for (let x = sx; x <= ex; x++) {\n      for (let y = sy; y <= ey; y++) {\n        this.data[x][y].faded = true;\n      }\n    }\n  }\n\n  // Set opacity to 1\n  fadeIn(sx, sy, ex = sx, ey = sy) {\n    for (let x = sx; x <= ex; x++) {\n      for (let y = sy; y <= ey; y++) {\n        this.data[x][y].faded = false;\n      }\n    }\n  }\n\n  // XXX for some reason, variables only seem to be displayed if\n  // row==2, and if you don't have enough rows in the table you are\n  // stuck unless you add an extra dummy row and hide it using hideArrayAtIndex\n  assignVariable(v, row, idx) {\n    // deep clone data so that changes to this.data are all made at the same time which will allow for tweening\n    // eslint-disable-next-line consistent-return\n    function customizer(val) {\n      if (val instanceof Element) {\n        const newEl = new Element(val.value, val.key);\n        if (val.patched) newEl.patched = true;\n        if (val.selected) newEl.selected = true;\n        if (val.sorted) newEl.sorted = true;\n        newEl.variables = val.variables;\n        return newEl;\n      }\n    }\n    const newData = cloneDeepWith(this.data, customizer);\n\n    // remove all current occurences of the variable\n    for (let y = 0; y < newData[row].length; y++) {\n      newData[row][y].variables = newData[row][y].variables.filter(\n        (val) => val !== v\n      );\n    }\n\n    // add variable to item if not undefined or null\n    if (idx !== null && idx !== undefined)\n       newData[row][idx].variables.push(v);\n\n    // update this.data\n    this.data = newData;\n  }\n\n  /**\n   * Whether to use animation. Could be used to immediately update the state.\n   * For instance, where there are two 'distinct' operation and the sliding motion complicates.\n   * @param {*} bool\n   */\n  setMotion(bool = true) {\n    this.motionOn = bool;\n  }\n\n  // style = { backgroundStyle: , textStyle: }\n  styledSelect(style, sx, sy, ex = sx, ey = sy) {\n    for (let x = sx; x <= ex; x++) {\n      for (let y = sy; y <= ey; y++) {\n        this.data[x][y].selected++;\n        this.data[x][y].style = style;\n      }\n    }\n  }\n\n  selectRow(x, sy, ey, c = '0') {\n    this.select(x, sy, x, ey, c);\n  }\n\n  selectCol(y, sx, ex, c = '0') {\n    this.select(sx, y, ex, y, c);\n  }\n\n  deselect(sx, sy, ex = sx, ey = sy) {\n    for (let x = sx; x <= ex; x++) {\n      for (let y = sy; y <= ey; y++) {\n        this.data[x][y].selected = false;\n        this.data[x][y].selected1 = false;\n        this.data[x][y].selected2 = false;\n        this.data[x][y].selected3 = false;\n        this.data[x][y].selected4 = false;\n        this.data[x][y].selected5 = false;\n        this.data[x][y].style = undefined;\n      }\n    }\n  }\n\n  deselectRow(x, sy, ey) {\n    this.deselect(x, sy, x, ey);\n  }\n\n  deselectCol(y, sx, ex) {\n    this.deselect(sx, y, ex, y);\n  }\n\n  showKth(k = '0') {\n    this.kth = k;\n  }\n\n  // caption for arrays (undefined means no caption, [] may result in a blank\n  // caption, depending on the algorithm - there may be extra text)\n  setList(array) {\n    if (array)\n      this.listOfNumbers = array.join(', ');\n    else\n      this.listOfNumbers = undefined;\n  }\n\n  getKth() {\n    return this.kth;\n  }\n\n  /**\n   * Hides the array at the given index.\n   * @param {*} index the index of the array to hide.\n   */\n  hideArrayAtIndex(index) {\n    this.hideArrayAtIdx = index;\n  }\n\n  /**\n   * Updates the value at the given position of the array.\n   * @param {*} x the row index.\n   * @param {*} y the column index.\n   * @param {*} newValue the new value.\n   */\n  updateValueAt(x, y, newValue) {\n    if (!this.data[x] || !this.data[x][y]) {\n      return;\n    }\n    this.data[x][y].value = newValue;\n  }\n}\n\nexport default Array2DTracer;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-shadow */\n/* eslint-disable prefer-const */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable react/jsx-indent */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable import/no-cycle */\n/* eslint-disable no-multiple-empty-lines */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable arrow-parens */\n/* eslint-disable operator-linebreak */\n/* eslint-disable react/jsx-closing-bracket-location */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-one-expression-per-line */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/jsx-indent-props */\n/* eslint-disable react/jsx-first-prop-new-line */\n/* eslint-disable max-len */\n/* eslint-disable object-curly-newline */\n\nimport React from 'react';\n// import Array1DRenderer from '../Array1DRenderer/index';\nimport { motion, AnimateSharedLayout } from 'framer-motion';\nimport Array2DRenderer from '../Array2DRenderer/index';\nimport styles from './Array1DRenderer.module.scss';\nimport { classes } from '../../common/util';\nimport { mode } from '../../../top/Settings';\n\nlet modename;\nfunction switchmode(modetype = mode()) {\n  switch (modetype) {\n    case 1:\n      modename = styles.array_1d_green;\n      break;\n    case 2:\n      modename = styles.array_1d_blue;\n      break;\n    default:\n      modename = styles.array_1d;\n  }\n  return modename;\n}\n\nclass Array1DRenderer extends Array2DRenderer {\n  constructor(props) {\n    super(props);\n\n    this.togglePan(true);\n    this.toggleZoom(true);\n\n    this.maxStackDepth = 0;\n  }\n\n// XXX \"Warning: Each child in a list should have a unique \"key\" prop.\n// Check the render method of `Array1DRenderer`\" ???\n  renderData() {\n\n    // listOfNumbers used for stack caption in msort_arr_td\n    // eslint-disable-next-line\n    const { data, algo, stack, stackDepth, listOfNumbers } = this.props.data;\n\n    const arrayMagnitudeScaleValue = 20; // value to scale an array e.g. so that the maximum item is 150px tall\n\n    let longestRow = data.reduce(\n      (longestRow, row) => (longestRow.length < row.length ? row : longestRow),\n      [],\n    );\n    let largestColumnValue = 0;\n    // if largestValue not set explicitly, compute it\n    if (!this.props.data.largestValue) {\n      largestColumnValue = data[0].reduce(\n        (acc, curr) => (acc < curr.value ? curr.value : acc),\n        0,\n      );\n    } else {\n      largestColumnValue = this.props.data.largestValue;\n    }\n    // handle non-numbers by using minimum height\n    let scaleY = ((largest, columnValue) =>\n      (typeof columnValue !== \"number\"? 0 :\n       (columnValue / largest) * arrayMagnitudeScaleValue)).bind(\n      null,\n      largestColumnValue,\n    );\n    if (!this.props.data.arrayItemMagnitudes) {\n      scaleY = () => 0;\n    }\n    // wrap output in table like 2D array so we can have a caption (for\n    // msort_arr_td) XXX fix indentation\n    return (\n      <table\n        className={switchmode(mode())}\n        style={{\n          marginLeft: -this.centerX * 2,\n          marginTop: -this.centerY * 2,\n          transform: `scale(${this.zoom})`,\n        }}\n      >\n      <tbody>\n      <motion.div animate={{ scale: this.zoom }} className={switchmode(mode())}>\n        {/* Values */}\n        {data.map((row, i) => (\n          <div\n            className={styles.row}\n            key={i}\n            style={{\n              display: 'flex',\n              alignItems: 'flex-end',\n              justifyContent: 'center',\n            }}\n          >\n            {row.map((col) => (\n              <motion.div\n                layout\n                transition={{ duration: 0.6 }}\n                style={{\n                  height: `${this.toString(scaleY(col.value))}vh`,\n                  display: 'flex',\n                }}\n                /* eslint-disable-next-line react/jsx-props-no-multi-spaces */\n                className={classes(\n                  styles.col,\n                  col.faded && styles.faded,\n                  col.selected && styles.selected,\n                  col.patched && styles.patched,\n                  col.sorted && styles.sorted,\n                  col.style && col.style.backgroundStyle,\n                )}\n                key={col.key}\n              >\n                <motion.span\n                  layout=\"position\"\n                  className={classes(\n                    styles.value,\n                    col.style && col.style.textStyle,\n                  )}\n                >\n                  {this.toString(col.value)}\n                </motion.span>\n              </motion.div>\n            ))}\n          </div>\n        ))}\n\n        <div>\n          {/* Indexes  XXX maybe avoid for arrayB in Merge sort? */}\n          <div\n            className={styles.row}\n            style={{ display: 'flex', justifyContent: 'space-between' }}\n          >\n            {longestRow.map((_, i) => {\n              // if the graph instance is heapsort, then the array index starts from 1\n\n                i += 1;\n              \n              return (\n                <div className={classes(styles.col, styles.index)} key={i}>\n                  <span className={styles.value}>{i}</span>\n                </div>\n              );\n            })}\n          </div>\n\n          {/* Variable pointers */}\n          {data.map(\n            (\n              row,\n              i, // variable pointer only working for 1D arrays\n            ) => (\n              <AnimateSharedLayout>\n                <div\n                  layout\n                  className={styles.row}\n                  key={i}\n                  style={{\n                    minHeight: '50px',\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'start',\n                  }}\n                >\n                  {row.map((col) => (\n                    <div\n                      className={classes(styles.col, styles.variables)}\n                      key={`vars-${col.key}`}\n                    >\n                      {col.variables.map((v) => (\n                        <motion.div\n                          layoutId={v}\n                          key={v}\n                          className={styles.variable}\n                          style={{ fontSize: v.length > 2 ? '12px' : null }}\n                        >\n                          {v}\n                        </motion.div>\n                      ))}\n                    </div>\n                  ))}\n                </div>\n              </AnimateSharedLayout>\n            ),\n          )}\n        </div>\n        <div>\n          {// Quicksort stuff\n          stack && stack.length > 0 ? (\n            this.maxStackDepth = Math.max(this.maxStackDepth, stackDepth),\n            stackRenderer(stack, data[0].length, stackDepth, this.maxStackDepth)\n          ) : (\n            <div />\n          )}\n        </div>\n      </motion.div>\n      </tbody>\n      { // XXX I've given up trying to avoid this warning:(\n        // \"Whitespace text nodes cannot appear as a child of <table>. Make\n        // sure you don't have any extra whitespace between tags on each\n        // line of your source code.\"  Similariy div inside tbody.\n        algo === 'msort_arr_td' && listOfNumbers && (\n          <caption\n            className={styles.captionmsort_arr_td}\n            kth-tag=\"msort_arr_td_caption\"\n          > Call stack (n,p):&emsp; {listOfNumbers}&emsp;&emsp; </caption>)\n      }\n      </table>\n    );\n  }\n}\n\n/**\n * @param {*} color_index - an integer representing the state of a stack element\n * @returns string\n */\n\n function stackFrameColour(color_index) {\n\treturn [\n\t\t'var(--not-started-section)', // 0\n\t\t'var(--in-progress-section)', // 1\n\t\t'var(--current-section)',     // 2\n\t\t'var(--finished-section)',    // 3\n    'var(--i-section)',    // 4\n    'var(--j-section)',    // 5\n    'var(--p-section)',    // 6\n\t][color_index]\n}\n\n/**\n * Renders a stack which is fairly specific to Quicksort. That is, it matches position of array elements exactly.\n * It's purpose is to give a sense of the depth of the stack, plus illustrate the in-place nature of Quicksort.\n * @param {} stack\n * @param {*} nodeCount\n * @param {*} stackDepth\n * @returns\n */\nfunction stackRenderer(stack, nodeCount, stackDepth, maxStackDepth) { \n  if (!stack) {\n    return <div />;\n  }\n  let stackItems = [];\n  for (let i = 0; i < stack.length; i += 1) {\n    stackItems.push(\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n        {stack[i].map(({ base, extra }, index) =>\n          (\n            <div\n              className={styles.stackElement}\n              style={{\n                width: `calc(100%/${nodeCount})`,\n                textAlign: 'center',\n                color: 'gray',\n                backgroundColor: stackFrameColour(base),\n              }}\n            >\n              {/* \n                Stack Number Rendering:\n                - This JSX code renders corresponding numbers under the stack visualisation in 1D arrays, e.g., QuickSort.\n                - The feature is currently disabled. To re-enable:\n                  1. Uncomment the following JSX.\n                  2. Uncomment the `displayStackNumber` function in this file.\n                */}\n\n              {/* {(() => {\n              if (displayStackNumber(val, index, stack[i])) {\n                return <p style={{ fontSize: '13px' }}>{index}</p>;\n              }\n              return '';\n            })()} */}\n              {extra.map((extraColor) => (\n                <div\n                  className={styles.stackSubElement}\n                  style={{\n                    width: '100%',\n                    textAlign: 'center',\n                    backgroundColor: stackFrameColour(extraColor),\n                  }}\n                />\n              ))}\n            </div>\n          )\n        )}\n      </div>,\n    );\n  }\n\n\n  /*\n\n    Logic for maxStackDepth needs to be fixed before it can be added in again\n\n    Bugs with\n      maxStackDepth not being correct\n      changing array and maxStackDepth staying the same\n\n          <p>\n          {stack.length > 0 && stackDepth !== undefined ? `Maximum stack depth: ${maxStackDepth}` : ''}\n          </p>\n\n      \n\n  */\n\n  return (\n    <div className={styles.stack}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', width: '100%' }}>\n        <p>\n          {stack.length > 0 && stackDepth !== undefined ? `Current stack depth: ${stackDepth}` : ''}\n        </p>\n\n      </div>\n      {stackItems}\n    </div>\n  );\n}\n\n/**\n * Stack Number Display Logic:\n * - This function determines if a number should be displayed in the stack visualization.\n * - The function is currently commented out as the feature is disabled. To re-enable:\n *   1. Uncomment this function.\n *   2. Uncomment the corresponding JSX where this function is called.\n *\n * @param {*} val\n * @param {*} index\n * @param {*} arr\n * @returns\n */\n// function displayStackNumber(val, index, arr) {\n//   if (val === 0) {\n//     return false;\n//   }\n//   if (val === 1 && (arr[index - 1] !== 1 || arr[index + 1] !== 1)) {\n//     return true;\n//   }\n//   if (val === -1 && (arr[index - 1] !== -1 || arr[index + 1] !== -1)) {\n//     return true;\n//   }\n//   return false;\n// }\n\nexport default Array1DRenderer;\n","/* eslint-disable class-methods-use-this */\n/* eslint-disable consistent-return */\n/* eslint-disable no-plusplus */\n/* eslint-disable max-len */\nimport { cloneDeepWith } from 'lodash';\nimport Array2DTracer, { Element } from './Array2DTracer';\nimport Array1DRenderer from './Array1DRenderer/index';\n\nclass Array1DTracer extends Array2DTracer {\n  getRendererClass() {\n    return Array1DRenderer;\n  }\n\n  init() {\n    super.init();\n    this.chartTracer = null;\n  }\n\n  set(array1d = [], algo) {\n    const array2d = [array1d];\n    super.set(array2d, algo);\n    this.syncChartTracer();\n  }\n\n  // Patches/highlights an element\n  patch(x, v) {\n    super.patch(0, x, v);\n  }\n\n  // Removes patch/highlight\n  depatch(x) {\n    super.depatch(0, x);\n  }\n\n  // used to highlight sorted elements\n  sorted(x) {\n    super.sorted(0, x);\n  }\n\n  select(sx, ex = sx) {\n    super.select(0, sx, 0, ex);\n  }\n\n  styledSelect(style, sx, ex = sx) {\n    super.styledSelect(style, 0, sx, 0, ex);\n  }\n\n  deselect(sx, ex = sx) {\n    super.deselect(0, sx, 0, ex);\n  }\n\n  fadeOut(sx, ex = sx) {\n    super.fadeOut(0, sx, 0, ex);\n  }\n\n  fadeIn(sx, ex = sx) {\n    super.fadeIn(0, sx, 0, ex);\n  }\n\n  chart(key) {\n    this.chartTracer = key ? this.getObject(key) : null;\n    this.syncChartTracer();\n  }\n\n  syncChartTracer() {\n    if (this.chartTracer) this.chartTracer.data = this.data;\n  }\n\n  // Swaps two elements in 1D array\n  swapElements(x, y) {\n    const temp1 = { ...this.data[0][x], variables: this.data[0][y].variables };\n    const temp2 = { ...this.data[0][y], variables: this.data[0][x].variables };\n    this.data[0][x] = temp2;\n    this.data[0][y] = temp1;\n  }\n\n  // Adds variable to specific element in array\n  addVariable(v, sx) {\n    this.data[0][sx].variables.push(v);\n  }\n\n  // Removes value from array\n  removeVariable(v) {\n    for (let y = 0; y < this.data[0].length; y++) {\n      const newVars = this.data[0][y].variables.filter((val) => val !== v);\n      this.data[0][y].variables = newVars;\n    }\n  }\n\n  // Remove all variables from array\n  clearVariables() {\n    for (let y = 0; y < this.data[0].length; y++) {\n      this.data[0][y].variables = [];\n    }\n  }\n\n  // Removes \"variable\" from all elements in the array and assigns new \"variable\" to a specificed index\n  assignVariable(v, idx) {\n    // deep clone data so that changes to this.data are all made at the same time which will allow for tweening\n    function customizer(val) {\n      if (val instanceof Element) {\n        const newEl = new Element(val.value, val.key);\n        newEl.patched = val.patched;\n        newEl.selected = val.selected;\n        newEl.sorted = val.sorted;\n        newEl.faded = val.faded;\n        newEl.variables = val.variables;\n        newEl.stack = val.stack;\n        newEl.stackDepth = val.stackDepth;\n        newEl.largestValue = val.largestValue;\n        return newEl;\n      }\n    }\n    const newData = cloneDeepWith(this.data, customizer);\n\n    // remove all current occurences of the variable\n    for (let y = 0; y < newData[0].length; y++) {\n      const newVars = newData[0][y].variables.filter((val) => val !== v);\n      newData[0][y].variables = newVars;\n    }\n\n    // add variable to item if not undefined or null\n    if (idx !== null && idx !== undefined)\n      newData[0][idx].variables.push(v);\n\n    // update this.data\n    this.data = newData;\n  }\n\n  setStack(val) {\n    this.stack = val;\n  }\n\n  setStackDepth(depth) {\n    this.stackDepth = depth;\n  }\n\n  // default is to compute largestColumnValue but we can set it\n  // explicitly so we can make two arrays look the same when moving\n  // elements between them and avoid re-scaling\n  setLargestValue(val) {\n    this.largestValue = val;\n  }\n\n  stringTheContent() {\n    return this.data;\n  }\n}\n\nexport default Array1DTracer;\n","/* eslint-disable no-plusplus */\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\nimport Array1DTracer from '../../components/DataStructures/Array/Array1DTracer';\n\nexport default {\n  initVisualisers() {\n    return {\n      array: {\n        instance: new Array1DTracer('array', null, 'Keys to insert', { arrayItemMagnitudes: true }),\n        order: 0,\n      },\n      graph: {\n        instance: new GraphTracer('bst', null, 'Binary tree'),\n        order: 1,\n      },\n    };\n  },\n\n  /**\n   *\n   * @param {object} chunker\n   * @param {array} nodes array of numbers needs to be inserted\n   */\n  run(chunker, { nodes }) {\n    if (nodes.length === 0) return;\n    let parent;\n    let prev = null;\n    let visitedList = [null];\n    const tree = {};\n    const root = nodes[0];\n    tree[root] = {};\n\n    // populate the ArrayTracer using nodes\n    chunker.add(\n      '1',\n      (vis, elements) => {\n        vis.array.set(elements);\n        // vis.array.select(0); // the index of root element is 0\n      },\n      [nodes],\n    );\n    chunker.add('1', (vis) => {\n      vis.array.select(0); // the index of root element is 0\n    });\n    chunker.add(2);\n    chunker.add(\n      3,\n      (vis, r) => {\n        vis.graph.addNode(r);\n        vis.graph.layoutBST(r, true);\n        vis.graph.select(r, null);\n      },\n      [root],\n    );\n    chunker.add(4);\n    chunker.add(5);\n    chunker.add(6);\n    chunker.add(7);\n    chunker.add(8);\n    for (let i = 1; i < nodes.length; i++) {\n      chunker.add(\n        2,\n        (vis, index, visited) => {\n          vis.array.deselect(index - 1);\n          vis.array.select(index);\n          for (let j = 1; j < visited.length; j++) {\n            vis.graph.leave(visited[j], visited[j - 1]);\n          }\n          if (nodes[index - 1] !== visited[visited.length - 1]) {\n            vis.graph.deselect(nodes[index - 1], visited[visited.length - 1]);\n          }\n        },\n        [i, visitedList],\n      );\n      visitedList = [null];\n      const element = nodes[i];\n      chunker.add(3);\n      chunker.add(4);\n      chunker.add(5);\n      chunker.add(6);\n      chunker.add(7);\n      chunker.add(13);\n      let ptr = tree;\n      parent = root;\n      while (ptr) {\n        visitedList.push(parent);\n        chunker.add(14, (vis, c, p) => vis.graph.visit(c, p), [parent, prev]);\n        chunker.add(15);\n        if (element < parent) {\n          chunker.add(16);\n          chunker.add(18);\n          if (tree[parent].left !== undefined) {\n            // if current node has left child\n            prev = parent;\n            parent = tree[parent].left;\n            ptr = tree[parent];\n          } else {\n            chunker.add(9);\n            tree[parent].left = element;\n            tree[element] = {};\n            chunker.add(\n              10,\n              (vis, e, p) => {\n                vis.graph.addNode(e);\n                vis.graph.addEdge(p, e);\n                vis.graph.select(e, p);\n              },\n              [element, parent],\n            );\n            break;\n          }\n        } else if (element > parent) {\n          chunker.add(17);\n          chunker.add(18);\n          if (tree[parent].right !== undefined) {\n            // if current node has right child\n            prev = parent;\n            parent = tree[parent].right;\n            ptr = tree[parent];\n          } else {\n            chunker.add(9);\n            tree[parent].right = element;\n            tree[element] = {};\n            chunker.add(\n              11,\n              (vis, e, p) => {\n                vis.graph.addNode(e);\n                vis.graph.addEdge(p, e);\n                vis.graph.select(e, p);\n              },\n              [element, parent],\n            );\n            break;\n          }\n        } else {\n          break;\n        }\n      }\n    }\n    // deselect the last element in the array\n    chunker.add(\n      2,\n      (vis, index, visited) => {\n        vis.array.deselect(index);\n        for (let j = 1; j < visited.length; j++) {\n          vis.graph.leave(visited[j], visited[j - 1]);\n        }\n        if (nodes[index] !== visited[visited.length - 1]) {\n          vis.graph.deselect(nodes[index], visited[visited.length - 1]);\n        }\n      },\n      [nodes.length - 1, visitedList],\n    );\n    // for test\n    // eslint-disable-next-line consistent-return\n    return tree;\n  },\n};\n","// Heapsort animation\n// \n// It's worth looking at this code if you are planning to write any new\n// modules.\n// \n// This was the first animation done and the code is reasonably simple -\n// the abstractions supported match what we need for this algorithm.\n// For various other algorithms, the code seems much more messy - maybe\n// the abstractions for the data structures/rendering are not quite what\n// is needed or the coding is done with a sledgehammer, so to speak.\n// \n// The original version of this code was not quite right in the way it\n// adapted (or didn't adapt) to expansion/collapse of code blocks.  This\n// was added later in a reasonably simple way (again, other algorithms\n// may use the sledgehammer style).\n// \n// One thing that could make the code here more readable is to use\n// meaningful strings for bookmarks rather than numbers.\n\n/* eslint-disable no-multi-spaces,indent,prefer-destructuring,brace-style */\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\nimport ArrayTracer from '../../components/DataStructures/Array/Array1DTracer';\nimport {areExpanded} from './collapseChunkPlugin';\n\n// k displayed only if first BuildHeap is expanded\n// Note: This is only needed in the last chunk of BuildHeap. The code\n// looks like it displays k throughout BuildHeap but when BuildHeap is\n// collapsed, only the last chunk is rendered so the other chunks don't\n// matter and we can avoid testing what is expanded there.  Another\n// approach would be to use a wrapper function for assigning to k, which\n// checks isBuildHeapExpanded() (it doesn't generalise well for i and j\n// though).\nfunction isBuildHeapExpanded() {\n  return areExpanded(['BuildHeap']);\n}\n\n// i, j (in build) displayed only if first DownHeap is expanded\n// See Note in isBuildHeapExpanded()\nfunction isDownHeapkExpanded() {\n  return areExpanded(['BuildHeap', 'DownHeapk']);\n}\n\nexport default {\n  initVisualisers() {\n    return {\n      array: {\n        instance: new ArrayTracer('array', null, 'Array view', { arrayItemMagnitudes: true }), // Label the input array as array view\n        order: 0,\n      },\n      heap: {\n        instance: new GraphTracer('heap', null, 'Tree view'), // Label the animation of the heap as tree view\n        order: 1,\n      },\n    };\n  },\n\n\n  /**\n   *\n   * @param {object} chunker\n   * @param {array} nodes array of numbers needs to be sorted\n   */\n  run(chunker, { nodes }) {\n    // create a copy, can't simply let A = nodes because it creates a reference\n    // sort A in-place will cause nodes sorted as well\n    const A = [...nodes];\n    let n = nodes.length;\n    let i;\n    let heap;\n    let swap;\n\n    chunker.add(\n      1,\n      (vis, array) => {\n        vis.heap.setHeap(array);\n        // tell the graph renderer that it is heapsort\n        // so that the array index should start from 1\n        vis.array.set(array, 'heapsort');\n      },\n      [nodes],\n    );\n\n    const highlight = (vis, index, primaryColor = true) => {\n      if (primaryColor) {\n        vis.heap.visit(index + 1);\n        vis.array.select(index);\n      } else {\n        vis.heap.select(index + 1);\n        vis.array.patch(index);\n      }\n    };\n\n    const unhighlight = (vis, index, primaryColor = true) => {\n      if (primaryColor) {\n        vis.heap.leave(index + 1);\n        vis.array.deselect(index);\n      } else {\n        vis.heap.deselect(index + 1);\n        vis.array.depatch(index);\n      }\n    };\n\n    const swapAction = (b, n1, n2) => {\n      chunker.add(b, (vis, _n1, _n2) => {\n        vis.heap.swapNodes(_n1 + 1, _n2 + 1);\n        vis.array.swapElements(_n1, _n2);\n      }, [n1, n2]);\n    };\n\n    /** NOTE: In Lee's code, array index starts from 1\n     * however, in JS, array index naturally starts from 0\n     * index start from 0:\n     * parent = k , left child = 2*k + 1, right child = 2*k + 2\n     * index start from 1:\n     * parent = k , left child = 2*k, right child = 2*k + 1\n     */\n\n    // keep track of last node highlighted due to i (or k) so we can\n    // unhighlight it of buildHeap is collapsed\n    let lastiHighlight;\n\n    // build heap\n    // start from the last non-leaf node, work backwards to maintain the heap\n    for (let k = Math.floor(n / 2) - 1; k >= 0; k -= 1) {\n\n      let j;\n      const tmp = i;\n      i = k;\n\n      chunker.add(4, (vis, index1, index2) => {\n        vis.array.assignVariable('k', index1);\n        // if (tmp != null) {  // XXX looks dodgy using tmp here?\n        if (index2 != null) {\n          unhighlight(vis, index2);\n          vis.array.removeVariable('j');\n        }\n        highlight(vis, index1);\n      }, [i, tmp]);\n\n      chunker.add(6, (vis, index1, index2) => {\n        vis.array.assignVariable('i', index1);\n      }, [i, tmp]);\n\n      lastiHighlight = k;\n      heap = false;\n      chunker.add(7);\n\n      chunker.add(8);\n      // if current node's left child's index is greater than array length,\n      // then current node is a leaf\n      while (!(2 * i + 1 >= n || heap)) {\n        chunker.add(10);\n\n        // left child is smaller than right child\n        if (2 * i + 2 < n && A[2 * i + 1] < A[2 * i + 2]) {\n          j = 2 * i + 2;\n          chunker.add(11, (vis, index) => {\n            highlight(vis, index, false);\n            vis.array.assignVariable('j', index);\n          }, [j]);\n        } else {\n          j = 2 * i + 1;\n          chunker.add(13, (vis, index) => {\n            highlight(vis, index, false);\n            vis.array.assignVariable('j', index);\n          }, [j]);\n        }\n\n        chunker.add(14);\n        // parent is greater than largest child, so it is already a valid heap\n        if (A[i] >= A[j]) {\n          heap = true;\n          chunker.add(15, (vis, index, lastH) => {\n            unhighlight(vis, index, false);\n            // possible last chunk in BuildHeap/DownHeapk\n            // remove i, j if !isDownHeapkExpanded\n            if (!isDownHeapkExpanded()) {\n              vis.array.removeVariable('i');\n              vis.array.removeVariable('j');\n            }\n            // remove k+highlighting if !isBuildHeapExpanded\n            if (!isBuildHeapExpanded()) {\n              vis.array.removeVariable('k');\n              unhighlight(vis, lastH);\n            }\n          }, [j, lastiHighlight]);\n        } else {\n          swap = A[i];\n          A[i] = A[j];\n          A[j] = swap;\n          swapAction(17, i, j);\n          lastiHighlight = j;\n          chunker.add(18, (vis, p, c, lastH) => {\n            unhighlight(vis, p, false);\n            vis.array.assignVariable('i', c);\n            // remove i, j if !isDownHeapkExpanded\n            if (!isDownHeapkExpanded()) {\n              vis.array.removeVariable('i');\n              vis.array.removeVariable('j');\n            }\n            // remove k+highlighting if !isDownHeapkExpanded\n            if (!isBuildHeapExpanded()) {\n              vis.array.removeVariable('k');\n              unhighlight(vis, lastH);\n            }\n          }, [i, j, lastiHighlight]);\n          i = j;\n        }\n      }\n    }\n\n    // sort heap\n\n    while (n > 1) {\n      chunker.add(20, (vis, nVal, index) => {\n        // clear variables & show 'n'\n        vis.array.clearVariables();\n        vis.array.assignVariable('n', nVal - 1);\n        unhighlight(vis, index); // XXX skip for first loop iteration?\n      }, [n, i]);\n\n      let j;\n      swap = A[n - 1];\n      A[n - 1] = A[0];\n      A[0] = swap;\n\n      chunker.add(21, (vis, index) => {\n        highlight(vis, index);\n        highlight(vis, 0, false);\n      }, [n - 1]);\n      swapAction(21, 0, n - 1);\n\n      chunker.add(22, (vis, index) => {\n        unhighlight(vis, index, false);\n        vis.array.sorted(index);\n        vis.heap.sorted(index + 1);\n\n        vis.array.assignVariable('n', index - 1);\n      }, [n - 1]);\n      n -= 1;\n\n      i = 0;\n      chunker.add(24, (vis, index1, nVal) => {\n        vis.array.assignVariable('i', index1);\n      }, [i, n]);\n\n      chunker.add(25);\n      heap = false;\n\n      chunker.add(26, (vis, nVal) => {\n        // if (nVal === 0) vis.array.clearVariables();\n      }, [n]);\n      // need to maintain the heap after swap\n      while (!(2 * i + 1 >= n || heap)) {\n        chunker.add(28);\n\n        if (2 * i + 2 < n && A[2 * i + 1] < A[2 * i + 2]) {\n          j = 2 * i + 2;\n          chunker.add(29, (vis, index) => {\n            highlight(vis, index, false);\n            vis.array.assignVariable('j', index);\n          }, [j]);\n        } else {\n          j = 2 * i + 1;\n          chunker.add(31, (vis, index) => {\n            highlight(vis, index, false);\n            vis.array.assignVariable('j', index);\n          }, [j]);\n        }\n\n        chunker.add(32);\n        if (A[i] >= A[j]) {\n          heap = true;\n          chunker.add(33, (vis, index) => {\n            unhighlight(vis, index, false);\n          }, [j]);\n        } else {\n          swap = A[i];\n          A[i] = A[j];\n          A[j] = swap;\n          swapAction(35, i, j);\n          chunker.add(36, (vis, p, c) => {\n            unhighlight(vis, p, false);\n            vis.array.assignVariable('i', c);\n          }, [i, j]);\n          i = j;\n        }\n      }\n    }\n    chunker.add(37, (vis) => {\n      // Put in done state\n      vis.array.clearVariables();\n      vis.array.deselect(0);\n      vis.array.sorted(0);\n      vis.heap.sorted(1);\n      unhighlight(vis, 0, true);\n    });\n    // for test\n    return A;\n  },\n};\n","// Quicksort common code\n// Example of a recursive algorithm that could serve as a guide to\n// implementing others.  Some things to note:\n// 1) A depth parameter is added to the recursive code and also passed\n// to chunker.add()\n// 2) Recursive calls are in code blocks that can be collapsed, so the\n// whole recursive call can be done in a single step. To do this we must\n// have chunks at the recursion level of the call at the start and end\n// of the collapsed computation. Here the start chunk is a comment line.\n// It does nothing but notes that the call on the next line is recursive.\n// At the next step control goes back to the start of the function so\n// an extra comment is not a bad thing to do for clarity in any case.\n// The chunk after the recursive computation is at the line of code with\n// the call, so the call is highlighted when it returns, as we would\n// want.\n// 3) The stack is visualised in the animation, to help understanding of\n// the algorithm overall and also where we are in the recursion.\n// 4) There is chunk at the end of the whole computation that cleans up\n// the final display a bit.\n\n// There may be remnants of code from a previous version that didn't\n// encapsulate the recursive calls properly\n\n// import 1D tracer to generate array in a separate component of the middle panel\nimport ArrayTracer from '../../components/DataStructures/Array/Array1DTracer';\n\nimport {\n  areExpanded,\n} from './collapseChunkPlugin';\n\nexport function isPartitionExpanded() {\n  return areExpanded(['Partition']);\n}\n\n// checks if either recursive call is expanded (needed to determine if i\n// should be displayed)\nexport function isRecursionExpanded() {\n  return areExpanded(['QuicksortFirst']) || areExpanded(['QuicksortSecond']);\n}\n\n\n// visualisation variable strings\n// For now we use a special case for i&j running off the left of the\n// array since we can't easily render them in the right place\nconst VIS_VARIABLE_STRINGS = {\n  i_left_index: 'i',\n  j_right_index: 'j',\n  i_eq_0: 'i==0',\n  j_eq_0: 'j==0',\n  pivot: 'pivot',\n};\n\n// see stackFrameColour in index.js to find corresponding function mapping to css\nconst STACK_FRAME_COLOR = {\n  No_color: 0,\n  In_progress_stackFrame: 1,\n  Current_stackFrame: 2,\n  Finished_stackFrame: 3,\n  I_color: 4,\n  J_color: 5,\n  P_color: 6, // pivot\n};\n\n\n/* \n\n(loc is line of code)\nbookmarks are loc identifiers into a REAL file\nREAL files are the pseudocode files\n(search \\\\B and find quicksort)\nkeep up to date with this file\n\nMEDIAN3_      if loc is only in median of 3 quicksort\nSHARED_       if shared loc between MEDIAN3 and RIGHT_PIVOT\nRIGHT_P_      if an loc is only in the right pivot quicksort\n\n*/\n\nconst QS_BOOKMARKS = {\n  SHARED_quicksort_left_to_right: 1,\n  SHARED_if_left_less_right: 2,\n  SHARED_quicksort_left_to_i_minus_1: 3,\n  SHARED_quicksort_i_plus_1_to_right: 4,\n  RIGHT_P_set_pivot_to_value_at_array_indx_right: 5,\n  MEDIAN3_set_pivot_to_value_at_array_indx_right_minus_1: 5, \n  SHARED_while_i_less_j: 6,\n  SHARED_incri_i_until_array_index_i_greater_eq_pivot: 7,\n  SHARED_decri_j_until: 8, // shortened name\n  SHARED_if_j_greater_i: 9,\n  SHARED_swap_array_i_j_vals: 10,\n  RIGHT_P_set_i_left_minus_1: 11,\n  MEDIAN3_set_i_left: 11,\n  RIGHT_P_set_j_right: 12,\n  MEDIAN3__set_j_right_minus_1: 12,\n  SHARED_swap_pivot_into_position: 13,\n  MEDIAN3_mid_to_middle_index: 14, \n  MEDIAN3_first_swap_A_idx_left_with_A_idx_mid: 15, \n  MEDIAN3_swap_A_idx_right_with_A_idx_mid: 16,\n  MEDIAN3_second_swap_A_idx_left_with_A_idx_mid: 17,\n  MEDIAN3_swap_A_idx_mid_with_A_idx_right_minus_1: 18,\n  SHARED_pre_left: 300,\n  SHARED_pre_right: 400,\n  SHARED_done_qs: 19, // in expanded rec calls \n  SHARED_skip_step : 19, // idk how this works\n  SHARED_done_top_level_qs: 50, // Done at end of top level\n  MEDIAN3_first_if_A_idx_left_greater_A_idx_right: 20,\n  MEDIAN3_if_A_idx_mid_greater_A_idx_right: 21,\n  MEDIAN3_second_if_A_idx_left_greater_A_idx_right: 22,\n};\n\n\n\n\n// ----------------------------------------------------------------------------------------------------------------------------\n\n// Define helper functions\n// without javascript Closure arguements (IE 'global variables')\n// ----------------------------------------------------------------------------------------------------------------------------\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}\n\n\nexport function update_vis_with_stack_frame(a, stack_frame, stateVal) {\n  let left, right,  depth;\n  [left, right,  depth] = stack_frame;\n\n  for (let i = left; i <= right; i += 1) {\n    // each element in the vis stack is a tuple:\n    // 0th index is for base color,\n    // 1th index is for pivot, i, j colors\n    a[depth][i] = { base: stateVal, extra: [] };\n  }\n  return a;\n}\n\n\nconst highlight = (vis, index, isPrimaryColor = true) => {\n  if (isPrimaryColor) {\n    vis.array.select(index);\n  } else {\n    vis.array.patch(index);\n  }\n};\n\nconst unhighlight = (vis, index, isPrimaryColor = true) => {\n  if (isPrimaryColor) {\n    vis.array.deselect(index);\n  } else {\n    vis.array.depatch(index);\n  }\n};\n\n\n// ----------------------------------------------------------------------------------------------------------------------------\n\n\n\nexport function initVisualisers() {\n  return {\n    array: {\n      instance: new ArrayTracer('array', null, 'Array view', {\n        arrayItemMagnitudes: true,\n      }), // Label the input array as array view\n      order: 0,\n    },\n  };\n}\n\n/**\n *\n * @param {object} chunker\n * @param {array} nodes array of numbers needs to be sorted\n */\n\nexport function run_QS(is_qs_median_of_3) {\n\n  return function run(chunker, { nodes }) {\n    // can't rename from nodes\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Define 'global' variables\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n    const entire_num_array = nodes;\n    let max_depth_index = -1; // indexes into 2D array, starts at zero\n    const finished_stack_frames = []; // [ [left, right,  depth], ...]  (although depth could be implicit this is easier)\n    const real_stack = []; // [ [left, right,  depth], ...]\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Define helper functions\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n    function derive_stack(cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) {\n      // return 2D array stack_vis containing color values corresponding to stack frame states and indexes in those stack frames\n      // for visualise this data\n      \n      let stack_vis = [];\n\n      for (let i = 0; i < max_depth_index + 1; i++) {\n        // for whatever reason fill() does not work here... JavaScript\n        stack_vis.push(\n          [...Array.from({ length: entire_num_array.length })].map(() => ({\n            base: STACK_FRAME_COLOR.No_color,\n            extra: [],\n          })),\n        );\n      }\n\n      cur_finished_stack_frames.forEach((stack_frame) => {\n        stack_vis = update_vis_with_stack_frame(\n          stack_vis,\n          stack_frame,\n          STACK_FRAME_COLOR.Finished_stackFrame,\n        );\n      });\n\n      cur_real_stack.forEach((stack_frame) => {\n        stack_vis = update_vis_with_stack_frame(\n          stack_vis,\n          stack_frame,\n          STACK_FRAME_COLOR.In_progress_stackFrame,\n        );\n      });\n\n      if (cur_real_stack.length !== 0) {\n        stack_vis = update_vis_with_stack_frame(\n          stack_vis,\n          cur_real_stack[cur_real_stack.length - 1],\n          STACK_FRAME_COLOR.Current_stackFrame,\n        );\n      }\n\n      if (cur_depth === undefined) {\n        return stack_vis;\n      }\n\n      if (cur_pivot_index !== undefined) {\n        stack_vis[cur_depth][cur_pivot_index].extra.push(STACK_FRAME_COLOR.P_color);\n      }\n\n      if (!isPartitionExpanded()) { return stack_vis; }\n\n      if (cur_i !== undefined) {\n        stack_vis[cur_depth][cur_i].extra.push(STACK_FRAME_COLOR.I_color);\n      }\n\n      if (cur_j !== undefined) {\n        stack_vis[cur_depth][cur_j].extra.push(STACK_FRAME_COLOR.J_color);\n      }\n\n      return stack_vis;\n    }\n\n    const refresh_stack = (vis, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) => {\n\n      // XXX\n      // We can't render the -1 index in the array\n      // For now we display i==0/j==0 at left of array if appropriate\n      let cur_i_too_low;\n      let cur_j_too_low;\n      if (cur_i === -1) {\n        cur_i = undefined;\n        cur_i_too_low = 0;\n      } else {\n        cur_i_too_low = undefined;\n      }\n      if (cur_j === -1) {\n        cur_j = undefined;\n        cur_j_too_low = 0;\n      } else {\n        cur_j_too_low = undefined;\n      }\n\n      assert(vis.array);\n      assert(cur_real_stack && cur_finished_stack_frames);\n\n      if (!isPartitionExpanded()) {\n        // j should not show up in vis if partition is collapsed\n        cur_j = undefined;\n        cur_j_too_low = undefined;\n      }\n\n      if (!isPartitionExpanded() && !isRecursionExpanded()) {\n        // i should not show up in vis if partition + recursion is collapsed\n        cur_i = undefined;\n        cur_i_too_low = undefined;\n      }\n\n      vis.array.setStackDepth(cur_real_stack.length);\n      vis.array.setStack(\n        derive_stack(cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth)\n      );\n\n      assign_i_j(vis, VIS_VARIABLE_STRINGS.i_left_index, cur_i);\n      assign_i_j(vis, VIS_VARIABLE_STRINGS.i_eq_0, cur_i_too_low);\n      assign_i_j(vis, VIS_VARIABLE_STRINGS.pivot, cur_pivot_index);\n      assign_i_j(vis, VIS_VARIABLE_STRINGS.j_right_index, cur_j);\n      assign_i_j(vis, VIS_VARIABLE_STRINGS.j_eq_0, cur_j_too_low);\n    };\n\n\n    function assign_i_j(vis, variable_name, index) {\n\n      if (index === undefined) { vis.array.removeVariable(variable_name); return; }\n\n      // we just used undefined to stop var display since i and pivot\n      // should be displayed even when !isPartitionExpanded()\n      vis.array.assignVariable(variable_name, index);\n/*\n      if (isPartitionExpanded()) {\n        vis.array.assignVariable(variable_name, index);\n      } else {\n        vis.array.removeVariable(variable_name);\n      }\n*/\n    }\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Define quicksort functions\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n\n    function QuickSort(qs_num_array, left, right, depth) { \n\n/*\n      function boolShouldAnimate() {\n        return depth === 0 || isRecursionExpanded();\n      }\n*/\n\n      function partition(partition_num_array, left, right) {\n        // partition is defined inside of quicksort so it can have\n        // access to boolShouldAnimate - no longer used as collapsed\n        // code with recursion is done properly\n        \n        const a = partition_num_array;\n\n        // everything starts as undefined\n        let i = undefined\n        let j = undefined\n        let pivot_index = undefined\n\n  \n        function swapAction(bookmark, n1, n2) {\n\n          assert(bookmark !== undefined);\n          assert(n1 !== undefined);\n          assert(n2 !== undefined);\n  \n          [a[n1], a[n2]] = [a[n2], a[n1]]\n  \n          chunker.add(bookmark,\n            (vis, _n1, _n2, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) => {\n\n              vis.array.swapElements(_n1, _n2);\n              refresh_stack(vis, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth)\n            },\n            [n1, n2, real_stack, finished_stack_frames, i, j, pivot_index, depth],\n          depth);\n        }\n\n        /////\n\n        function chunker_add_if(bookmark, f, args_array) {\n          // add if you should animate a step\n\n          assert(bookmark !== undefined); // helps catch bugs early, and trace them in stack\n\n          if (args_array === undefined) {\n            args_array = [real_stack, finished_stack_frames, i, j, pivot_index, depth]\n          }\n\n          chunker.add(bookmark, f, args_array, depth)\n        }\n\n        /////\n  \n        function pivot_value() { return a[pivot_index] }\n  \n        // pick pivot --------\n        \n        if (is_qs_median_of_3) {\n\n          const mid = Math.floor((left + right) / 2);\n\n          // assigning the pivot as the midpoint calculated above\n          chunker_add_if(QS_BOOKMARKS.MEDIAN3_mid_to_middle_index, (vis, cur_mid, cur_left, cur_right) => {\n            highlight(vis, cur_mid, false);\n            // highlight seems to increment counter rather than set flag\n            if (cur_left !== cur_mid)\n              highlight(vis, cur_left, false);\n            highlight(vis, cur_right, false);\n          },\n          [mid, left, right]); \n\n          chunker_add_if(QS_BOOKMARKS.MEDIAN3_first_if_A_idx_left_greater_A_idx_right); \n          if (a[left] > a[mid]) {\n            swapAction(QS_BOOKMARKS.MEDIAN3_first_swap_A_idx_left_with_A_idx_mid, left, mid);\n          }\n\n          // if A[mid] > A[right]\n          chunker_add_if(QS_BOOKMARKS.MEDIAN3_if_A_idx_mid_greater_A_idx_right);\n          if (a[mid] > a[right]) {\n            swapAction(QS_BOOKMARKS.MEDIAN3_swap_A_idx_right_with_A_idx_mid, right, mid);\n\n            //if A[left] > A[mid]\n            chunker_add_if(QS_BOOKMARKS.MEDIAN3_second_if_A_idx_left_greater_A_idx_right);\n            if (a[left] > a[mid]) {\n              swapAction(QS_BOOKMARKS.MEDIAN3_second_swap_A_idx_left_with_A_idx_mid, left, mid);\n            }\n          }\n\n          // Swap(A[mid], A[right - 1])\n          swapAction(QS_BOOKMARKS.MEDIAN3_swap_A_idx_mid_with_A_idx_right_minus_1, mid, right-1);\n\n          // pivot <- A[right - 1]\n          pivot_index = right-1;\n          chunker_add_if(QS_BOOKMARKS.MEDIAN3_set_pivot_to_value_at_array_indx_right_minus_1, \n            (vis, cur_right, cur_left, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) => {\n            unhighlight(vis, cur_right, false);\n            unhighlight(vis, cur_right -1, false);\n            // unhighlight seems to decrement counter rather than unset flag\n            if (cur_left !== cur_right -1)\n              unhighlight(vis, cur_left, false);\n\n            refresh_stack(vis, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) // refresh stack to show pivot_index\n          },\n          [right, left, real_stack, finished_stack_frames, i, j, pivot_index, depth]);\n\n        } else {\n\n          pivot_index = right;\n\n          chunker_add_if(\n            QS_BOOKMARKS.RIGHT_P_set_pivot_to_value_at_array_indx_right,\n            (vis, cur_right, cur_left, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) => {\n            refresh_stack(vis, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) // refresh stack to show pivot_index\n         },\n          [right, left, real_stack, finished_stack_frames, i, j, pivot_index, depth]);\n            //refresh_stack);  \n        }\n\n        assert(pivot_index !== undefined);\n\n        assert(i === undefined);\n        assert(j === undefined);\n\n        // pick pivot end --------\n\n        if (is_qs_median_of_3) {\n\n          i = left\n          chunker_add_if(QS_BOOKMARKS.MEDIAN3_set_i_left, refresh_stack);\n          j = right - 1\n          chunker_add_if(QS_BOOKMARKS.MEDIAN3__set_j_right_minus_1, refresh_stack);\n\n        } else {\n\n          i = left - 1\n          chunker_add_if(QS_BOOKMARKS.RIGHT_P_set_i_left_minus_1, refresh_stack);\n          j = right\n          chunker_add_if(QS_BOOKMARKS.RIGHT_P_set_j_right, refresh_stack);\n        }\n\n\n        assert(i !== undefined);\n        assert(j !== undefined);\n\n\n        while (i < j) {\n\n          chunker_add_if(QS_BOOKMARKS.SHARED_while_i_less_j);\n          \n          do {\n            i += 1;\n  \n            chunker_add_if(\n              QS_BOOKMARKS.SHARED_incri_i_until_array_index_i_greater_eq_pivot,\n              refresh_stack);\n            \n          } while (a[i] < pivot_value());\n  \n          do {\n            j -= 1;\n\n            chunker_add_if(\n              QS_BOOKMARKS.SHARED_decri_j_until,\n              refresh_stack);\n            \n          } while (i <= j && pivot_value() < a[j]);\n\n\n          chunker_add_if(QS_BOOKMARKS.SHARED_if_j_greater_i);\n          \n          if (i < j) {\n            swapAction(QS_BOOKMARKS.SHARED_swap_array_i_j_vals, i, j);\n          }\n        }\n  \n        pivot_index = i\n  \n        // swap pivot with i\n        swapAction(QS_BOOKMARKS.SHARED_swap_pivot_into_position, i,\n          is_qs_median_of_3 ? right-1 : right\n        );\n\n        chunker_add_if(\n          QS_BOOKMARKS.SHARED_swap_pivot_into_position,\n          (vis, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) => {\n            vis.array.sorted(cur_pivot_index);\n        });\n\n        return [i, a]; // Return [pivot location, array partition_num_array]\n      }\n\n      //// start quicksort -------------------------------------------------------- \n\n      real_stack.push([left, right, depth]);\n      max_depth_index = Math.max(max_depth_index, depth);\n\n      let a = qs_num_array;\n      let pivot;\n\n      // should show animation if doing high level steps for whole array OR if code is expanded to do all reccursive steps\n\n      chunker.add(QS_BOOKMARKS.SHARED_if_left_less_right, refresh_stack, [\n        real_stack,\n        finished_stack_frames,\n      ], depth);\n\n      if (left < right) {\n        // Code structure a bit sus here: normally choose pivot then call\n        // partition with the pivot but we accomodate simple QS plus\n        // M3QS so it's a bit weird, possibly for that reason.\n        [pivot, a] = partition(a, left, right, depth);\n\n\n        // dummy chunk for before recursive call - we need this so there\n        // is a chunk at this recursion level as the first chunk in the\n        // collapsed code for the recursive call\n        // We no longer want to display 'pivot' or 'j' but want 'i'\n        let pivot_index = undefined;\n        let j = undefined;\n        let i = pivot;\n        chunker.add(QS_BOOKMARKS.SHARED_pre_left,\n            (vis, cur_right, cur_left, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) => {\n            refresh_stack(vis, cur_real_stack,\ncur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) // refresh shows i\n         },\n          [right, left, real_stack, finished_stack_frames, i, j, pivot_index, depth], depth);\n\n        QuickSort(a, left, pivot - 1, depth + 1);\n\n        // chunk after recursive call - it's good to highlight the\n        // recursive call once it has returned plus we need a chunk at\n        // this level when the recursive code is collapsed\n        chunker.add(QS_BOOKMARKS.SHARED_quicksort_left_to_i_minus_1,\n          (vis, cur_right, cur_left, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) => {\n          refresh_stack(vis, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) // refresh shows i\n          },\n          [right, left, real_stack, finished_stack_frames, i, j, pivot_index, depth], depth);\n\n        // dummy chunk before recursive call, as above\n        chunker.add(QS_BOOKMARKS.SHARED_pre_right,\n          (vis, cur_right, cur_left, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) => {\n          refresh_stack(vis, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) // refresh shows i\n          },\n          [right, left, real_stack, finished_stack_frames, i, j, pivot_index, depth], depth);\n\n        QuickSort(a, pivot + 1, right, depth + 1);\n\n        // chunk after recursive call, as above, after adjusting\n        // stack frames/depth etc\n          chunker.add(QS_BOOKMARKS.SHARED_quicksort_i_plus_1_to_right, refresh_stack, [\n            real_stack,\n            finished_stack_frames,\n          ], depth);\n        finished_stack_frames.push(real_stack.pop());\n      }\n      // array of size 1, already sorted\n      // has a conditional to specify which line it jumps to depending on the expanding and collapsing\n      // BUGS plus not a great idea\n      // Modified so we stop at \"// Done\" for all base cases (could add\n      // other cases also XXX); code could be simplified.\n      else if (left < a.length) {\n        // let size_one_bookmark = isRecursionExpanded()\n          // ? QS_BOOKMARKS.SHARED_quicksort_left_to_i_minus_1\n          // : QS_BOOKMARKS.SHARED_skip_step;\n\n        chunker.add(\n          // size_one_bookmark,\n          QS_BOOKMARKS.SHARED_done_qs,\n          (vis, l) => {\n            vis.array.sorted(l);\n          },\n          [left],\n        depth);\n        finished_stack_frames.push(real_stack.pop());\n      } else {\n        chunker.add(QS_BOOKMARKS.SHARED_done_qs, (vis) => null, [], depth);\n        finished_stack_frames.push(real_stack.pop());\n      }\n\n      return a; // Facilitates testing\n    }\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Perform actual quicksort\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n    chunker.add(\n      QS_BOOKMARKS.SHARED_quicksort_left_to_right,\n      (vis, array) => {\n        vis.array.set(array, 'quicksort');\n        vis.array.setStack([]); // used for a custom stack visualisation\n      },\n      [entire_num_array],\n    0);\n\n    const result = QuickSort(entire_num_array, 0, entire_num_array.length - 1, 1);\n\n    assert(real_stack.length === 0);\n\n    // Fade out final node - fixes up stack\n    chunker.add(\n      QS_BOOKMARKS.SHARED_done_qs,\n      (vis, idx) => {\n        vis.array.setStackDepth(0);\n        vis.array.fadeOut(idx);\n        // fade all elements back in for final sorted state\n        for (let i = 0; i < entire_num_array.length; i += 1) {\n          vis.array.fadeIn(i);\n        }\n        vis.array.clearVariables();\n        vis.array.setStack(derive_stack(real_stack, finished_stack_frames));\n      },\n      [entire_num_array.length - 1],\n    0);\n\n    return result;\n  }\n}\n\n","import { initVisualisers , run_QS } from './quickSort_shared'\nimport { QSExp } from '../explanations';\n\nconst is_qs_median_of_3 = false;\nconst run = run_QS(is_qs_median_of_3);\n\nexport default {\n\n    explanation: QSExp,\n    initVisualisers, \n    run\n\n};\n","import { initVisualisers , run_QS } from './quickSort_shared'\nimport { QSM3Exp } from '../explanations';\n\nconst is_qs_median_of_3 = true;\nconst run = run_QS(is_qs_median_of_3);\nexport default {\n    explanation: QSM3Exp,\n    initVisualisers, \n    run\n};\n","// Merge sort for arrays, top down\n// Adapted code from Quicksort...\n// XXX Could do with a good clean up!\n// Lots of crud, mostly abandonned attempt at QS-style stack display.\n// Uses simple stack display like DFSrec; stack vanishes inside\n// merge+copy because screen real-estate is limited and details of merge\n// are independent of stack details anyway (may cause some surprise\n// though)\n\nimport { msort_arr_td } from '../explanations';\n\nconst run = run_msort();\n\nexport default {\n    explanation: msort_arr_td,\n    initVisualisers, \n    run\n};\n\n\n// XXX (was) Quicksort common code\n// Example of a recursive algorithm that could serve as a guide to\n// implementing others.  Some things to note:\n// 1) A depth parameter is added to the recursive code and also passed\n// to chunker.add()\n// 2) Recursive calls are in code blocks that can be collapsed, so the\n// whole recursive call can be done in a single step. To do this we must\n// have chunks at the recursion level of the call at the start and end\n// of the collapsed computation. Here the start chunk is a comment line.\n// It does nothing but notes that the call on the next line is recursive.\n// At the next step control goes back to the start of the function so\n// an extra comment is not a bad thing to do for clarity in any case.\n// The chunk after the recursive computation is at the line of code with\n// the call, so the call is highlighted when it returns, as we would\n// want.\n// 3) The stack is visualised in the animation, to help understanding of\n// the algorithm overall and also where we are in the recursion.\n// 4) There is chunk at the end of the whole computation that cleans up\n// the final display a bit.\n\n// There may be remnants of code from a previous version that didn't\n// encapsulate the recursive calls properly\n\n// import 1D tracer to generate array in a separate component of the middle panel\nimport ArrayTracer from '../../components/DataStructures/Array/Array1DTracer';\n\nimport {\n  areExpanded,\n} from './collapseChunkPlugin';\n\n/////////////////////////////////////////////////////\n\n// arrayB exists and is displayed only if MergeCopy is expanded\nfunction isMergeCopyExpanded() {\n  return areExpanded(['MergeCopy']);\n}\n\n// We don't strictly need isMergeExpanded: only needed if last chunk of\n// merge still had extra vars displayed.  Some code still needs\n// isMergeCopyExpanded because it uses arrayB\nfunction isMergeExpanded() {\n  return areExpanded(['MergeCopy', 'Merge']); // MergeCopy contains Merge\n}\n\n// checks if either recursive call is expanded (otherwise stack is not\n// displayed)\nfunction isRecursionExpanded() {\n  return areExpanded(['MergesortL']) || areExpanded(['MergesortR']);\n}\n\n// see stackFrameColour in index.js to find corresponding function mapping to css\nconst STACK_FRAME_COLOR = {\n  No_color: 0,\n  In_progress_stackFrame: 1,\n  Current_stackFrame: 2,\n  Finished_stackFrame: 3,\n  I_color: 4,\n  J_color: 5,\n  P_color: 6, // pivot\n};\n\n// for simple DFS-like stack display\nlet simple_stack = [];\n\n\n// ----------------------------------------------------------------------------------------------------------------------------\n\n// Define helper functions\n// without javascript Closure arguements (IE 'global variables')\n// ----------------------------------------------------------------------------------------------------------------------------\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}\n\n\nexport function update_vis_with_stack_frame(a, stack_frame, stateVal) {\n  let left, right,  depth;\n  [left, right,  depth] = stack_frame;\n\n  for (let i = left; i <= right; i += 1) {\n    // each element in the vis stack is a tuple:\n    // 0th index is for base color,\n    // 1th index is for pivot, i, j colors\n    a[depth][i] = { base: stateVal, extra: [] };\n  }\n  let mid = Math.floor((left + right)/2);\n  // a[depth][mid] = { base: STACK_FRAME_COLOR.P_color, extra: [] };\n  a[depth][mid] = { base: STACK_FRAME_COLOR.Current_stackFrame, extra: [] };\n  return a;\n}\n\n\nconst highlight = (vis, index, isPrimaryColor = true) => {\n  if (isPrimaryColor) {\n    vis.array.select(index);\n  } else {\n    vis.array.patch(index);\n  }\n};\n\nconst highlightB = (vis, index, isPrimaryColor = true) => {\n  if (isPrimaryColor) {\n    vis.arrayB.select(index);\n  } else {\n    vis.arrayB.patch(index);\n  }\n};\n\nconst unhighlight = (vis, index, isPrimaryColor = true) => {\n  if (isPrimaryColor) {\n    vis.array.deselect(index);\n  } else {\n    vis.array.depatch(index);\n  }\n};\n\nconst unhighlightB = (vis, index, isPrimaryColor = true) => {\n  if (isPrimaryColor) {\n    vis.arrayB.deselect(index);\n  } else {\n    vis.arrayB.depatch(index);\n  }\n};\n\n\n// ----------------------------------------------------------------------------------------------------------------------------\n\n\n// We hide array B entirely if things mergeCopy is collapsed\nexport function initVisualisers() {\n  if (isMergeCopyExpanded()) {\n    return {\n      array: {\n        instance: new ArrayTracer('array', null, 'Array A', {\n          arrayItemMagnitudes: true,\n        }),\n        order: 0,\n      },\n      arrayB: {\n        instance: new ArrayTracer('arrayB', null, 'Array B', {\n          arrayItemMagnitudes: true,\n        }),\n        order: 0,\n      },\n    }\n  } else {\n    return {\n      array: {\n        instance: new ArrayTracer('array', null, 'Array A', {\n          arrayItemMagnitudes: true,\n        }),\n        order: 0,\n      },\n    }\n  }\n}\n\n/**\n *\n * @param {object} chunker\n * @param {array} nodes array of numbers needs to be sorted\n */\n\nexport function run_msort() {\n\n  return function run(chunker, { nodes }) {\n    // can't rename from nodes\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Define 'global' variables\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n    const entire_num_array = nodes;\n    let A = nodes;\n    let B = [...entire_num_array].fill(undefined);\n    let max_depth_index = -1; // indexes into 2D array, starts at zero\n    const finished_stack_frames = []; // [ [left, right,  depth], ...]  (although depth could be implicit this is easier)\n    const real_stack = []; // [ [left, right,  depth], ...]\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Define helper functions\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n    function derive_stack(cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) {\n      // return 2D array stack_vis containing color values corresponding to stack frame states and indexes in those stack frames\n      // for visualise this data\n      \n      let stack_vis = [];\n\n      for (let i = 0; i < max_depth_index + 1; i++) {\n        // for whatever reason fill() does not work here... JavaScript\n        stack_vis.push(\n          [...Array.from({ length: entire_num_array.length })].map(() => ({\n            base: STACK_FRAME_COLOR.No_color,\n            extra: [],\n          })),\n        );\n      }\n\n      cur_finished_stack_frames.forEach((stack_frame) => {\n        stack_vis = update_vis_with_stack_frame(\n          stack_vis,\n          stack_frame,\n          STACK_FRAME_COLOR.Finished_stackFrame,\n        );\n      });\n\n      cur_real_stack.forEach((stack_frame) => {\n        stack_vis = update_vis_with_stack_frame(\n          stack_vis,\n          stack_frame,\n          STACK_FRAME_COLOR.In_progress_stackFrame,\n        );\n      });\n\n      if (cur_real_stack.length !== 0) {\n        stack_vis = update_vis_with_stack_frame(\n          stack_vis,\n          cur_real_stack[cur_real_stack.length - 1],\n          STACK_FRAME_COLOR.Current_stackFrame,\n        );\n      }\n\n      if (cur_depth === undefined) {\n        // return stack_vis;\n        return []; // clobber stack display for now\n      }\n\n      cur_pivot_index = Math.floor((cur_i + cur_j)/2);\n      stack_vis[cur_depth][cur_pivot_index].extra.push(STACK_FRAME_COLOR.P_color);\n      if (cur_pivot_index !== undefined) {\n        // stack_vis[cur_depth][cur_pivot_index].extra.push(STACK_FRAME_COLOR.P_color);\n      }\n\n      if (!isMergeCopyExpanded()) { return stack_vis; }\n      // XXX clobber stack display for now\n      // if (!isMergeCopyExpanded()) { return []; }\n\n      if (cur_i !== undefined) {\n        // stack_vis[cur_depth][cur_i].extra.push(STACK_FRAME_COLOR.I_color);\n      }\n\n      if (cur_j !== undefined) {\n        // stack_vis[cur_depth][cur_j].extra.push(STACK_FRAME_COLOR.J_color);\n      }\n\n      return stack_vis;\n      // return []; // XXX  clobber stack display for now\n    }\n\n    const refresh_stack = (vis, cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth) => {\n\n      // XXX\n      // We can't render the -1 index in the array\n      // For now we display i==0/j==0 at left of array if appropriate\n      let cur_i_too_low;\n      let cur_j_too_low;\n      if (cur_i === -1) {\n        cur_i = undefined;\n        cur_i_too_low = 0;\n      } else {\n        cur_i_too_low = undefined;\n      }\n      if (cur_j === -1) {\n        cur_j = undefined;\n        cur_j_too_low = 0;\n      } else {\n        cur_j_too_low = undefined;\n      }\n\n      assert(vis.array);\n      assert(cur_real_stack && cur_finished_stack_frames);\n\n      if (!isMergeCopyExpanded()) {\n        // j should not show up in vis if partition is collapsed\n        // cur_j = undefined;\n        // cur_j_too_low = undefined;\n      }\n\n      if (!isMergeCopyExpanded() && !isRecursionExpanded()) {\n        // i should not show up in vis if partition + recursion is collapsed\n        // cur_i = undefined;\n        // cur_i_too_low = undefined;\n      }\n\n      vis.array.setStackDepth(cur_real_stack.length);\n      vis.array.setStack(\n        derive_stack(cur_real_stack, cur_finished_stack_frames, cur_i, cur_j, cur_pivot_index, cur_depth)\n      );\n\n    };\n\n\n    function assignVarToA(vis, variable_name, index) {\n      if (index === undefined)\n        vis.array.removeVariable(variable_name);\n      else\n        vis.array.assignVariable(variable_name, index);\n    }\n\n    function assignVarToB(vis, variable_name, index) {\n      if (index === undefined)\n        vis.arrayB.removeVariable(variable_name);\n      else\n        vis.arrayB.assignVariable(variable_name, index);\n    }\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Define quicksort functions\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n    function renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp, cur_max1, cur_max2, c_stk) { \n      if (isMergeExpanded()) {\n        vis.array.set(a, 'msort_arr_td');\n        // set_simple_stack(vis.array, c_stk);\n        assignVarToA(vis, 'ap1', cur_ap1);\n        assignVarToA(vis, 'max1', cur_max1);\n        highlight(vis, cur_ap1, true);\n        if (cur_ap2 < a.length) { // XXX \n          assignVarToA(vis, 'ap2', cur_ap2);\n          highlight(vis, cur_ap2, true);\n        } else {\n          assignVarToA(vis, 'ap2', undefined);\n        }\n        assignVarToA(vis, 'max2', cur_max2);\n        vis.arrayB.set(b, 'msort_arr_td');\n        assignVarToB(vis, 'bp', cur_bp);\n        for (let i=cur_left; i < cur_bp; i++) {\n          highlightB(vis, i, false);\n        }\n      }\n    }\n\n    // calls vis.array.setList(c_stk) to display simple stack but only\n    // if recursion is expanded (otherwise stack is never displayed)\n    // XXX is this confusing if we run the algorithm a bit with\n    // recursion expanded then collapse recursion? I guess if you are\n    // doing that you have a pretty good understanding anyway?\n    const set_simple_stack = (vis_array, c_stk) => {\n    if (isRecursionExpanded())\n      vis_array.setList(c_stk);\n    }\n\n    function MergeSort(left, right, depth) {\n\n\n      //// start mergesort -------------------------------------------------------- \n// XXXXX\n\n      real_stack.push([left, right, depth]);\n      max_depth_index = Math.max(max_depth_index, depth);\n      simple_stack.unshift('('+(left+1)+','+(right+1)+')');\n\n      let pivot;\n\n      // should show animation if doing high level steps for whole array OR if code is expanded to do all reccursive steps\n\n      chunker.add('Main', (vis, a, b, cur_left, cur_right, cur_depth,\ncur_real_stack, cur_finished_stack_frames, c_stk) => {\n        vis.array.set(a, 'msort_arr_td');\n        if (cur_depth === 0) {\n          vis.array.setLargestValue(maxValue);\n          vis.array.setStack([]); // used for a custom stack visualisation\n          if (isMergeCopyExpanded()) {\n            vis.arrayB.set(b, 'msort_arr_td');\n            vis.arrayB.setLargestValue(maxValue);\n           }\n         }\n        assignVarToA(vis, 'left', cur_left);\n        assignVarToA(vis, 'right', cur_right);\n        for (let i = cur_left; i <= cur_right; i++) {\n          highlight(vis, i, true)\n        }\n        // XXX give up on QS-like stack for now\n        // refresh_stack(vis, cur_real_stack, cur_finished_stack_frames, cur_left, cur_right, 2, cur_depth);\n        set_simple_stack(vis.array, c_stk);\n        }, [A, B, left, right, depth, real_stack, finished_stack_frames,\nsimple_stack], depth);\n\n      chunker.add('left<right', (vis, a, cur_left, cur_right) => {\n          // assignVarToA(vis, 'left', undefined);\n          // assignVarToA(vis, 'right', undefined);\n          for (let i = cur_left; i <= cur_right; i++) {\n            // unhighlight(vis, i, true)\n          }\n        }, [A, left, right], depth);\n\n      if (left < right) {\n        let mid = Math.floor((left + right)/2);\n        chunker.add('mid', (vis, a, cur_left, cur_mid, cur_right) => {\n          for (let i = cur_mid+1; i <= cur_right; i++) {\n            unhighlight(vis, i, true)\n          }\n          assignVarToA(vis, 'mid', cur_mid);\n          }, [A, left, mid, right], depth);\n\n        // dummy chunk for before recursive call - we need this so there\n        // is a chunk at this recursion level as the first chunk in the\n        // collapsed code for the recursive call\n        chunker.add('preSortL', (vis, a, cur_left, cur_mid, cur_right) => {\n          assignVarToA(vis, 'left', undefined);\n          assignVarToA(vis, 'right', undefined);\n          assignVarToA(vis, 'mid', undefined);\n          for (let i = cur_mid+1; i <= right; i++) {\n            // highlight(vis, i, true)\n          }\n          }, [A, left, mid, right], depth);\n\n        MergeSort(left, mid, depth + 1);\n\n        // chunk after recursive call - it's good to highlight the\n        // recursive call once it has returned plus we need a chunk at\n        // this level when the recursive code is collapsed\n        chunker.add('sortL', (vis, a, cur_left, cur_mid, cur_right,\nc_stk) => {\n          vis.array.set(a, 'msort_arr_td');\n          set_simple_stack(vis.array, c_stk);\n          assignVarToA(vis, 'left', cur_left);\n          assignVarToA(vis, 'mid', cur_mid);\n          assignVarToA(vis, 'right', cur_right);\n          for (let i = cur_left; i <= cur_mid; i++) {\n            // unhighlight(vis, i, true);\n            highlight(vis, i, false)\n          }\n          for (let i = cur_mid+1; i <= cur_right; i++) {\n            highlight(vis, i, true);\n          }\n          }, [A, left, mid, right, simple_stack], depth);\n\n        // dummy chunk before recursive call, as above\n        chunker.add('preSortR', (vis, a, cur_left, cur_mid, cur_right) => {\n          // vis.array.set(a, 'msort_arr_td');\n          for (let i = cur_left; i <= cur_mid; i++) {\n            unhighlight(vis, i, false);\n          }\n          assignVarToA(vis, 'left', undefined);\n          assignVarToA(vis, 'mid', undefined);\n          assignVarToA(vis, 'right', undefined);\n          for (let i = cur_mid+1; i <= cur_right; i++) {\n            // highlight(vis, i, true)\n          }\n          }, [A, left, mid, right], depth);\n\n        MergeSort(mid+1, right, depth + 1);\n\n        // chunk after recursive call\n        chunker.add('sortR', (vis, a, cur_left, cur_mid, cur_right,\nc_stk) => {\n          // vis.array.set(a, 'msort_arr_td');\n          set_simple_stack(vis.array, c_stk);\n          assignVarToA(vis, 'left', cur_left);\n          assignVarToA(vis, 'mid', cur_mid);\n          assignVarToA(vis, 'right', cur_right);\n          // for (let i = cur_mid+1; i <= cur_right; i++) {\n            // unhighlight(vis, i, true);\n            // unhighlight(vis, i, false)\n          // }\n          }, [A, left, mid, right, simple_stack], depth);\n\n        // XXX should we shorten psuedocode? eg, (ap1,max1) <- (left,mid)\n        let ap1 = left;\n        let max1 = mid;\n        let ap2 = mid+1;\n        let max2 = right;\n        let bp = left;\n\n        chunker.add('ap1', (vis, a, cur_left, cur_mid, cur_right) => {\n          // disable stack display during merge: hopefully its not\n          // confusing, it avoids extra distraction and the position of\n          // the stack and array B can sometimes overlap:(\n          // vis.array.set(a, 'msort_arr_td');\n          set_simple_stack(vis.array, undefined);\n          for (let i = cur_mid+1; i <= cur_right; i++) {\n            unhighlight(vis, i, false)\n          }\n          if (isMergeExpanded()) {\n            assignVarToA(vis, 'left', undefined);\n            assignVarToA(vis, 'ap1', cur_left);\n            highlight(vis, cur_left, true);\n          }\n          }, [A, left, mid, right], depth);\n        chunker.add('max1', (vis, a, cur_left, cur_mid, cur_right) => {\n          if (isMergeExpanded()) {\n            assignVarToA(vis, 'mid', undefined);\n            assignVarToA(vis, 'max1', cur_mid);\n          }\n          }, [A, left, mid, right], depth);\n        chunker.add('ap2', (vis, a, cur_left, cur_mid, cur_right) => {\n          if (isMergeExpanded()) {\n            assignVarToA(vis, 'ap2', cur_mid+1);\n            highlight(vis, cur_mid+1, true);\n          }\n          }, [A, left, mid, right], depth);\n        chunker.add('max2', (vis, a, cur_left, cur_mid, cur_right) => {\n          if (isMergeExpanded()) {\n            assignVarToA(vis, 'right', undefined);\n            assignVarToA(vis, 'max2', right);\n          }\n          }, [A, left, mid, right], depth);\n        chunker.add('bp', (vis, a, cur_left, cur_mid, cur_right) => {\n          if (isMergeExpanded()) {\n            assignVarToB(vis, 'bp', left);\n          }\n          }, [A, left, mid, right], depth);\n\n        // while (ap1 <= max1 && ap2 <= max2) \n        /* eslint-disable no-constant-condition */\n        while (true) {\n          chunker.add('MergeWhile', (vis, a, b, cur_ap1, cur_ap2,\ncur_bp, cur_max1, cur_max2, cur_stk, cur_left) => {\n            renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp, cur_max1,\ncur_max2, cur_stk, cur_left);\n            }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n\n         if (!(ap1 <= max1 && ap2 <= max2)) break;\n\n           chunker.add('findSmaller', (vis, a, b, cur_ap1, cur_ap2,\ncur_bp, cur_max1, cur_max2, cur_stk, cur_left) => {\n             renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n             }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n\n           if (A[ap1] < A[ap2]) {\n             B[bp] = A[ap1];\n             A[ap1] = undefined;\n             chunker.add('copyap1', (vis, a, b, cur_ap1, cur_ap2,\ncur_bp, cur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               if (isMergeExpanded()) {\n                 highlightB(vis, cur_bp, false);\n               }\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n             ap1 = ap1+1;\n             chunker.add('ap1++', (vis, a, b, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               if (isMergeExpanded()) {\n                 highlightB(vis, cur_bp, false);\n               }\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n             bp = bp+1;\n             chunker.add('bp++', (vis, a, b, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n           } else {\n             B[bp] = A[ap2];\n             A[ap2] = undefined;\n             chunker.add('copyap2', (vis, a, b, cur_ap1, cur_ap2,\ncur_bp, cur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               if (isMergeExpanded()) {\n                 highlightB(vis, cur_bp, false);\n               }\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n             ap2 = ap2+1;\n             chunker.add('ap2++', (vis, a, b, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               if (isMergeExpanded()) {\n                 highlightB(vis, cur_bp, false);\n               }\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n             bp = bp+1;\n             chunker.add('bp++_2', (vis, a, b, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n           }\n         }\n\n         for (let i = ap1; i <= max1; i++) {\n           B[bp] = A[i];\n           A[i] = undefined;\n           bp = bp+1;\n         }\n\n         chunker.add('CopyRest1', (vis, a, b, cur_left, cur_ap1,\ncur_ap2, cur_max1, cur_max2, cur_bp, c_stk) => {\n          if (isMergeExpanded()) {\n            vis.array.set(a, 'msort_arr_td');\n            // set_simple_stack(vis.array, c_stk);\n            // unhighlight(vis, cur_ap1, true);\n            // assignVarToA(vis, 'ap1', undefined);\n            // assignVarToA(vis, 'max1', undefined);\n            if (cur_ap2 < a.length)\n              assignVarToA(vis, 'ap2', cur_ap2);\n            assignVarToA(vis, 'max2', cur_max2);\n            vis.arrayB.set(b, 'msort_arr_td');\n            for (let i = cur_left; i <= cur_bp-1; i++) {\n              highlightB(vis, i, false);\n            }\n            if (cur_bp < a.length) {\n              assignVarToB(vis, 'bp', cur_bp);\n            } else {\n              assignVarToB(vis, 'bp', undefined);  // XXX anination unclear?\n            }\n          }\n          }, [A, B, left, ap1, ap2, max1, max2, bp, simple_stack], depth);\n\n         for (let i = ap2; i <= max2; i++) {\n           B[bp] = A[i];\n           A[i] = undefined;\n           bp = bp+1;\n         }\n\n         chunker.add('CopyRest2', (vis, a, b, cur_left, cur_right, cur_ap2,\ncur_max2, cur_b, c_stk) => {\n          if (isMergeCopyExpanded()) {\n            vis.array.set(a, 'msort_arr_td');\n            // set_simple_stack(vis.array, c_stk);\n            vis.arrayB.set(b, 'msort_arr_td');\n            for (let i = cur_left; i <= cur_right; i++) {\n              highlightB(vis, i, false);\n            }\n          }\n          if (isMergeExpanded()) {\n            if (cur_ap2 < a.length) {\n              unhighlight(vis, cur_ap2, true);\n              assignVarToA(vis, 'ap2', undefined);\n            }\n            assignVarToA(vis, 'max2', undefined);\n            assignVarToB(vis, 'bp', undefined);\n          }\n          }, [A, B, left, right, ap2, max2, bp, simple_stack], depth);\n\n        for (let i = left; i <= right; i++) {\n          A[i] = B[i];\n          B[i] = undefined;\n        }\n        chunker.add('copyBA', (vis, a, b, cur_left, cur_mid,\ncur_right, c_stk) => {\n          if (isMergeCopyExpanded()) {\n            for (let i = cur_left; i <= cur_right; i++) {\n              // unhighlightB(vis, i, false);\n            }\n            vis.arrayB.set(b, 'msort_arr_td');\n          }\n          vis.array.set(a, 'msort_arr_td');\n          set_simple_stack(vis.array, c_stk);\n          for (let i = cur_left; i <= cur_right; i++) {\n            highlight(vis, i, false);\n          }\n          if (isMergeExpanded()) {\n            assignVarToA(vis, 'ap1', undefined);\n            assignVarToA(vis, 'max1', undefined);\n            assignVarToA(vis, 'ap2', undefined);\n            assignVarToA(vis, 'max2', undefined);\n          }\n          // XXX best highlight cur_mid+1..right from previous\n          // recursion level?\n          // for (let i = cur_mid+1; i <= right; i++) {\n            // highlight(vis, i, true)\n          // }\n          }, [A, B, left, mid, right, simple_stack], depth);\n\n        // chunk after recursive call, as above, after adjusting\n        // stack frames/depth etc\n      }\n        // XXX should we delete 'else' and always go to the 'Done' line\n        // even for non-trivial array segments? (might need to\n        // generalise (un)highlight code below\n        else\n      {\n        chunker.add('Done', (vis, a, cur_left, cur_right) => {\n          if (cur_left === cur_right) {\n            unhighlight(vis, cur_left, true);\n            highlight(vis, cur_left, false)\n          }\n          // finished_stack_frames.push(real_stack.pop());\n          }, [A, left, right], depth);\n      }\n\n      simple_stack.shift();\n      return A; // Facilitates testing\n    }\n\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Perform actual quicksort\n    // ----------------------------------------------------------------------------------------------------------------------------\n      //chunker.add('Main', (vis, a, b, cur_real_stack, cur_finished_stack_frames) => {\n        //vis.array.set(a, 'msort_arr_td');\n        // vis.array.setStack([]); // used for QS-like stack visualisation\n        //}, [A, B, real_stack, finished_stack_frames], 0);\n\n\n    // We compute and fix the max value in each array so they don't get re-scaled as we\n    // shuffle elements between arrays\n    const maxValue = entire_num_array.reduce(\n      (acc, curr) => (acc < curr ? curr : acc), 0);\n    \n    const msresult = MergeSort(0, entire_num_array.length - 1, 0);\n    // const result = QuickSort(entire_num_array, 0, entire_num_array.length - 1, 0);\n\n    // assert(real_stack.length === 0);\n\n    // Fade out final node - fixes up stack\n    // chunker.add(\n      // QS_BOOKMARKS.SHARED_done_qs,\n      // (vis, idx) => {\n        // vis.array.setStackDepth(0);\n        // vis.array.fadeOut(idx);\n        // // fade all elements back in for final sorted state\n        // for (let i = 0; i < entire_num_array.length; i += 1) {\n          // vis.array.fadeIn(i);\n        // }\n        // vis.array.clearVariables();\n        // vis.array.setStack(derive_stack(real_stack, finished_stack_frames));\n      // },\n      // [entire_num_array.length - 1],\n    // 0);\n\n    return msresult;\n  }\n}\n\n","// This comment is entirely for the\n// amusement of the person who wrote\n// it and should be ignored by anyone\n// else. However, THE COMMENTS BELOW\n// SHOULD BE READ BY ANYONE LOOKING\n// AT THE CODE, PARTICULARLY IF IT IS\n// TO BE MODIFIED!\n\n// Animation of merge sort for lists (represented using array), top down.\n// XXX PROTOTYPE for pointer version. Adapted from code for mergesort for\n// arrays (may include some quicksort remnants also).\n// XXX Needs major clean up of code to remove junk, refactor, etc before\n// being used for anything else\n// XXX Not all  steps are animated\n// XXX should be more consistent with mergesort for arrays with colours\n// etc\n// XXX Colours are very limited - colour support is a mystery to me and\n// there are major inconsistencies between colours specification for\n// graph nodes/edges, 1D arrays and 2D arrays (there is a student group\n// that will hopefully look into this and improve things)\n\nimport { msort_lista_td } from '../explanations';\n\nconst run = run_msort();\n\nexport default {\n    explanation: msort_lista_td,\n    initVisualisers, \n    run\n};\n\n\n// XXX (was) Quicksort common code\n// Example of a recursive algorithm that could serve as a guide to\n// implementing others.  Some things to note:\n// 1) A depth parameter is added to the recursive code and also passed\n// to chunker.add()\n// 2) Recursive calls are in code blocks that can be collapsed, so the\n// whole recursive call can be done in a single step. To do this we must\n// have chunks at the recursion level of the call at the start and end\n// of the collapsed computation. Here the start chunk is a comment line.\n// It does nothing but notes that the call on the next line is recursive.\n// At the next step control goes back to the start of the function so\n// an extra comment is not a bad thing to do for clarity in any case.\n// The chunk after the recursive computation is at the line of code with\n// the call, so the call is highlighted when it returns, as we would\n// want.\n// 3) The stack is visualised in the animation, to help understanding of\n// the algorithm overall and also where we are in the recursion.\n// 4) There is chunk at the end of the whole computation that cleans up\n// the final display a bit.\n\n// There may be remnants of code from a previous version that didn't\n// encapsulate the recursive calls properly\n\n// import 2D tracer to generate array in the middle panel\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\n\nimport {\n  areExpanded,\n} from './collapseChunkPlugin';\n\n/////////////////////////////////////////////////////\n\n// arrayB exists and is displayed only if MergeCopy is expanded\nfunction isMergeCopyExpanded() {\n  return areExpanded(['MergeCopy']);\n}\n\n// We don't strictly need isMergeExpanded: only needed if last chunk of\n// merge still had extra vars displayed.  Some code still needs\n// isMergeCopyExpanded because it uses arrayB\nfunction isMergeExpanded() {\n  return areExpanded(['MergeCopy', 'Merge']); // MergeCopy contains Merge\n}\n\n// checks if either recursive call is expanded (otherwise stack is not\n// displayed)\nfunction isRecursionExpanded() {\n  return areExpanded(['MergesortL']) || areExpanded(['MergesortR']);\n}\n\n// see stackFrameColour in index.js to find corresponding function mapping to css\nconst STACK_FRAME_COLOR = {\n  No_color: 0,\n  In_progress_stackFrame: 1,\n  Current_stackFrame: 2,\n  Finished_stackFrame: 3,\n  I_color: 4,\n  J_color: 5,\n  P_color: 6, // pivot\n};\n\nlet Indices;\nlet Heads;\nlet Tails;\nlet simple_stack;\n\n\n// ----------------------------------------------------------------------------------------------------------------------------\n\n// Define helper functions\n// without javascript Closure arguements (IE 'global variables')\n// ----------------------------------------------------------------------------------------------------------------------------\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}\n\n\nexport function update_vis_with_stack_frame(a, stack_frame, stateVal) {\n  let left, right,  depth;\n  [left, right,  depth] = stack_frame;\n\n  for (let i = left; i <= right; i += 1) {\n    // each element in the vis stack is a tuple:\n    // 0th index is for base color,\n    // 1th index is for pivot, i, j colors\n    a[depth][i] = { base: stateVal, extra: [] };\n  }\n  let mid = Math.floor((left + right)/2);\n  // a[depth][mid] = { base: STACK_FRAME_COLOR.P_color, extra: [] };\n  a[depth][mid] = { base: STACK_FRAME_COLOR.Current_stackFrame, extra: [] };\n  return a;\n}\n\n\nconst highlight = (vis, index, isPrimaryColor = true) => {\n  if (isPrimaryColor) {\n    vis.array.select(index);\n  } else {\n    vis.array.patch(index);\n  }\n};\n\nconst highlightB = (vis, index, isPrimaryColor = true) => {\n  if (isPrimaryColor) {\n    vis.arrayB.select(index);\n  } else {\n    vis.arrayB.patch(index);\n  }\n};\n\nconst unhighlight = (vis, index, isPrimaryColor = true) => {\n  if (isPrimaryColor) {\n    vis.array.deselect(index);\n  } else {\n    vis.array.depatch(index);\n  }\n};\n\nconst unhighlightB = (vis, index, isPrimaryColor = true) => {\n  if (isPrimaryColor) {\n    vis.arrayB.deselect(index);\n  } else {\n    vis.arrayB.depatch(index);\n  }\n};\n\n\n// ----------------------------------------------------------------------------------------------------------------------------\n\n\n// Just use a single 2D array to represent lists for now.  Could\n// possibly add a 1D array with arrayItemMagnitudes: true and rearrange\n// data at the end to show sortedness XXX\nexport function initVisualisers() {\n    return {\n      array: {\n        instance: new Array2DTracer('array', null,\n         'Array representation of lists (PROTOTYPE FOR POINTER REPRESENTATION)'),\n        order: 0,\n      },\n    }\n}\n\n/**\n *\n * @param {object} chunker\n * @param {array} nodes array of numbers needs to be sorted\n */\n\nexport function run_msort() {\n\n  return function run(chunker, { nodes }) {\n    // can't rename from nodes\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Define 'global' variables\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n    const entire_num_array = nodes;\n    let A = nodes;\n    let B = [...entire_num_array].fill(undefined);\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Define helper functions\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n    function assignMaybeNullVar(vis, variable_name, index) {\n      if (index === 'Null') {\n        vis.array.assignVariable(variable_name, 2, undefined);\n        vis.array.assignVariable(variable_name+'=Null', 2, 0);\n      } else\n        vis.array.assignVariable(variable_name, 2, index);\n    }\n\n    function assignVarToA(vis, variable_name, index) {\n      if (index === undefined)\n        vis.array.removeVariable(variable_name);\n      else\n        vis.array.assignVariable(variable_name, index);\n    }\n\n    function assignVarToB(vis, variable_name, index) {\n      if (index === undefined)\n        vis.arrayB.removeVariable(variable_name);\n      else\n        vis.arrayB.assignVariable(variable_name, index);\n    }\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Define quicksort functions\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n    function renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp, cur_max1, cur_max2, c_stk) { \n      if (isMergeExpanded()) {\n        vis.array.set(a, 'msort_lista_td');\n        // set_simple_stack(vis.array, c_stk);\n        assignVarToA(vis, 'ap1', cur_ap1);\n        assignVarToA(vis, 'max1', cur_max1);\n        highlight(vis, cur_ap1, true);\n        if (cur_ap2 < a.length) { // XXX \n          assignVarToA(vis, 'ap2', cur_ap2);\n          highlight(vis, cur_ap2, true);\n        } else {\n          assignVarToA(vis, 'ap2', undefined);\n        }\n        assignVarToA(vis, 'max2', cur_max2);\n        vis.arrayB.set(b, 'msort_lista_td');\n        assignVarToB(vis, 'bp', cur_bp);\n        for (let i=cur_left; i < cur_bp; i++) {\n          highlightB(vis, i, false);\n        }\n      }\n    }\n\n    // calls vis.array.setList(c_stk) to display simple stack but only\n    // if recursion is expanded (otherwise stack is never displayed)\n    // XXX is this confusing if we run the algorithm a bit with\n    // recursion expanded then collapse recursion? I guess if you are\n    // doing that you have a pretty good understanding anyway?\n    const set_simple_stack = (vis_array, c_stk) => {\n    if (isRecursionExpanded())\n      vis_array.setList(c_stk);\n    }\n\n    function MergeSort(L, len, depth) {\n\n\n      //// start mergesort -------------------------------------------------------- \n// XXXXX\n\n      // XXX defined function to display first couple of list elements\n      simple_stack.unshift('(['+Heads[L]+'..],'+len+')');\n\n      // should show animation if doing high level steps for whole array OR if code is expanded to do all reccursive steps\n\n      chunker.add('Main', (vis, Lists, cur_L, cur_len, cur_depth, c_stk) => {\n        vis.array.set(Lists, 'msort_lista_td');\n        vis.array.assignVariable('L', 2, cur_L);\n        // colour all of R list\n        let Tails = Lists[2];\n        for (let i = cur_L; i !== 'Null'; i = Tails[i]) {\n          vis.array.select(1, i, 1, i, '0');\n          vis.array.select(2, i, 2, i, '0');\n        }\n        // if (cur_depth === 0) {\n           // }\n        // for (let i = cur_left; i <= cur_right; i++) {\n          // highlight(vis, i, true)\n        // }\n        set_simple_stack(vis.array, c_stk);\n        }, [[Indices, Heads, Tails], L, len, depth, simple_stack], depth);\n\n      chunker.add('len>1', (vis, a) => {\n        }, [[Indices, Heads, Tails]], depth);\n\n      if (len > 1) {\n        let midNum = Math.floor(len/2);\n        // chunker.add('mid', (vis, a, cur_left, cur_mid, cur_right) => {\n          // for (let i = cur_mid+1; i <= cur_right; i++) {\n            // unhighlight(vis, i, true)\n          // }\n          // assignVarToA(vis, 'mid', cur_mid);\n          // }, [A, left, mid, right], depth);\n\n        let Mid = L;\n        chunker.add('Mid', (vis, Lists, cur_L, cur_Mid, c_stk) => {\n          // vis.array.set(Lists, 'msort_lista_td');\n          // set_simple_stack(vis.array, c_stk);\n          vis.array.assignVariable('Mid', 2, cur_Mid);\n          }, [[Indices, Heads, Tails], L, Mid, simple_stack], depth);\n          // XXX chunker.add...\n        for (let i = 1; i < midNum; i++) {\n          Mid = Tails[Mid];\n          // XXX chunker.add...\n        }\n        // split L into lists L and R at (after) mid point\n        let R = Tails[Mid];\n        Tails[Mid] = 'Null';\n        chunker.add('tail(Mid)<-Null', (vis, Lists, cur_L, cur_Mid,\ncur_R, c_stk) => {\n          vis.array.set(Lists, 'msort_lista_td');\n          set_simple_stack(vis.array, c_stk);\n          vis.array.assignVariable('L', 2, cur_L);\n          vis.array.assignVariable('Mid', 2, cur_Mid);\n          vis.array.assignVariable('R', 2, cur_R);\n          vis.array.select(1, cur_L, 1, cur_L, '0');\n          vis.array.select(2, cur_L, 2, cur_L, '0');\n          vis.array.select(1, cur_R, 1, cur_R, '0');\n          vis.array.select(2, cur_R, 2, cur_R, '0');\n          }, [[Indices, Heads, Tails], L, Mid, R, simple_stack], depth);\n\n        // dummy chunk for before recursive call - we need this so there\n        // is a chunk at this recursion level as the first chunk in the\n        // collapsed code for the recursive call\n        chunker.add('preSortL', (vis, Lists, cur_L, cur_Mid, cur_R, c_stk) => {\n          vis.array.set(Lists, 'msort_lista_td');\n          set_simple_stack(vis.array, c_stk);\n          vis.array.assignVariable('L', 2, cur_L);\n          vis.array.select(1, cur_L, 1, cur_L, '0');\n          vis.array.select(2, cur_L, 2, cur_L, '0');\n          }, [[Indices, Heads, Tails], L, Mid, R, simple_stack], depth);\n\n\n        L = MergeSort(L, midNum, depth + 1);\n\n        // chunk after recursive call - it's good to highlight the\n        // recursive call once it has returned plus we need a chunk at\n        // this level when the recursive code is collapsed\n        chunker.add('sortL', (vis, Lists, cur_L, cur_R, cur_Mid, c_stk) => {\n          vis.array.set(Lists, 'msort_lista_td');\n          set_simple_stack(vis.array, c_stk);\n          vis.array.assignVariable('L', 2, cur_L);\n          vis.array.assignVariable('R', 2, cur_R);\n          // colour all of L list\n          let Tails = Lists[2];\n          for (let i = cur_L; i !== 'Null'; i = Tails[i]) {\n            vis.array.select(1, i, 1, i, '1');\n            vis.array.select(2, i, 2, i, '1');\n          }\n          vis.array.select(1, cur_R, 1, cur_R, '0');\n          vis.array.select(2, cur_R, 2, cur_R, '0');\n          // for (let i = cur_left; i <= cur_mid; i++) {\n            // unhighlight(vis, i, true);\n            // highlight(vis, i, false)\n          // }\n          // for (let i = cur_mid+1; i <= cur_right; i++) {\n            // highlight(vis, i, true);\n          // }\n          }, [[Indices, Heads, Tails], L, R, Mid, simple_stack], depth);\n\n        // dummy chunk before recursive call, as above\n        chunker.add('preSortR', (vis, Lists, cur_L, cur_Mid, cur_R, c_stk) => {\n          vis.array.set(Lists, 'msort_lista_td');\n          set_simple_stack(vis.array, c_stk);\n          // vis.array.assignVariable('L', 2, undefined);\n          vis.array.assignVariable('R', 2, cur_R);\n          vis.array.select(1, cur_R, 1, cur_R, '0');\n          vis.array.select(2, cur_R, 2, cur_R, '0');\n          // colour all of R list\n          // let Tails = Lists[2];\n          // for (let i = cur_R; i !== 'Null'; i = Tails[i]) {\n            // vis.array.select(1, i, 1, i, '1');\n            // vis.array.select(2, i, 2, i, '1');\n          // }\n          }, [[Indices, Heads, Tails], L, Mid, R, simple_stack], depth);\n\n        R = MergeSort(R, len - midNum, depth + 1);\n\n        // chunk after recursive call\n        chunker.add('sortR', (vis, Lists, cur_L, cur_R,\nc_stk) => {\n          // vis.array.set(a, 'msort_lista_td');\n          vis.array.set(Lists, 'msort_lista_td');\n          set_simple_stack(vis.array, c_stk);\n          vis.array.assignVariable('L', 2, cur_L);\n          vis.array.assignVariable('R', 2, cur_R);\n          vis.array.select(1, cur_L, 1, cur_L, '0');\n          vis.array.select(2, cur_L, 2, cur_L, '0');\n          // colour all of R list\n          let Tails = Lists[2];\n          for (let i = cur_R; i !== 'Null'; i = Tails[i]) {\n            vis.array.select(1, i, 1, i, '1');\n            vis.array.select(2, i, 2, i, '1');\n          }\n\n          // for (let i = cur_mid+1; i <= cur_right; i++) {\n            // unhighlight(vis, i, true);\n            // unhighlight(vis, i, false)\n          // }\n          }, [[Indices, Heads, Tails], L, R, simple_stack], depth);\n\n          // Merge L and R\n          let M; // result\n          if (Heads[L] <= Heads[R]) {\n              M = L;\n              L = Tails[L];\n          } else {\n              M = R;\n              R = Tails[R];\n          }\n          // scan through adding elements to the end of M\n          let E = M;\n          chunker.add('E', (vis, Lists, cur_L, cur_R, cur_M, cur_E, c_stk) => {\n            vis.array.set(Lists, 'msort_lista_td');\n            set_simple_stack(vis.array, c_stk);\n            assignMaybeNullVar(vis, 'L', cur_L);\n            assignMaybeNullVar(vis, 'R', cur_R);\n            vis.array.assignVariable('M', 2, cur_M);\n            vis.array.assignVariable('E', 2, cur_E);\n            if (cur_L !== 'Null') {\n              vis.array.select(1, cur_L, 1, cur_L, '0');\n              vis.array.select(2, cur_L, 2, cur_L, '0');\n            }\n            if (cur_R !== 'Null') {\n              vis.array.select(1, cur_R, 1, cur_R, '0');\n              vis.array.select(2, cur_R, 2, cur_R, '0');\n            }\n            vis.array.select(1, cur_M, 1, cur_M, '1');\n            vis.array.select(2, cur_M, 2, cur_M, '1');\n            }, [[Indices, Heads, Tails], L, R, M, E, simple_stack], depth);\n          while (L !== 'Null' && R !== 'Null') {\n            chunker.add('whileNotNull', (vis, Lists, cur_L, cur_R, cur_M, cur_E, c_stk) => {\n              vis.array.set(Lists, 'msort_lista_td');\n              set_simple_stack(vis.array, c_stk);\n              assignMaybeNullVar(vis, 'L', cur_L);\n              assignMaybeNullVar(vis, 'R', cur_R);\n              vis.array.assignVariable('M', 2, cur_M);\n              assignMaybeNullVar(vis, 'E', cur_E);\n              if (cur_L !== 'Null') {\n                vis.array.select(1, cur_L, 1, cur_L, '0');\n                vis.array.select(2, cur_L, 2, cur_L, '0');\n              }\n              if (cur_R !== 'Null') {\n                vis.array.select(1, cur_R, 1, cur_R, '0');\n                vis.array.select(2, cur_R, 2, cur_R, '0');\n              }\n              // colour all of M list, up to + including cur_E\n              // (we don't color up to Null because the tail of E hasn't\n              // been smashed)\n              let Tails = Lists[2];\n              for (let i = cur_M; i !== cur_E; i = Tails[i]) {\n                vis.array.select(1, i, 1, i, '1');\n                vis.array.select(2, i, 2, i, '1');\n              }\n              if (cur_E !== 'Null') {\n                vis.array.select(1, cur_E, 1, cur_E, '1');\n                vis.array.select(2, cur_E, 2, cur_E, '1');\n              }\n            }, [[Indices, Heads, Tails], L, R, M, E, simple_stack], depth);\n            if (Heads[L] <= Heads[R]) {\n              Tails[E] = L;\n              E = L;\n              L = Tails[L];\n              chunker.add('popL', (vis, Lists, cur_L, cur_R, cur_M, cur_E, c_stk) => {\n                vis.array.set(Lists, 'msort_lista_td');\n                set_simple_stack(vis.array, c_stk);\n                assignMaybeNullVar(vis, 'L', cur_L);\n                assignMaybeNullVar(vis, 'R', cur_R);\n                vis.array.assignVariable('M', 2, cur_M);\n                assignMaybeNullVar(vis, 'E', cur_E);\n                if (cur_L !== 'Null') {\n                  vis.array.select(1, cur_L, 1, cur_L, '0');\n                  vis.array.select(2, cur_L, 2, cur_L, '0');\n                }\n                if (cur_R !== 'Null') {\n                  vis.array.select(1, cur_R, 1, cur_R, '0');\n                  vis.array.select(2, cur_R, 2, cur_R, '0');\n                }\n                // colour all of M list, up to + including cur_E\n                // (we don't color up to Null because the tail of E hasn't\n                // been smashed)\n                let Tails = Lists[2];\n                for (let i = cur_M; i !== cur_E; i = Tails[i]) {\n                  vis.array.select(1, i, 1, i, '1');\n                  vis.array.select(2, i, 2, i, '1');\n                }\n                if (cur_E !== 'Null') {\n                  vis.array.select(1, cur_E, 1, cur_E, '1');\n                  vis.array.select(2, cur_E, 2, cur_E, '1');\n                }\n              }, [[Indices, Heads, Tails], L, R, M, E, simple_stack], depth);\n            } else {\n              Tails[E] = R;\n              E = R;\n              R = Tails[R];\n              chunker.add('popR', (vis, Lists, cur_L, cur_R, cur_M, cur_E, c_stk) => {\n                vis.array.set(Lists, 'msort_lista_td');\n                set_simple_stack(vis.array, c_stk);\n                assignMaybeNullVar(vis, 'L', cur_L);\n                assignMaybeNullVar(vis, 'R', cur_R);\n                vis.array.assignVariable('M', 2, cur_M);\n                assignMaybeNullVar(vis, 'E', cur_E);\n                if (cur_L !== 'Null') {\n                  vis.array.select(1, cur_L, 1, cur_L, '0');\n                  vis.array.select(2, cur_L, 2, cur_L, '0');\n                }\n                if (cur_R !== 'Null') {\n                  vis.array.select(1, cur_R, 1, cur_R, '0');\n                  vis.array.select(2, cur_R, 2, cur_R, '0');\n                }\n                // colour all of M list, up to + including cur_E\n                // (we don't color up to Null because the tail of E hasn't\n                // been smashed)\n                let Tails = Lists[2];\n                for (let i = cur_M; i !== cur_E; i = Tails[i]) {\n                  vis.array.select(1, i, 1, i, '1');\n                  vis.array.select(2, i, 2, i, '1');\n                }\n                if (cur_E !== 'Null') {\n                  vis.array.select(1, cur_E, 1, cur_E, '1');\n                  vis.array.select(2, cur_E, 2, cur_E, '1');\n                }\n              }, [[Indices, Heads, Tails], L, R, M, E, simple_stack], depth);\n            }\n          }\n          // add any elements not scanned to the end of M\n          if (L === 'Null') {\n            Tails[E] = R;\n            chunker.add('appendR', (vis, Lists, cur_L, cur_R, cur_M, cur_E, c_stk) => {\n              vis.array.set(Lists, 'msort_lista_td');\n              set_simple_stack(vis.array, c_stk);\n              vis.array.assignVariable('M', 2, cur_M);\n              // colour all of M list\n              let Tails = Lists[2];\n              for (let i = cur_M; i !== 'Null'; i = Tails[i]) {\n                vis.array.select(1, i, 1, i, '1');\n                vis.array.select(2, i, 2, i, '1');\n              }\n            }, [[Indices, Heads, Tails], L, R, M, E, simple_stack], depth);\n          } else {\n            Tails[E] = L;\n            chunker.add('appendL', (vis, Lists, cur_L, cur_R, cur_M, cur_E, c_stk) => {\n              vis.array.set(Lists, 'msort_lista_td');\n              set_simple_stack(vis.array, c_stk);\n              vis.array.assignVariable('M', 2, cur_M);\n              // colour all of M list\n              let Tails = Lists[2];\n              for (let i = cur_M; i !== 'Null'; i = Tails[i]) {\n                vis.array.select(1, i, 1, i, '1');\n                vis.array.select(2, i, 2, i, '1');\n              }\n            }, [[Indices, Heads, Tails], L, R, M, E, simple_stack], depth);\n          }\n          chunker.add('returnM', (vis, Lists, cur_L, cur_M, c_stk) => {\n            vis.array.set(Lists, 'msort_lista_td');\n            set_simple_stack(vis.array, c_stk);\n            vis.array.assignVariable('L', 2, undefined);\n            vis.array.assignVariable('R', 2, undefined);\n            vis.array.assignVariable('E', 2, undefined);\n            vis.array.assignVariable('M', 2, cur_M);\n            // colour all of M list\n            let Tails = Lists[2];\n            for (let i = cur_M; i !== 'Null'; i = Tails[i]) {\n              vis.array.select(1, i, 1, i, '1');\n              vis.array.select(2, i, 2, i, '1');\n            }\n            }, [[Indices, Heads, Tails], L, M, simple_stack], depth);\n\n\n/*\n        // XXX should we shorten psuedocode? eg, (ap1,max1) <- (left,mid)\n        let ap1 = left;\n        let max1 = mid;\n        let ap2 = mid+1;\n        let max2 = right;\n        let bp = left;\n\n        chunker.add('ap1', (vis, a, cur_left, cur_mid, cur_right) => {\n          // disable stack display during merge: hopefully its not\n          // confusing, it avoids extra distraction and the position of\n          // the stack and array B can sometimes overlap:(\n          // vis.array.set(a, 'msort_lista_td');\n          set_simple_stack(vis.array, undefined);\n          for (let i = cur_mid+1; i <= cur_right; i++) {\n            unhighlight(vis, i, false)\n          }\n          if (isMergeExpanded()) {\n            assignVarToA(vis, 'left', undefined);\n            assignVarToA(vis, 'ap1', cur_left);\n            highlight(vis, cur_left, true);\n          }\n          }, [A, left, mid, right], depth);\n        chunker.add('max1', (vis, a, cur_left, cur_mid, cur_right) => {\n          if (isMergeExpanded()) {\n            assignVarToA(vis, 'mid', undefined);\n            assignVarToA(vis, 'max1', cur_mid);\n          }\n          }, [A, left, mid, right], depth);\n        chunker.add('ap2', (vis, a, cur_left, cur_mid, cur_right) => {\n          if (isMergeExpanded()) {\n            assignVarToA(vis, 'ap2', cur_mid+1);\n            highlight(vis, cur_mid+1, true);\n          }\n          }, [A, left, mid, right], depth);\n        chunker.add('max2', (vis, a, cur_left, cur_mid, cur_right) => {\n          if (isMergeExpanded()) {\n            assignVarToA(vis, 'right', undefined);\n            assignVarToA(vis, 'max2', right);\n          }\n          }, [A, left, mid, right], depth);\n        chunker.add('bp', (vis, a, cur_left, cur_mid, cur_right) => {\n          if (isMergeExpanded()) {\n            assignVarToB(vis, 'bp', left);\n          }\n          }, [A, left, mid, right], depth);\n\n        // while (ap1 <= max1 && ap2 <= max2) \n        // eslint-disable no-constant-condition\n        while (true) {\n          chunker.add('MergeWhile', (vis, a, b, cur_ap1, cur_ap2,\ncur_bp, cur_max1, cur_max2, cur_stk, cur_left) => {\n            renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp, cur_max1,\ncur_max2, cur_stk, cur_left);\n            }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n\n         if (!(ap1 <= max1 && ap2 <= max2)) break;\n\n           chunker.add('findSmaller', (vis, a, b, cur_ap1, cur_ap2,\ncur_bp, cur_max1, cur_max2, cur_stk, cur_left) => {\n             renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n             }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n\n           if (A[ap1] < A[ap2]) {\n             B[bp] = A[ap1];\n             A[ap1] = undefined;\n             chunker.add('copyap1', (vis, a, b, cur_ap1, cur_ap2,\ncur_bp, cur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               if (isMergeExpanded()) {\n                 highlightB(vis, cur_bp, false);\n               }\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n             ap1 = ap1+1;\n             chunker.add('ap1++', (vis, a, b, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               if (isMergeExpanded()) {\n                 highlightB(vis, cur_bp, false);\n               }\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n             bp = bp+1;\n             chunker.add('bp++', (vis, a, b, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n           } else {\n             B[bp] = A[ap2];\n             A[ap2] = undefined;\n             chunker.add('copyap2', (vis, a, b, cur_ap1, cur_ap2,\ncur_bp, cur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               if (isMergeExpanded()) {\n                 highlightB(vis, cur_bp, false);\n               }\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n             ap2 = ap2+1;\n             chunker.add('ap2++', (vis, a, b, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               if (isMergeExpanded()) {\n                 highlightB(vis, cur_bp, false);\n               }\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n             bp = bp+1;\n             chunker.add('bp++_2', (vis, a, b, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left) => {\n               renderInMerge(vis, a, b, cur_left, cur_ap1, cur_ap2, cur_bp,\ncur_max1, cur_max2, cur_stk, cur_left);\n               }, [A, B, ap1, ap2, bp, max1, max2, simple_stack, left], depth);\n           }\n         }\n\n         for (let i = ap1; i <= max1; i++) {\n           B[bp] = A[i];\n           A[i] = undefined;\n           bp = bp+1;\n         }\n\n         chunker.add('CopyRest1', (vis, a, b, cur_left, cur_ap1,\ncur_ap2, cur_max1, cur_max2, cur_bp, c_stk) => {\n          if (isMergeExpanded()) {\n            vis.array.set(a, 'msort_lista_td');\n            // set_simple_stack(vis.array, c_stk);\n            // unhighlight(vis, cur_ap1, true);\n            // assignVarToA(vis, 'ap1', undefined);\n            // assignVarToA(vis, 'max1', undefined);\n            if (cur_ap2 < a.length)\n              assignVarToA(vis, 'ap2', cur_ap2);\n            assignVarToA(vis, 'max2', cur_max2);\n            vis.arrayB.set(b, 'msort_lista_td');\n            for (let i = cur_left; i <= cur_bp-1; i++) {\n              highlightB(vis, i, false);\n            }\n            if (cur_bp < a.length) {\n              assignVarToB(vis, 'bp', cur_bp);\n            } else {\n              assignVarToB(vis, 'bp', undefined);  // XXX anination unclear?\n            }\n          }\n          }, [A, B, left, ap1, ap2, max1, max2, bp, simple_stack], depth);\n\n         for (let i = ap2; i <= max2; i++) {\n           B[bp] = A[i];\n           A[i] = undefined;\n           bp = bp+1;\n         }\n\n         chunker.add('CopyRest2', (vis, a, b, cur_left, cur_right, cur_ap2,\ncur_max2, cur_b, c_stk) => {\n          if (isMergeCopyExpanded()) {\n            vis.array.set(a, 'msort_lista_td');\n            // set_simple_stack(vis.array, c_stk);\n            vis.arrayB.set(b, 'msort_lista_td');\n            for (let i = cur_left; i <= cur_right; i++) {\n              highlightB(vis, i, false);\n            }\n          }\n          if (isMergeExpanded()) {\n            if (cur_ap2 < a.length) {\n              unhighlight(vis, cur_ap2, true);\n              assignVarToA(vis, 'ap2', undefined);\n            }\n            assignVarToA(vis, 'max2', undefined);\n            assignVarToB(vis, 'bp', undefined);\n          }\n          }, [A, B, left, right, ap2, max2, bp, simple_stack], depth);\n\n        for (let i = left; i <= right; i++) {\n          A[i] = B[i];\n          B[i] = undefined;\n        }\n        chunker.add('copyBA', (vis, a, b, cur_left, cur_mid,\ncur_right, c_stk) => {\n          if (isMergeCopyExpanded()) {\n            for (let i = cur_left; i <= cur_right; i++) {\n              // unhighlightB(vis, i, false);\n            }\n            vis.arrayB.set(b, 'msort_lista_td');\n          }\n          vis.array.set(a, 'msort_lista_td');\n          set_simple_stack(vis.array, c_stk);\n          for (let i = cur_left; i <= cur_right; i++) {\n            highlight(vis, i, false);\n          }\n          if (isMergeExpanded()) {\n            assignVarToA(vis, 'ap1', undefined);\n            assignVarToA(vis, 'max1', undefined);\n            assignVarToA(vis, 'ap2', undefined);\n            assignVarToA(vis, 'max2', undefined);\n          }\n          // XXX best highlight cur_mid+1..right from previous\n          // recursion level?\n          // for (let i = cur_mid+1; i <= right; i++) {\n            // highlight(vis, i, true)\n          // }\n          }, [A, B, left, mid, right, simple_stack], depth);\n*/\n        // chunk after recursive call, as above, after adjusting\n        // stack frames/depth etc\n        L = M;  // just for return below\n      }\n        // XXX should we delete 'else' and always go to the 'Done' line\n        // even for non-trivial array segments? (might need to\n        // generalise (un)highlight code below\n        else\n      {\n        chunker.add('returnL', (vis, a, cur_L) => {\n          vis.array.select(1, cur_L, 1, cur_L, '1');\n          vis.array.select(2, cur_L, 2, cur_L, '1');\n          // if (cur_left === cur_right) {\n            // unhighlight(vis, cur_left, true);\n            // highlight(vis, cur_left, false)\n          // }\n          }, [A, L], depth);\n      }\n\n      simple_stack.shift();\n      return L;\n    }\n\n\n    // ----------------------------------------------------------------------------------------------------------------------------\n    // Perform actual mergesort\n    // ----------------------------------------------------------------------------------------------------------------------------\n\n    // XXXXXXXXX\n    Indices = ['i'];\n    Heads = ['Head(i) (data)'];\n    Tails = ['Tail(i) (next)'];\n    simple_stack = [];\n \n    for (let i = 1; i<entire_num_array.length; i++) {\n      Indices.push(i);\n      Heads.push(entire_num_array[i-1]);\n      Tails.push(i+1);\n    }\n    Tails[entire_num_array.length-1] = 'Null';\n    const msresult = MergeSort(1, entire_num_array.length - 1, 0);\n    // const msresult = 0;\n\n    return msresult;\n  }\n}\n\n","// Uncommenting this will cause dependency errors:\n// import { GlobalActions } from '../../context/actions';\n\n/*\n * @Author: huimin huang\n * @Date: 2021-10-05\n * @FilePath: /src/algorithms/controllers/transitiveClosureCollapseChunkPlugin.js\n * @Description: logic for transitiveClosure reachability\n */\n\nconst TC_NAME = 'transitiveClosure';\n\nlet algorithmGetter = () => null;\nlet dispatchGetter = () => null;\n\nfunction getGlobalAlgotithm() {\n  return algorithmGetter();\n}\n\n// eslint-disable-next-line\nfunction getGlobalDispatch() {\n  return dispatchGetter();\n}\n\nwindow.getGlobalAlgotithm = getGlobalAlgotithm;\nexport function initGlobalAlgotithmGetter(getter, dispatchGetterFn) {\n  algorithmGetter = getter;\n  dispatchGetter = dispatchGetterFn;\n}\n\nfunction isInTransitiveClosure(algorithm) {\n  // eslint-disable-next-line no-param-reassign\n  if (!algorithm) algorithm = getGlobalAlgotithm();\n  return algorithm.id.name === TC_NAME;\n}\n\nexport function isCurrentLineInCollapseState() {\n  const algorithm = getGlobalAlgotithm();\n  if (!isInTransitiveClosure(algorithm)) return false;\n  // , playing, chunker\n  const { bookmark, pseudocode, collapse } = algorithm;\n  if (collapse.transitiveClosure.tc.Reachable) return false;\n  const { Reachable } = pseudocode;\n  return (\n    typeof Reachable.find((item) => item.bookmark === bookmark) !== 'undefined'\n  );\n}\n// window.isCurrentLineInCollapseState = isCurrentLineInCollapseState;\n\nexport function isInCollapseState() {\n  const algorithm = getGlobalAlgotithm();\n  if (!isInTransitiveClosure(algorithm)) return false;\n  return !algorithm.collapse.transitiveClosure.tc.Reachable;\n}\n\nlet chunkCache = [];\nlet inCollapseStateFlag = false;\nlet initedHideJTag = false;\n\nfunction getJTagDom() {\n  return document.querySelectorAll('[j-tag=transitive_closure]')[0];\n}\n\nfunction setJTagVisible(visible = true) {\n  const jTagDom = getJTagDom();\n  if (jTagDom) {\n    jTagDom.style.opacity = visible ? 1 : 0;\n  }\n}\n\nexport function runChunkWithCheckCollapseState(chunkFn) {\n  if (isInCollapseState()) {\n    chunkCache.push(chunkFn);\n  } else {\n    chunkFn();\n  }\n  if (!initedHideJTag) {\n    initedHideJTag = true;\n    setJTagVisible(false);\n  }\n}\n\n// Not sure what this is meant to do - maybe make vars (in)visible\n// depending on collapse but refresh() broke things (fixed)\n// eslint-disable-next-line consistent-return\nexport function onCollapseStateChange() {\n  if (!isInTransitiveClosure()) return false;\n  const collapseState = isInCollapseState();\n  setJTagVisible(!collapseState);\n  const algorithm = getGlobalAlgotithm();\n  algorithm.chunker.refresh();\n}\n\nexport function releaseChunkCache() {\n  chunkCache.forEach((fn) => {\n    fn();\n  });\n  chunkCache = [];\n  inCollapseStateFlag = false;\n}\n\nexport function runChunkWithEnterCollapse() {\n  if (isInCollapseState()) {\n    const algorithm = getGlobalAlgotithm();\n    // const dispatch = getGlobalDispatch();\n    // const algorithm = getGlobalAlgotithm();\n    // algorithm.chunker.next();\n    if (!algorithm.chunker._inPrevState && !inCollapseStateFlag) {\n      // setTimeout(() => {\n      //   dispatch(GlobalActions.NEXT_LINE, {\n      //     triggerPauseInCollapse: true,\n      //     playing: algorithm.playing,\n      //   });\n      // });\n    }\n    inCollapseStateFlag = true;\n  }\n}\n\nfunction getKthDom() {\n  return document.querySelectorAll('[kth-tag=transitive_closure]')[0];\n}\n\nexport function setKthVisible(visible = true) {\n  const kthDom = getKthDom();\n  if (kthDom) {\n    kthDom.style.opacity = visible ? 1 : 0;\n  }\n}\n","/* eslint-disable no-shadow */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-lonely-if */\n/* eslint-disable comma-dangle */\n/* eslint-disable no-trailing-spaces */\n/* eslint-disable no-multi-spaces,indent,prefer-destructuring */\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\n// import the 2D tracer to generate an array that stores the matrix in 2D format\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\nimport {\n  runChunkWithCheckCollapseState,\n  releaseChunkCache,\n  runChunkWithEnterCollapse,\n  isInCollapseState,\n  setKthVisible,\n} from './transitiveClosureCollapseChunkPlugin';\n\nexport default {\n  initVisualisers() {\n    return {\n      graph: {\n        // instance: new GraphTracer('key', null, 'Transitive Closure'),\n        instance: new GraphTracer('key', null, 'Graph view'),\n        order: 0\n      },\n      // create a separate component for displaying the matrix as a 2D array\n      array: {\n        instance: new Array2DTracer('array', null, 'Matrix'),\n        order: 1,\n      },\n    };\n  },\n\n  copyArr(obj) {\n    const out = [];\n    let i = 0;\n    const len = obj.length;\n    for (; i < len; i++) {\n      if (obj[i] instanceof Array) {\n        out[i] = this.copyArr(obj[i]);\n      } else out[i] = obj[i];\n    }\n    return out;\n  },\n\n  run(chunker, { edgeValueMatrix, coordsMatrix, startNode, endNodes, moveNode}) {\n    // eslint-disable-next-line no-unused-expressions\n    const matrix = edgeValueMatrix;\n    const size = matrix.length;\n    const numOfNodes = size;\n    const nodes = new Array(numOfNodes);\n    let prevI = 0;\n    let prevJ = 0;\n    let prevK = 0;\n    chunker.add(1, (g, edgeArray, coordsArray) => {\n      // show kth tag when step back\n      setKthVisible(true);\n      g.array.set([...matrix], 'tc');\n      g.graph.set(edgeArray, Array.from({ length: matrix.length }, (v, k) => (k + 1)),coordsArray);\n      // g.graph.layoutCircle();\n      // initialise the matrix in the 'Matrix' component\n      g.graph.setIstc();\n      g.graph.moveNodeFn(moveNode);\n    }, [[...edgeValueMatrix], [...coordsMatrix]]);\n\n    for (let i = 0; i < numOfNodes; i++) {\n      nodes[i] = this.copyArr([...matrix]);\n    }\n\n    for (let k = 0; k < numOfNodes; k++) {\n      // run the first for loop\n      chunker.add({ bookmark: 2, pauseInCollapse: true }, (g, k) => {\n        g.array.showKth(k + 1);\n        releaseChunkCache();\n      }, [k]);\n\n      for (let i = 0; i < numOfNodes; i++) {\n        // run the second for loop\n        // eslint-disable-next-line no-loop-func\n        chunker.add({ bookmark: 3, pauseInCollapse: true }, (g, k, i) => {\n          g.array.showKth(k + 1);\n          if (i > 0) {\n            g.array.deselect(k, numOfNodes - 1);\n            g.graph.leave1(prevJ, prevK);\n          }\n          if (i === 0 && k > 0) {\n            g.array.deselect(k - 1, numOfNodes - 1);\n            g.graph.leave1(prevJ, prevK);\n          }\n          releaseChunkCache();\n        }, [k, i]);\n\n        if (!nodes[k][i][k]) {\n          // eslint-disable-next-line no-loop-func\n          chunker.add(4, (g, i, k) => {\n            g.graph.leave0(prevK, prevI);\n            g.graph.leave0(prevI);\n            if (i > 0) {\n              g.array.deselect(i - 1, k);\n            }\n            if (i === 0 && k > 0) {\n              g.array.deselect(numOfNodes - 1, k - 1);\n            }\n            g.array.select(i, k);\n          }, [i, k]); // move along columns\n        } else {\n          // eslint-disable-next-line no-loop-func\n          chunker.add(4, (g, i, k) => {\n            // if a path between i and k is found, highlight the edge in blue\n            g.graph.leave0(prevK, prevI);\n            g.graph.leave0(prevI);\n            if (i > 0) {\n              g.array.deselect(i - 1, k);\n            }\n            if (i === 0 && k > 0) {\n              g.array.deselect(numOfNodes - 1, k - 1);\n            }\n            g.array.select(i, k);\n            g.graph.visit0(i);\n            g.graph.visit0(k, i);\n            prevK = k;\n            prevI = i;\n          }, [i, k]);\n\n          for (let j = 0; j < numOfNodes; j++) {\n            // run the third for loop\n            chunker.add(5, () => {\n              runChunkWithEnterCollapse();\n            }, []);\n\n            if (!nodes[k][k][j]) {\n              // eslint-disable-next-line no-loop-func\n              chunker.add(6, (g, k, j, i) => {\n                runChunkWithCheckCollapseState(() => {\n                  g.graph.leave1(prevJ, prevK);\n                });\n                if (j > 0) {\n                  runChunkWithCheckCollapseState(() => {\n                    g.array.deselect(k, j - 1);\n                  });\n                  if (i === k && k === (j - 1)) {\n                    g.array.select(k, j - 1);\n                    g.graph.visit0(i);\n                  }\n                }\n                if (j === 0) {\n                  runChunkWithCheckCollapseState(() => {\n                    g.array.deselect(k, numOfNodes - 1);\n                  });\n                  if (i === k && k === (numOfNodes - 1)) {\n                    g.array.select(k, numOfNodes - 1);\n                  }\n                }\n                g.array.select(k, j, k, j, '1');\n                if (i === k && k === j) {\n                  g.array.select(k, j);\n                  g.graph.visit0(i);\n                }\n              }, [k, j, i]); // move along rows (green)\n            } else {\n              // eslint-disable-next-line no-loop-func\n              chunker.add(6, (g, j, k, i) => {\n                // if a path between j and k is found, highlight the edge in green\n                // eslint-disable-next-line max-len\n                runChunkWithCheckCollapseState(((pj, pk) => () => { g.graph.leave1(pj, pk); })(prevJ, prevK));\n                if (j > 0) {\n                  runChunkWithCheckCollapseState(() => {\n                    g.array.deselect(k, j - 1);\n                  });\n                  if (i === k && k === (j - 1)) {\n                    g.array.select(k, j - 1);\n                    g.graph.visit0(i);\n                  }\n                }\n                if (j === 0) {\n                  runChunkWithCheckCollapseState(() => {\n                    g.array.deselect(k, numOfNodes - 1);\n                  });\n                  if (i === k && k === (numOfNodes - 1)) {\n                    g.array.select(k, numOfNodes - 1);\n                    g.graph.visit0(i);\n                  }\n                }\n                g.array.select(k, j, k, j, '1');\n                if (i === k && k === j) {\n                  g.array.select(k, j);\n                  g.graph.visit0(i);\n                }\n                g.graph.visit1(j, k, 1);\n                prevJ = j;\n                prevK = k;\n              }, [j, k, i]);\n\n              chunker.add(7, (g, i, j) => {\n                // orange\n                if (!g.array.data[i][j].value) {\n                  g.array.patch(i, j, '0->1');\n                  // eslint-disable-next-line max-len\n                  // there is a path between i and j, add a new edge and highlight the edge in orange\n                  g.graph.addEdge(i, j);\n                  g.graph.visit1(j, i, 2); // orange\n                  // highlight the node (i,j) in the matrix when a path is found\n                }\n              }, [i, j]);\n\n              if (!nodes[k][i][j]) {\n                chunker.add(7, (g, i, j) => {\n                    // leave the node (i,j) to move to the next node\n                    // g.graph.leave(j, i);\n                    // eslint-disable-next-line max-len\n                    // remove highlighting from the node (i,j) in the matrix to move to the next element\n                  \n                  runChunkWithCheckCollapseState(() => {\n                    g.array.depatch(i, j, 1);\n                    g.graph.leave1(j, i, 2); // remove orange\n                  });\n                }, [i, j]);\n              }\n\n              for (let a = k; a < numOfNodes; a++) {\n                nodes[a][i][j] = 1;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // eslint-disable-next-line max-len\n    // remove all the highlighting on graph and matrix when finish for both collapse and expansion status\n    chunker.add({ bookmark: 8, pauseInCollapse: true }, (g) => {\n      const n = numOfNodes - 1;\n      g.graph.leave0(n);\n      setKthVisible(false);\n      if (!isInCollapseState()) {\n        g.graph.leave1(n, n);\n        g.array.deselect(n, n);\n      } else {\n        releaseChunkCache();\n      }\n    }, []);\n\n    return nodes.length ? nodes[nodes.length-1] : nodes;\n  },\n};\n","/* eslint-disable no-multiple-empty-lines */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable arrow-parens */\n/* eslint-disable operator-linebreak */\n/* eslint-disable react/jsx-closing-bracket-location */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-one-expression-per-line */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/jsx-indent-props */\n/* eslint-disable react/jsx-first-prop-new-line */\n/* eslint-disable max-len */\n/* eslint-disable object-curly-newline */\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport Renderer from '../../common/Renderer/index';\nimport { classes, distance } from '../../common/util';\nimport styles from './GraphRenderer.module.scss';\nimport { mode } from '../../../top/Settings';\n\nlet modename;\nlet lastnode = -1;\nlet repeatx = false;\nfunction switchmode(modetype = mode()) {\n  switch (modetype) {\n    case 1:\n      modename = styles.graphgreen;\n      break;\n    case 2:\n      modename = styles.graphblue;\n      break;\n    default:\n      modename = styles.graph;\n  }\n  return modename;\n}\n\nclass GraphRendererRect extends Renderer {\n  constructor(props) {\n    super(props);\n\n    this.elementRef = React.createRef();\n    this.selectedNode = null;\n    this.ShowMsg = 0;\n    this.shiftcount = 0;\n    this.lastvisited = -1;\n    this.hasGraph = false;\n    this.graphFinished = false;\n\n    this.togglePan(true);\n    this.toggleZoom(true);\n  }\n\n  handleMouseDown(e) {\n    super.handleMouseDown(e);\n    const coords = this.computeCoords(e);\n    const { nodes, dimensions } = this.props.data;\n    const { nodeRadius } = dimensions;\n    this.selectedNode = nodes.find((node) => distance(coords, node) <= nodeRadius);\n  }\n\n  handleMouseMove(e) {\n    if (this.selectedNode) {\n      const { x, y } = this.computeCoords(e);\n      const node = this.props.data.findNode(this.selectedNode.id);\n      node.x = x;\n      node.y = y;\n      this.refresh();\n    } else {\n      super.handleMouseMove(e);\n    }\n  }\n\n  computeCoords(e) {\n    const svg = this.elementRef.current;\n    const s = svg.createSVGPoint();\n    s.x = e.clientX;\n    s.y = e.clientY;\n    const { x, y } = s.matrixTransform(svg.getScreenCTM().inverse());\n    return { x, y };\n  }\n\n  renderData() {\n    const { nodes, edges, isDirected, isWeighted, dimensions, text } = this.props.data;\n\n    const { baseWidth, baseHeight, nodeRadius, arrowGap, nodeWeightGap, edgeWeightGap } = dimensions;\n    const viewBox = [\n      (this.centerX - baseWidth / 4) / this.zoom,\n      (this.centerY - baseHeight / 4) / this.zoom,\n      baseWidth / 2 / this.zoom,\n      baseHeight / 2 / this.zoom,\n    ];\n    const root = nodes[0];\n    let rootX = 0;\n    let rootY = 0;\n    if (root) {\n      rootX = root.x;\n      rootY = root.y;\n    }\n    let StringLen = 0;\n    let PatternLen = 0;\n    let FinalPostion = 0;\n    const startpostion = nodes[0].x - 2 * nodeRadius;\n    let algorithmName = '';\n\n    if (nodes.length > 1) {\n      StringLen = nodes[1].StringLen;\n      PatternLen = nodes[1].PatternLen;\n      if (nodes[1].algorithmName === 'bfsSearch') {\n        algorithmName = 'bfsSearch';\n        FinalPostion = nodes[StringLen - PatternLen - 1].x;\n      }\n      if (nodes[1].algorithmName === 'horspools') {\n        algorithmName = 'horspools';\n        FinalPostion = nodes[StringLen - 1].x;\n      }\n    }\n\n    const strStart = nodes[0];\n    const strEnd = nodes[StringLen - 1];\n    let nodeid = 0;\n    let smlx = FinalPostion;\n    let smly = nodes[StringLen + 1].y;\n\n    // eslint-disable-next-line no-plusplus\n    for (let ii = 0; ii < nodes.length; ii++) {\n      if (nodes[ii].y <= smly) {\n        if (nodes[ii].x <= smlx) {\n          smlx = nodes[ii].x;\n          smly = nodes[ii].y;\n          nodeid = nodes[ii].id;\n        }\n      }\n    }\n\n    for (let ii = 0; ii < nodes.length; ii++) {\n      if (nodes[ii].y > 0) {\n        if (nodes[ii].x === smlx) {\n          if (nodes[ii].id === lastnode && repeatx) {\n            this.shiftcount++;\n            repeatx = false;\n          } else if (nodes[ii].id === lastnode && !repeatx) {\n            repeatx = true;\n          } else {\n            lastnode = nodes[ii].id;\n            repeatx = false;\n          }\n          if (this.shiftcount > PatternLen) {\n            this.shiftcount = PatternLen;\n          }\n        }\n      }\n    }\n\n    let highlightid = -1;\n    for (let ii = 0; ii < nodes.length; ii++) { // hl with lgr visit / lgr selectlimit\n      // if (nodes[ii].visitedCount === 1){\n      //   highlightid = nodes[ii].id\n      // }\n      if (nodes[ii].selectedCount === 1) {\n        highlightid = nodes[ii].id;\n      }\n    }\n\n    const testing = [];\n    const currentPatStart = nodes[StringLen];\n    const currentPatEnd = nodes[StringLen + PatternLen - 1];\n    let lasthighlightj = nodes[StringLen];\n    let lasthighlighti = nodes[PatternLen - 1];\n    let highlighting = false;\n    let accumj = 0;\n    if (algorithmName === 'horspools') {\n      for (let ii = 0; ii < StringLen; ii++) {\n        if (nodes[ii].selectedCount === 1 || nodes[ii].visitedCount === 1) {\n          lasthighlighti = nodes[ii];\n          testing.push(nodes[ii]);\n          highlighting = true;\n          break;\n        }\n      }\n      for (let ii = StringLen; ii >= StringLen && ii < StringLen + PatternLen; ii++) {\n        if (nodes[ii].selectedCount === 1 || nodes[ii].visitedCount === 1) {\n          lasthighlightj = nodes[ii];\n          testing.push(nodes[ii]);\n          if (nodes[ii].selectedCount === 1) { accumj = StringLen + PatternLen - ii; }\n          break;\n        }\n      }\n      console.log(`i=${lasthighlighti.id}\\tj=${lasthighlightj.id}`);\n    }\n\n    return (\n      <svg className={switchmode(mode())} viewBox={viewBox} ref={this.elementRef}>\n        <defs>\n          <marker id=\"markerArrow\" markerWidth=\"4\" markerHeight=\"4\" refX=\"2\" refY=\"2\" orient=\"auto\">\n            <path d=\"M0,0 L0,4 L4,2 L0,0\" className={styles.arrow} />\n          </marker>\n          <marker id=\"markerArrowSelected\" markerWidth=\"4\" markerHeight=\"4\" refX=\"2\" refY=\"2\" orient=\"auto\">\n            <path d=\"M0,0 L0,4 L4,2 L0,0\" className={classes(styles.arrow, styles.selected)} />\n          </marker>\n          <marker id=\"markerArrowVisited\" markerWidth=\"4\" markerHeight=\"4\" refX=\"2\" refY=\"2\" orient=\"auto\">\n            <path d=\"M0,0 L0,4 L4,2 L0,0\" className={classes(styles.arrow, styles.visited)} />\n          </marker>\n        </defs>\n        {edges\n          .sort((a, b) => a.visitedCount - b.visitedCount)\n          .map((edge) => {\n            const { source, target, weight, visitedCount, selectedCount } = edge;\n            const sourceNode = this.props.data.findNode(source);\n            const targetNode = this.props.data.findNode(target);\n            if (!sourceNode || !targetNode) return undefined;\n            const { x: sx, y: sy } = sourceNode;\n            let { x: ex, y: ey } = targetNode;\n            const mx = (sx + ex) / 2;\n            const my = (sy + ey) / 2;\n            const dx = ex - sx;\n            const dy = ey - sy;\n            const degree = (Math.atan2(dy, dx) / Math.PI) * 180;\n            if (isDirected) {\n              const length = Math.sqrt(dx * dx + dy * dy);\n              if (length !== 0) {\n                ex = sx + (dx / length) * (length - nodeRadius - arrowGap);\n                ey = sy + (dy / length) * (length - nodeRadius - arrowGap);\n              }\n            }\n\n            return (\n              <g\n                className={classes(\n                  styles.edge,\n                  targetNode.sorted && styles.sorted,\n                  selectedCount && styles.selected,\n                  visitedCount && styles.visited,\n                )}\n                key={`${source}-${target}`}\n              >\n                <path d={`M${sx},${sy} L${ex},${ey}`} className={classes(styles.line, isDirected && styles.directed)} />\n                {isWeighted && (\n                  <g transform={`translate(${mx},${my})`}>\n                    <text className={styles.weight} transform={`rotate(${degree})`} y={-edgeWeightGap}>\n                      {this.toString(weight)}\n                    </text>\n                  </g>\n                )}\n              </g>\n            );\n          })}\n        {/* node graph */}\n        {nodes.map((node) => {\n          const { id, x, y, weight, visitedCount, selectedCount, value, key, style, sorted } = node;\n          // only when selectedCount is 1, then highlight the node\n          const selectNode = selectedCount === 1;\n          const visitedNode = visitedCount === 1;\n          return (\n            <motion.g\n                animate={{ x, y }}\n                initial={false}\n                transition={{ duration: 1 }}\n                className={classes(styles.node, selectNode && styles.selected, sorted && styles.sorted, visitedNode && styles.visited)}\n                key={key}\n                // transform={`translate(${x},${y})`}\n              >\n              <rect className={styles.circle} width={2 * nodeRadius} height={2 * nodeRadius} x={-nodeRadius} y={-nodeRadius} />\n              <text className={classes(styles.id, style && style.textStyle)}>{value}</text>\n              {isWeighted && (\n              <text className={styles.weight} x={nodeRadius + nodeWeightGap}>\n                {this.toString(weight)}\n              </text>\n              )}\n              {/* BFS */}\n              {(id === nodeid && algorithmName === 'bfsSearch' ? <text style={{ fill: '#2986CC' }} y={-smly * 4} dy=\".2em\">i</text> : <></>)}\n              {(id === nodeid && highlightid < 0 && algorithmName === 'bfsSearch' ? <text style={{ fill: '#2986CC' }} y={smly * 2} dy=\".2em\">j</text> : <></>)}\n              {(id === highlightid && highlightid >= 0 && algorithmName === 'bfsSearch' ? <text style={{ fill: '#2986CC' }} y={smly * 2} dy=\".2em\">j</text> : <></>)}\n              {/* HFS */}\n              {/* {(id === currentPatEnd.id && currentPatStart.x !== strStart.x && testing.length <=0 && algorithmName === \"horspools\"? <text style={{ fill: \"#2986CC\" }}  y={lasthighlightj.y * 2} dy=\".2em\">j</text> : <></>)} */}\n              {/* {(id === lasthighlightj.id && currentPatStart.x === strStart.x && !highlighting && testing.length >0 && algorithmName === \"horspools\"? <text style={{ fill: \"#2986CC\" }}  y={lasthighlightj.y * 2} dy=\".2em\">j</text> : <></>)} */}\n              {(id === lasthighlightj.id && currentPatStart.x !== strStart.x && testing.length > 0 && algorithmName === 'horspools' ? <text style={{ fill: '#2986CC', textAlign: 'centre' }} y={lasthighlightj.y * 2} dy=\".2em\">m-j</text> : <></>)}\n              {(id === lasthighlightj.id && currentPatStart.x !== strStart.x && testing.length > 0 && algorithmName === 'horspools' ? <text style={{ fill: '#2986CC', textAlign: 'centre' }} y={-lasthighlightj.y * 6} dy=\".2em\">i-j</text> : <></>)}\n              {(id === lasthighlightj.id && id === currentPatEnd.id && currentPatStart.x === strStart.x && testing.length > 0 && algorithmName === 'horspools' ? <text style={{ fill: '#2986CC', textAlign: 'centre' }} y={lasthighlightj.y * 2} dy=\".2em\">m-j</text> : <></>)}\n              {(id === lasthighlightj.id && id === currentPatEnd.id && currentPatStart.x === strStart.x && testing.length > 0 && algorithmName === 'horspools' ? <text style={{ fill: '#2986CC', textAlign: 'centre' }} y={-lasthighlightj.y * 6} dy=\".2em\">i-j</text> : <></>)}\n              {(id === currentPatEnd.id && currentPatStart.x !== strStart.x && algorithmName === 'horspools' ? <text style={{ fill: '#2986CC' }} y={-lasthighlightj.y * 4} dy=\".2em\">i</text> : <></>)}\n              {(id === currentPatEnd.id && currentPatStart.x === strStart.x && highlighting && algorithmName === 'horspools' ? <text style={{ fill: '#2986CC' }} y={-lasthighlightj.y * 4} dy=\".2em\">i</text> : <></>)}\n              {(id === currentPatEnd.id && (currentPatStart.x !== strStart.x || currentPatStart.x === strStart.x && highlighting) && algorithmName === 'horspools' ? <text style={{ fill: '#2986CC' }} x={strEnd.x} y={lasthighlightj.y * 8} dy=\".2em\">j={accumj}</text> : <></>)}\n              {/* {(id === currentPatEnd.id && currentPatStart.x === strStart.x && highlighting && algorithmName === \"horspools\"? <text style={{ fill: \"#2986CC\" }} x={strEnd.x} y={lasthighlightj.y * 8} dy=\".2em\">j={accumj}</text> : <></>)} */}\n            </motion.g>\n          );\n        })}\n\n        {/* Result message */}\n        {nodes.map((node) => {\n          const { id, x, y, visitedCount, Result } = node;\n          // only when selectedCount is 1, then highlight the node\n          const selectNode = visitedCount;\n          // eslint-disable-next-line no-return-assign\n          return (\n            <g\n              className={classes(styles.node, selectNode && styles.selected, visitedCount && styles.visited)}\n              key={id}\n              transform={`translate(${x},${y})`}\n            >\n              {\n              this.toString(Result) !== null ?\n                (this.ShowMsg += 1, this.ShowMsg = 1, <text x=\"-20%\" y=\"20%\" dy=\".2em\">{this.toString(Result)}</text>)\n                :\n                (this.ShowMsg === 0 && smlx !== FinalPostion && smlx > startpostion && nodeid === id ? (<text x=\"-10%\" y=\"20%\" dy=\".2em\">Keep Seaching</text>) : (<text />))\n              }\n              {smlx === startpostion ? (this.ShowMsg = 0) : (<text />)}\n              {this.ShowMsg === 0 && smlx === FinalPostion && nodeid === id ? (<text x=\"-10%\" y=\"20%\" dy=\".2em\">Seaching Fail</text>) : (<text />)}\n            </g>\n          );\n        })}\n        <text style={{ fill: '#ff0000' }} textAnchor=\"middle\" x={rootX} y={rootY - 20}>\n          {text}\n        </text>\n      </svg>\n    );\n  }\n}\n\nexport default GraphRendererRect;\n","/* eslint-disable no-prototype-builtins */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable object-curly-newline */\n/* eslint-disable operator-linebreak */\n/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-else-return */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable prefer-rest-params */\n/* eslint-disable arrow-parens */\n/* eslint-disable prefer-template */\n/* eslint-disable import/no-unresolved */\n\n// eslint-disable-next-line max-classes-per-file\nimport Tracer from '../common/Tracer';\nimport { distance } from '../common/util';\nimport GraphRenderer from './GraphRendererRect/index';\n\nexport class Element {\n  constructor() {\n    this.variables = [];\n  }\n}\n\nclass GraphTracer extends Tracer {\n  getRendererClass() {\n    return GraphRenderer;\n  }\n\n  init() {\n    super.init();\n    this.dimensions = {\n      baseWidth: 480,\n      baseHeight: 480,\n      padding: 32,\n      nodeRadius: 12,\n      arrowGap: 4,\n      nodeWeightGap: 4,\n      edgeWeightGap: 4,\n    };\n    this.isDirected = true;\n    this.isWeighted = false;\n    this.callLayout = { method: this.layoutCircle, args: [] };\n    this.text = null;\n    this.logTracer = null;\n  }\n\n\n  /**\n   * This is the original function provided by Tracer.js,\n   * but we add a second argument which accepts nodes' values\n   * @param {array} array2d 2D array of nodes\n   */\n  set(array2d = [], values = []) {\n    this.nodes = [];\n    this.edges = [];\n    for (let i = 0; i < array2d.length; i++) {\n      this.addNode(i, values[i] ? values[i] : i);\n      for (let j = 0; j < array2d.length; j++) {\n        const value = array2d[i][j];\n        if (value) {\n          this.addEdge(i, j, this.isWeighted ? value : null);\n        }\n      }\n    }\n    this.layout();\n    super.set();\n  }\n\n  /**\n   * clear existing trace, if any\n   * nodes and edges remain unchanged\n   */\n  clear() {\n    this.edges.forEach(edge => {\n      edge.visitedCount = 0;\n      edge.selectedCount = 0;\n    });\n    this.nodes.forEach(node => {\n      node.visitedCount = 0;\n      node.selectedCount = 0;\n    });\n    this.text = null;\n  }\n\n  isEmpty() {\n    return this.nodes.length === 0 && this.edges.length === 0;\n  }\n\n  /**\n   * extract a tree object from edges and nodes\n   * @return {object} a tree object\n   */\n  getTree() {\n    const tree = {};\n\n    const setLeftOrRightChild = (t, parent, child) => {\n      if (parent < child) {\n        // right child\n        t[parent].right = child;\n      } else if (parent > child) {\n        // left child\n        t[parent].left = child;\n      }\n    };\n\n    this.edges.forEach(obj => {\n      if (!tree.hasOwnProperty(obj.source)) {\n        tree[obj.source] = {};\n        setLeftOrRightChild(tree, obj.source, obj.target);\n      } else {\n        setLeftOrRightChild(tree, obj.source, obj.target);\n      }\n      if (!tree.hasOwnProperty(obj.target)) {\n        tree[obj.target] = {};\n      }\n    });\n\n    this.nodes.forEach(obj => {\n      if (!tree.hasOwnProperty(obj.id)) {\n        tree[obj.id] = {};\n      }\n    });\n\n    return tree;\n  }\n\n  /**\n   * extract the root from edges and nodes\n   * @return {number} root\n   */\n  getRoot() {\n    // in case there is only a single node in the graph\n    if (this.edges.length === 0 && this.nodes.length === 1) {\n      return this.nodes[0].id;\n    }\n    const sources = this.edges.map(obj => obj.source);\n    const targets = this.edges.map(obj => obj.target);\n    const nodes = [...new Set([...sources, ...targets])];\n    // the node that does not a source is the root\n    return nodes.find(node => !targets.includes(node));\n  }\n\n  setHeap(nodes) {\n    this.nodes = [];\n    this.edges = [];\n    // 1 is the id of the first element of the array\n    for (let i = 1; i <= nodes.length; i++) {\n      this.addNode(i, nodes[i - 1]);\n      // left child\n      if ((2 * i) <= nodes.length) {\n        this.addEdge(i, 2 * i);\n      }\n      // right child\n      if (((2 * i) + 1) <= nodes.length) {\n        this.addEdge(i, (2 * i) + 1);\n      }\n    }\n\n    // set the root node, 1 is the id of the first element of the array\n    this.layoutTree(1);\n    this.directed(false);\n    this.layout();\n    super.set();\n  }\n\n  swapNodes(nodeId1, nodeId2) {\n    const node1 = this.findNode(nodeId1);\n    const temp = node1.value;\n    const node2 = this.findNode(nodeId2);\n    node1.value = node2.value;\n    node2.value = temp;\n    this.layoutTree(this.root);\n  }\n\n  directed(isDirected = true) {\n    this.isDirected = isDirected;\n  }\n\n  weighted(isWeighted = true) {\n    this.isWeighted = isWeighted;\n  }\n\n  \n\n  addNode(id, value = undefined, shape = 'circle', color = 'blue', weight = null, x = 0, y = 0, visitedCount = 0, selectedCount = 0) {\n    if (this.findNode(id)) return;\n    value = (value === undefined ? id : value);\n    this.nodes.push({ id, value, shape, color, weight, x, y, visitedCount, selectedCount });\n    this.layout();\n  }\n\n  addResult(text,id) {\n    this.findNode(id).Result = text;\n  }\n  addStringLen(len,id){\n    this.findNode(id).StringLen = len;\n  }\n  addPatternLen(len,id){\n    this.findNode(id).PatternLen = len;\n  }\n  addAlgorithm(name,id){\n    this.findNode(id).algorithmName =name;\n  }\n  updateNode(id, value, weight, x, y, visitedCount, selectedCount) {\n    const node = this.findNode(id);\n    const update = { value, weight, x, y, visitedCount, selectedCount };\n    Object.keys(update).forEach(key => {\n      if (update[key] === undefined) delete update[key];\n    });\n    Object.assign(node, update);\n  }\n\n  removeNode(id) {\n    const node = this.findNode(id);\n    if (!node) return;\n    const index = this.nodes.indexOf(node);\n    this.nodes.splice(index, 1);\n    this.layout();\n  }\n\n  addEdge(source, target, weight = null, visitedCount = 0, selectedCount = 0) {\n    if (this.findEdge(source, target)) return;\n    this.edges.push({ source, target, weight, visitedCount, selectedCount });\n    this.layout();\n  }\n\n  updateEdge(source, target, weight, visitedCount, selectedCount) {\n    const edge = this.findEdge(source, target);\n    const update = { weight, visitedCount, selectedCount };\n    Object.keys(update).forEach(key => {\n      if (update[key] === undefined) delete update[key];\n    });\n    Object.assign(edge, update);\n  }\n\n  removeEdge(source, target) {\n    const edge = this.findEdge(source, target);\n    if (!edge) return;\n    const index = this.edges.indexOf(edge);\n    this.edges.splice(index, 1);\n    this.layout();\n  }\n\n  findValue(id) {\n    return this.findNode(id).value;\n  }\n\n  findNode(id) {\n    return this.nodes.find(node => node.id === id);\n  }\n\n  findEdge(source, target, isDirected = this.isDirected) {\n    if (isDirected) {\n      return this.edges.find(edge => edge.source === source && edge.target === target);\n    } else {\n      return this.edges.find(edge =>\n        (edge.source === source && edge.target === target) ||\n        (edge.source === target && edge.target === source));\n    }\n  }\n\n  findLinkedEdges(source, isDirected = this.isDirected) {\n    if (isDirected) {\n      return this.edges.filter(edge => edge.source === source);\n    } else {\n      return this.edges.filter(edge => edge.source === source || edge.target === source);\n    }\n  }\n\n  findLinkedNodeIds(source, isDirected = this.isDirected) {\n    const edges = this.findLinkedEdges(source, isDirected);\n    return edges.map(edge => edge.source === source ? edge.target : edge.source);\n  }\n\n  findLinkedNodes(source, isDirected = this.isDirected) {\n    const ids = this.findLinkedNodeIds(source, isDirected);\n    return ids.map(id => this.findNode(id));\n  }\n\n  getRect() {\n    const { baseWidth, baseHeight, padding } = this.dimensions;\n    const left = -baseWidth / 2 + padding;\n    const top = -baseHeight / 2 + padding;\n    const right = baseWidth / 2 - padding;\n    const bottom = baseHeight / 2 - padding;\n    const width = right - left;\n    const height = bottom - top;\n    return { left, top, right, bottom, width, height };\n  }\n\n  layout() {\n    const { method, args } = this.callLayout;\n    method.apply(this, args);\n  }\n\n  layoutCircle() {\n    this.callLayout = { method: this.layoutCircle, args: arguments };\n    const rect = this.getRect();\n    const unitAngle = 2 * Math.PI / this.nodes.length;\n    let angle = -Math.PI / 2;\n    for (const node of this.nodes) {\n      const x = Math.cos(angle) * rect.width / 2;\n      const y = Math.sin(angle) * rect.height / 2;\n      node.x = x;\n      node.y = y;\n      angle += unitAngle;\n    }\n  }\n\n\n  shift(space = 0, nodes) {\n    const searchString = nodes[0];\n    const findString = nodes[1];\n    let stringCount = 0;\n    const xSpacing = 25;\n    const ySpacing = 30;\n    let startFindString = -1;\n    for (let i = 0; i < searchString.length; i++) {\n      const thisNode = this.findNode(stringCount);\n      thisNode.shape = 'box';\n      thisNode.x = (i - searchString.length / 2) * xSpacing;\n      if (i === 0) {\n        startFindString = thisNode.x;\n      }\n      thisNode.y = ySpacing / 2;\n      stringCount++;\n    }\n    for (let i = 0; i < findString.length; i++) {\n      const thisNode = this.findNode(stringCount);\n      thisNode.shape = 'box';\n      thisNode.x = startFindString + (i + space) * (xSpacing);\n      thisNode.y = -1 * (ySpacing / 2);\n      stringCount++;\n    }\n  }\n\n  layoutBFSS(shift = 0, nodes) {\n    this.callLayout = { method: this.layoutBFSS, args: arguments };\n    const searchString = nodes[0];\n    const findString = nodes[1];\n    let stringCount = 0;\n    const xSpacing = 25;\n    const ySpacing = 30;\n    let startFindString = -1;\n    for (let i = 0; i < searchString.length; i++) {\n      const thisNode = this.findNode(stringCount);\n      thisNode.shape = 'square';\n      thisNode.x = (i - searchString.length / 2) * xSpacing;\n      if (i === 0) {\n        startFindString = thisNode.x;\n      }\n      thisNode.y = ySpacing / 2;\n      stringCount++;\n    }\n    for (let i = 0; i < findString.length; i++) {\n      const thisNode = this.findNode(stringCount);\n      thisNode.shape = 'square';\n      thisNode.x = startFindString + (i * xSpacing + (shift * 25));\n      thisNode.y = -1 * (ySpacing / 2);\n      stringCount++;\n    }\n  }\n\n  layoutTree(root = 0, sorted = false) {\n    this.root = root;\n    this.callLayout = { method: this.layoutTree, args: arguments };\n    const rect = this.getRect();\n\n    // If there is a sole node, it centers it.\n    if (this.nodes.length === 1) {\n      const [node] = this.nodes;\n      node.x = (rect.left + rect.right) / 2;\n      node.y = (rect.top + rect.bottom) / 2;\n      return;\n    }\n\n    // Traversal of the entire tree, counting number of leaves.\n    let maxDepth = 0;\n    const leafCounts = {};\n    let marked = {};\n    const recursiveAnalyze = (id, depth) => {\n      marked[id] = true;\n      leafCounts[id] = 0;\n      if (maxDepth < depth) maxDepth = depth;\n      const linkedNodeIds = this.findLinkedNodeIds(id, false);\n      for (const linkedNodeId of linkedNodeIds) {\n        if (marked[linkedNodeId]) continue;\n        leafCounts[id] += recursiveAnalyze(linkedNodeId, depth + 1);\n      }\n      if (leafCounts[id] === 0) leafCounts[id] = 1;\n      return leafCounts[id];\n    };\n    recursiveAnalyze(root, 0);\n\n    // Calculates node's x and y.\n    const hGap = rect.width / leafCounts[root];\n    const vGap = rect.height / maxDepth;\n    marked = {};\n    const recursivePosition = (node, h, v) => {\n      marked[node.id] = true;\n      node.x = rect.left + (h + leafCounts[node.id] / 2) * hGap;\n      node.y = rect.top + v * vGap;\n      const linkedNodes = this.findLinkedNodes(node.id, false);\n      if (sorted) linkedNodes.sort((a, b) => a.id - b.id);\n      for (const linkedNode of linkedNodes) {\n        if (marked[linkedNode.id]) continue;\n        recursivePosition(linkedNode, h, v + 1);\n        h += leafCounts[linkedNode.id];\n      }\n    };\n    const rootNode = this.findNode(root);\n    recursivePosition(rootNode, 0, 0);\n  }\n\n  layoutBST(root = 0, sorted = false) {\n    this.root = root;\n    this.callLayout = { method: this.layoutBST, args: arguments };\n    const rect = this.getRect();\n    // If there is a sole node, it centers it.\n    const middleX = (rect.left + rect.right) / 2;\n    const middleY = (rect.top + rect.bottom) / 2;\n    if (this.nodes.length === 1) {\n      const [node] = this.nodes;\n      node.x = middleX;\n      node.y = middleY;\n      return;\n    }\n\n    // Traversal of the entire tree, counting number of nodes.\n    let maxDepth = 0;\n    const nodeDepth = {};\n    let marked = {};\n    const recursiveAnalyze = (id, depth) => {\n      marked[id] = true;\n      nodeDepth[id] = depth;\n      if (maxDepth < depth) maxDepth = depth;\n      const linkedNodeIds = this.findLinkedNodeIds(id, false);\n      for (const linkedNodeId of linkedNodeIds) {\n        if (marked[linkedNodeId]) continue;\n        recursiveAnalyze(linkedNodeId, depth + 1);\n      }\n    };\n    recursiveAnalyze(root, 0);\n\n    // Calculates node's x and y.\n    // adjust hGap to some function of node number later//\n    const hGap = 80;\n    const vGap = rect.height / maxDepth;\n    marked = {};\n    const recursivePosition = (node, h, v) => {\n      marked[node.id] = true;\n      // 120 magic number to center root node//\n      node.x = rect.left + h * hGap + 120;\n      node.y = rect.top + v * vGap;\n      /* used to debug, delete in merge\n      console.log(node.x + \" \" +  node.y + \" \"  + node.id );\n      console.log(middle_x + \" \" + h + \" \" + hGap + \" \" +node.id);\n      console.log(middle_y + \" \" + v + \" \" + vGap + \" \" +node.id);\n      */\n      const linkedNodes = this.findLinkedNodes(node.id, false);\n      if (sorted) linkedNodes.sort((a, b) => a.id - b.id);\n      for (const linkedNode of linkedNodes) {\n        if (marked[linkedNode.id]) continue;\n        if (linkedNode.id > node.id) {\n          if (node.id > this.root) {\n            recursivePosition(linkedNode, h + 1 / (v * v + 1), v + 1);\n          } else {\n            recursivePosition(linkedNode, h + 1 / (v * v + 1), v + 1);\n          }\n        } else if (linkedNode.id < node.id) {\n          if (node.id < this.root) {\n            recursivePosition(linkedNode, h - 1 / (v * v + 1), v + 1);\n          } else {\n            recursivePosition(linkedNode, h - 1 / (2 * v + 1), v + 1);\n          }\n        }\n      }\n    };\n    const rootNode = this.findNode(root);\n    recursivePosition(rootNode, 0, 0);\n  }\n\n\n  layoutRandom() {\n    this.callLayout = { method: this.layoutRandom, args: arguments };\n    const rect = this.getRect();\n    const placedNodes = [];\n    for (const node of this.nodes) {\n      do {\n        node.x = rect.left + Math.random() * rect.width;\n        node.y = rect.top + Math.random() * rect.height;\n      } while (placedNodes.find(placedNode => distance(node, placedNode) < 48));\n      placedNodes.push(node);\n    }\n  }\n\n  visit(target, source, weight) {\n    this.visitOrLeave(true, target, source, weight);\n  }\n\n  leave(target, source, weight) {\n    this.visitOrLeave(false, target, source, weight);\n  }\n\n  visitOrLeave(visit, target, source = null, weight) {\n    const edge = this.findEdge(source, target);\n    if (edge) edge.visitedCount += visit ? 1 : -1;\n    const node = this.findNode(target);\n    if (weight !== undefined) node.weight = weight;\n    node.visitedCount += visit ? 1 : -1;\n    if (this.logTracer) {\n      this.logTracer.println(visit ? (source || '') + ' -> ' + target : (source || '') + ' <- ' + target);\n    }\n  }\n\n  select(target, source) {\n    this.selectOrDeselect(true, target, source);\n  }\n\n  deselect(target, source) {\n    this.selectOrDeselect(false, target, source);\n  }\n\n  resetSelect(target, source) {\n    const edge = this.findEdge(source, target);\n    if (edge) edge.selectedCount = 0;\n    const node = this.findNode(target);\n    node.selectedCount = 0;\n  }\n\n  selectOrDeselect(select, target, source = null) {\n    const edge = this.findEdge(source, target);\n    if (edge) edge.selectedCount += select ? 1 : -1;\n    const node = this.findNode(target);\n    node.selectedCount += select ? 1 : -1;\n    if (this.logTracer) {\n      this.logTracer.println(select ? (source || '') + ' => ' + target : (source || '') + ' <= ' + target);\n    }\n  }\n\n  log(key) {\n    this.logTracer = key ? this.getObject(key) : null;\n  }\n\n  setText(text) {\n    this.text = text;\n    this.text.push({text});\n  }\n}\n\nexport default GraphTracer;\n","/* eslint-disable no-shadow */\n/* eslint-disable camelcase */\n/* eslint-disable no-plusplus */\n\nimport { QSExp } from '../explanations';\nimport GraphTracerRect from '../../components/DataStructures/Graph/GraphTracerRect';\n\nexport default {\n  explanation: QSExp,\n\n  initVisualisers() {\n    return {\n      graph: {\n        instance: new GraphTracerRect('bst', null, 'Brute force string search'),\n        order: 0,\n      },\n    };\n  },\n\n  /**\n   *\n   * @param {object} chunker\n   * @param {array} nodes array of numbers needs to be sorted\n   */\n  // change from vis.graph to array equivalent\n  run(chunker, { nodes }) {\n    // initial state\n    const searchString = nodes[0];\n    const findString = nodes[1];\n    // searchString and findString are stored in the same array\n    // to get element in findString, add the length of searchString to the index\n    chunker.add('1', (vis, n) => {\n      vis.graph.addNode(0, searchString[0], 'box');\n      for (let i = 1; i < searchString.length; i++) {\n        vis.graph.addNode(i, searchString[i], 'box');\n        vis.graph.addEdge(i, i - 1);\n        vis.graph.addStringLen(searchString.length, i);\n        vis.graph.addPatternLen(findString.length, i);\n        vis.graph.addAlgorithm('bfsSearch', i);\n      }\n      vis.graph.addNode(searchString.length, findString[0]);\n      const j = searchString.length;\n      for (let i = 1; i < findString.length; i++) {\n        vis.graph.addNode(j + i, findString[i], 'box');\n        vis.graph.addEdge(j + i, j + i - 1);\n      }\n      vis.graph.shift(0, n);\n    }, [nodes]);\n\n    for (let shift_i = 0; shift_i < searchString.length - findString.length + 1; shift_i++) {\n      chunker.add('2', (vis, i, n) => {\n        vis.graph.shift(i, n);\n      }, [shift_i, nodes]);\n      for (let shift_j = 0; shift_j < findString.length; shift_j++) {\n        chunker.add('3', (vis, i, j, n) => {\n          vis.graph.addEdge(searchString.length + j, i + j);\n          // visit - character not match, coloured in blue\n          if (searchString[i + j] !== findString[j]) {\n            vis.graph.visit(searchString.length + j);\n            vis.graph.visit(i + j, null);\n          } else {\n            // select - character matches, coloured in red\n            vis.graph.select(searchString.length + j, i + j);\n            vis.graph.select(i + j, null);\n          }\n          vis.graph.shift(i, n);\n        }, [shift_i, shift_j, nodes]);\n        if (searchString[shift_i + shift_j] !== findString[shift_j]) {\n          chunker.add('3', (vis, i, shift_j, n) => {\n            for (let j = 0; j <= shift_j; j++) {\n              // the current active character is visit (blue)\n              if (j === shift_j) {\n                vis.graph.leave(searchString.length + j);\n                vis.graph.leave(i + j, null);\n              } else {\n                // all characters (if exist) before current active character are select (red)\n                vis.graph.deselect(searchString.length + j);\n                vis.graph.deselect(i + j, null);\n              }\n              vis.graph.removeEdge(searchString.length + j, i + j);\n            }\n            vis.graph.shift(i, n);\n          }, [shift_i, shift_j, nodes]);\n          break;\n        } else if (shift_j === findString.length - 1) {\n          // eslint-disable-next-line no-unused-vars\n          chunker.add('5', (vis, i, j, n) => {\n            const ResultStr = `Success: pattern found position ${i}`;\n            // method1\n            vis.graph.addResult(ResultStr, i);\n            // method 2\n            // vis.array.addResult(ResultStr,i);\n            // method 3\n            // eslint-disable-next-line max-len\n            // const array1 = [\"The pattern string(\"+findString+\") is placed at postion \"+ i +\" of Search String (\"+searchString+\")\"];\n            // vis.array.set2(array1);\n          }, [shift_i, shift_j, nodes]);\n          return;\n        } else {\n          // eslint-disable-next-line no-unused-vars\n          chunker.add('4', (vis, i, j, n) => {\n          }, [shift_i, shift_j, nodes]);\n        }\n      }\n    }\n    const i = findString.length;\n    chunker.add('6', (vis, i, n) => {\n      const ResultStr = 'Pattern not found';\n      vis.graph.addResult(ResultStr, i);\n    }, [i, nodes]);\n  },\n};\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-shadow */\n/* eslint-disable prefer-const */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable react/jsx-indent */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable import/no-cycle */\n/* eslint-disable no-multiple-empty-lines */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable arrow-parens */\n/* eslint-disable operator-linebreak */\n/* eslint-disable react/jsx-closing-bracket-location */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-one-expression-per-line */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/jsx-indent-props */\n/* eslint-disable react/jsx-first-prop-new-line */\n/* eslint-disable max-len */\n/* eslint-disable object-curly-newline */\n\nimport React from 'react';\n// import Array1DRenderer from '../Array1DRenderer/index';\nimport Renderer from '../../common/Renderer/index';\nimport styles from './TwoArray2DRenderer.module.scss';\nimport { classes } from '../../common/util';\nimport { mode } from '../../../top/Settings';\n\nlet modename;\nfunction switchmode(modetype = mode()) {\n  switch (modetype) {\n    case 1:\n      modename = styles.array_2d_green;\n      break;\n    case 2:\n      modename = styles.array_2d_blue;\n      break;\n    default:\n      modename = styles.array_2d;\n  }\n  return modename;\n}\n\n\nclass TwoArray2DRenderer extends Renderer {\n  constructor(props) {\n    super(props);\n\n    this.togglePan(true);\n    this.toggleZoom(true);\n  }\n\n  renderData() {\n    const { data, data1,algo } = this.props.data;\n\n    const isArray1D = true;\n    // const isArray1D = this instanceof Array1DRenderer;\n    let longestRow = data.reduce((longestRow, row) => longestRow.length < row.length ? row : longestRow, []);\n\n    return (\n      <table className={switchmode(mode())}\n             style={{ marginLeft: -this.centerX * 2, marginTop: -this.centerY * 2, transform: `scale(${this.zoom})` }}>\n        <tbody>\n        <tr className={styles.row}>\n          {\n            !isArray1D &&\n            <td className={classes(styles.col, styles.index)} />\n          }\n          {\n            longestRow.map((_, i) => {\n              // if the graph instance is heapsort, then the array index starts from 1\n              if (algo === 'horspools') {\n                i = '';\n              }\n              return (\n                <td className={classes(styles.col, styles.index)} key={i}>\n                  <span className={styles.value}>{i}</span>\n                </td>\n              );\n            })\n          }\n        </tr>\n        {\n          data.map((row, i) => (\n            <tr className={styles.row} key={i}>\n              {\n                !isArray1D &&\n                <td className={classes(styles.col, styles.index)}>\n                  <span className={styles.value}>{i}</span>\n                </td>\n              }\n              {\n                row.map((col, j) => (\n                  <td className={classes(styles.col, col.selected && styles.selected, col.patched && styles.patched, col.sorted && styles.sorted)}\n                      key={j}>\n                    <span className={styles.value}>{this.toString(col.value)}</span>\n                  </td>\n                ))\n              }\n            </tr>\n            )\n          )\n        }\n        <td style={{ paddingBottom: '15px' }} />\n        {\n          data1.map((row, i) => (\n            <tr className={styles.row} key={i}>\n              {\n                !isArray1D &&\n                <td className={classes(styles.col, styles.index)}>\n                  <span className={styles.value}>{i}</span>\n                </td>\n              }\n              {\n                row.map((col, j) => (\n                  <td className={classes(styles.col, col.selected && styles.selected, col.patched && styles.patched, col.sorted && styles.sorted)}\n                      key={j}>\n                    <span className={styles.value}>{this.toString(col.value)}</span>\n                  </td>\n                ))\n              }\n            </tr>\n          ))\n        }\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default TwoArray2DRenderer;\n\n","/* eslint-disable no-plusplus */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable max-classes-per-file */\n/* eslint-disable no-multiple-empty-lines */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable arrow-parens */\n/* eslint-disable operator-linebreak */\n/* eslint-disable react/jsx-closing-bracket-location */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-one-expression-per-line */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/jsx-indent-props */\n/* eslint-disable react/jsx-first-prop-new-line */\n/* eslint-disable max-len */\n/* eslint-disable object-curly-newline */\n/* eslint-disable import/no-unresolved */\n\nimport Tracer from '../common/Tracer';\nimport TwoArray2DRenderer from './TwoArray2DRenderer';\n\nclass Element {\n  constructor(value) {\n    this.value = value;\n    this.patched = false;\n    this.selected = false;\n    this.sorted = false;\n  }\n}\n\nclass TwoArray2DTracer extends Tracer {\n  /*\n  This class is for Horspool's shift table\n  Reading Array2DTracer is advised if you need to modify this class\n  */\n  getRendererClass() {\n    return TwoArray2DRenderer;\n  }\n\n  /**\n   * @param {array} array2d\n   * @param {string} algo used to mark if it is a specific algorithm\n   */\n  set(array2d = [],array2d1=[], algo) {\n    this.data = array2d.map(array1d => [...array1d].map(value => new Element(value)));\n    this.data1 = array2d1.map(array1d => [...array1d].map(value => new Element(value)));\n    this.algo = algo;\n    super.set();\n  }\n\n  getposition(x,y){\n    let longestRow = this.data.reduce((longestRow, row) => longestRow.length < row.length ? row : longestRow, []);\n    let len = longestRow.length;\n    var xx=x;\n    var pos=0;\n    if (x>=len){xx=x-len;pos=1;}\n    return [pos,xx,y];\n  }\n\n  patch(x, y, v = this.data[x][y].value) {\n    let rr=this.getposition(x,y);\n    var pos=rr[0];\n    var xx = rr[2];//x is actually the vertical one\n    var yy = rr[1];\n    if (pos===0)\n    {\n      if (!this.data[xx][yy]) {this.data[xx][yy] = new Element();}\n      this.data[xx][yy].value = v;\n      this.data[xx][yy].patched = true;\n    }\n    else\n    {\n      if (!this.data1[xx][yy]) {this.data1[xx][yy] = new Element();}\n      this.data1[xx][yy].value = v;\n      this.data1[xx][yy].patched = true;\n    }\n\n  }\n\n  depatch(x, y) {\n    let rr=this.getposition(x,y);\n    var pos=rr[0];\n    var xx = rr[2];//x is actually the vertical one\n    var yy = rr[1];\n    if (pos===0)\n    {\n      if (!this.data[xx][yy]) {this.data[xx][yy] = new Element();}\n\n      this.data[xx][yy].patched = false;\n    }\n    else\n    {\n      if (!this.data1[xx][yy]) {this.data1[xx][yy] = new Element();}\n\n      this.data1[xx][yy].patched = false;\n    }\n  }\n  select(x, y) {\n    let rr=this.getposition(x,y);\n    var pos=rr[0];\n    var xx = rr[2];//x is actually the vertical one\n    var yy = rr[1];\n    if (pos===0)\n    {\n      if (!this.data[xx][yy]) {this.data[xx][yy] = new Element();}\n      this.data[xx][yy].selected = true;\n    }\n    else\n    {\n      if (!this.data1[xx][yy]) {this.data1[xx][yy] = new Element();}\n      this.data1[xx][yy].selected = true;\n    }\n\n  }\n\n  deselect(x, y) {\n    let rr=this.getposition(x,y);\n    var pos=rr[0];\n    var xx = rr[2];//x is actually the vertical one\n    var yy = rr[1];\n    if (pos===0)\n    {\n      this.data[xx][yy].selected = false;\n    }\n    else\n    {\n      this.data1[xx][yy].selected = false;\n    }\n\n  }\n\n}\n\nexport default TwoArray2DTracer;\n","\nimport { HSSExp } from '../explanations';\nimport GraphTracerRect from '../../components/DataStructures/Graph/GraphTracerRect';\nimport TwoArray2DTracer from '../../components/DataStructures/Array/TwoArray2DTracer';\n\nexport default {\n  explanation: HSSExp,\n\n  initVisualisers() {\n    return {\n      array: {\n        instance: new TwoArray2DTracer('array', null, 'Shift Table'),\n        order: 0,\n      },\n      graph: {\n        instance: new GraphTracerRect('hsp', null, 'Horspool String Search'),\n        order: 1,\n      },\n\n    };\n  },\n\n  // change from vis.graph to array equivalent\n  run(chunker, { nodes }) {\n    // initial state\n    const searchString = nodes[0];\n    const findString = nodes[1];\n    const shiftTable = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'space'];\n    const shiftTableValue = new Array(shiftTable.length).fill(findString.length);\n    // searchString and findString are stored in the same array\n    // to get element in findString, add the length of searchString to the index\n    chunker.add('1', (vis, n) => {\n      vis.graph.addNode(0, searchString[0], 'box');\n\n      for (let i = 1; i < searchString.length; i++) {\n        vis.graph.addNode(i, searchString[i], 'box');\n        vis.graph.addEdge(i, i - 1);\n        vis.graph.addStringLen(searchString.length, i);\n        vis.graph.addPatternLen(findString.length, i);\n        vis.graph.addAlgorithm('horspools', i);\n      }\n      vis.graph.addNode(searchString.length, findString[0]);\n      const j = searchString.length;\n      for (let i = 1; i < findString.length; i++) {\n        vis.graph.addNode(j + i, findString[i], 'box');\n        vis.graph.addEdge(j + i, j + i - 1);\n      }\n      vis.graph.shift(0, n);\n    }, [nodes]);\n\n    chunker.add('2', (vis, n) => {\n      // initialize shift table\n      vis.array.set([shiftTable.slice(0, 13), new Array(13)],\n        [shiftTable.slice(13, 27), new Array(14)],\n        'horspools');\n    }, [nodes]);\n\n    // incrementally fill inital shifttable\n    for (let a = 0; a < shiftTable.length; a++) {\n      chunker.add('3', (vis, n) => {\n        vis.array.patch(shiftTable.indexOf(shiftTable[a]), 1, findString.length);\n      }, [nodes]);\n      chunker.add('2', (vis, n) => {\n        vis.array.depatch(shiftTable.indexOf(shiftTable[a]), 1, findString.length);\n      }, [nodes]);\n    }\n\n    // initial the shifttable with searchstring\n    for (let j = 0; j < findString.length - 1; j++) {\n      // assign value for shift table\n\n      // j pointer\n      // Pattern select\n      let c = findString[j].toLowerCase();\n      if (c === ' ') {\n        c = 'space';\n      }\n\n      shiftTableValue[shiftTable.indexOf(c)] = findString.length - (j + 1);\n\n      chunker.add('5', (vis, j) => {\n        vis.graph.select(searchString.length + j);\n        vis.array.patch(shiftTable.indexOf(c), 1, findString.length - (j + 1));\n      }, [j]);\n\n      chunker.add('4', (vis, j) => {\n        vis.graph.deselect(searchString.length + j);\n        vis.array.depatch(shiftTable.indexOf(c), 1);\n      }, [j]);\n    }\n    const m = findString.length;// m=3\n    const i = m;\n    chunker.add('6', (vis, n) => {\n    }, [nodes]);\n\n    // eslint-disable-next-line camelcase\n    let shift_distance = 0;\n    const shift_list = [];\n    const shift_ilist = [];\n    let shift_cur = 0;\n    let shift_pre = 0;\n\n\n    for (let shift_i = m; shift_i < searchString.length + 1; shift_i += shift_distance) {\n      let c = searchString[shift_i - 1].toLowerCase();\n      if (c === ' ') {\n        c = 'space';\n      }\n      shift_distance = shiftTableValue[shiftTable.indexOf(c)];\n      shift_list.push(shift_cur + shift_distance);\n      shift_ilist.push(shift_distance);\n      shift_cur += shift_distance;\n    }\n\n    // Start Searching\n    for (let shift_i = m; shift_i < searchString.length + 1; shift_i += shift_ilist.shift()) {\n      chunker.add('11', (vis, j) => {\n        if (j !== -1) {\n          let c = searchString[j];\n          if (c === ' ') {\n            c = 'space';\n          }\n          vis.array.deselect(shiftTable.indexOf(c), 1);\n          vis.graph.deselect(j, null);\n        }\n      }, [shift_pre - 1]);\n\n      chunker.add('13', (vis, n) => {\n      }, [nodes]);\n\n      for (let shift_j = 0; shift_j < findString.length; shift_j++) {\n        chunker.add('8', (vis, i, j, n) => {\n          // visit - character not match, coloured in blue\n          if (searchString[i - j - 1] !== findString[m - j - 1]) {\n            vis.graph.visit(searchString.length + m - j - 1);\n            vis.graph.visit(i - j - 1, null);\n          } else {\n            // select - character matches, coloured in red\n            vis.graph.select(searchString.length + m - j - 1, i - j - 1);\n            vis.graph.select(i - j - 1, null);\n          }\n        }, [shift_i, shift_j, nodes]);\n        if (searchString[shift_i - shift_j - 1] !== findString[m - shift_j - 1]) {\n          chunker.add('8', (vis, i, j, n) => {\n            for (let j = 0; j <= shift_j; j++) {\n              if (j === shift_j) {\n                vis.graph.leave(searchString.length + m - j - 1);\n                vis.graph.leave(i - j - 1, null);\n              } else {\n                // all characters (if exist) before current active character are select (red)\n                vis.graph.deselect(searchString.length + m - j - 1);\n                vis.graph.deselect(i - j - 1, null);\n              }\n              vis.graph.removeEdge(searchString.length + m - j - 1, i - j - 1);\n            }\n          }, [shift_i, shift_j, nodes]);\n          break;\n        } else if (shift_j === findString.length - 1) {\n          // select - character matches\n          chunker.add('10', (vis, i, j, n) => {\n            const ResultStr = `Success: pattern found position ${i - j}`;\n            vis.graph.addResult(ResultStr, i);\n          }, [shift_i, shift_j, nodes]);\n          return;\n        } else {\n          // eslint-disable-next-line no-unused-vars\n          chunker.add('9', (vis, i, j, n) => {\n          }, [shift_i, shift_j, nodes]);\n        }\n      }\n      chunker.add('14', (vis, n) => {\n      }, [nodes]);\n      chunker.add('15', (vis, n) => {\n      }, [nodes]);\n      const shift_move_i = shift_list.shift();\n      chunker.add('7', (vis, i, j, n) => {\n        let c = searchString[j];\n        if (c === ' ') {\n          c = 'space';\n        }\n        vis.array.select(shiftTable.indexOf(c), 1);\n        vis.graph.select(j, null);\n      }, [shift_move_i, shift_i - 1, nodes]);\n\n      chunker.add('7', (vis, i, j, n) => {\n        if (i + m <= searchString.length) {\n          vis.graph.shift(i, n);\n        }\n      }, [shift_move_i, shift_i - 1, nodes]);\n      shift_pre = shift_i;\n    }\n    chunker.add('12', (vis, j) => {\n      if (j !== -1) {\n        let c = searchString[j];\n        if (c === ' ') {\n          c = 'space';\n        }\n        vis.array.deselect(shiftTable.indexOf(c), 1);\n        vis.graph.deselect(j, null);\n      }\n      const ResultStr = 'Pattern not found';\n      vis.graph.addResult(ResultStr, i);\n    }, [shift_pre - 1]);\n  },\n};\n","/* eslint-disable no-multiple-empty-lines */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable arrow-parens */\n/* eslint-disable operator-linebreak */\n/* eslint-disable react/jsx-closing-bracket-location */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-one-expression-per-line */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/jsx-indent-props */\n/* eslint-disable react/jsx-first-prop-new-line */\n/* eslint-disable max-len */\n/* eslint-disable object-curly-newline */\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport Renderer from '../../common/Renderer/index';\nimport { classes, distance } from '../../common/util';\nimport styles from './NAryTreeRenderer.module.scss';\nimport { mode } from '../../../top/Settings';\nimport { calculateControlCord } from '../GraphRenderer/index.js';\n\n// cannot import since uses different styles\nlet modename;\nfunction switchmode(modetype = mode()) {\n    switch (modetype) {\n        case 1:\n            modename = styles.graphgreen;\n            break;\n        case 2:\n            modename = styles.graphblue;\n            break;\n        default:\n            modename = styles.graph;\n    }\n    return modename;\n}\n\nclass NAryTreeRenderer extends Renderer {\n    constructor(props) {\n        super(props);\n\n        this.elementRef = React.createRef();\n        this.selectedNode = null;\n\n        this.togglePan(true);\n        this.toggleZoom(true);\n    }\n\n    handleMouseDown(e) {\n        super.handleMouseDown(e);\n        const coords = this.computeCoords(e);\n        const { nodes, dimensions } = this.props.data;\n        const { nodeRadius } = dimensions;\n        this.selectedNode = nodes.find(\n            (node) => distance(coords, node) <= nodeRadius\n        );\n    }\n\n    handleMouseMove(e) {\n        if (this.selectedNode) {\n            const { x, y } = this.computeCoords(e);\n            const node = this.props.data.findNode(this.selectedNode.id);\n            node.x = x;\n            node.y = y;\n            this.refresh();\n        } else {\n            super.handleMouseMove(e);\n        }\n    }\n\n    computeCoords(e) {\n        const svg = this.elementRef.current;\n        const s = svg.createSVGPoint();\n        s.x = e.clientX;\n        s.y = e.clientY;\n        const { x, y } = s.matrixTransform(svg.getScreenCTM().inverse());\n        return { x, y };\n    }\n\n    renderData() {\n        const {\n            nodes,\n            edges,\n            isDirected,\n            showSelfLoop,\n            variableNodes,\n            isReversed,\n            dimensions,\n            text,\n            baseOffset,\n            functionName\n        } = this.props.data;\n        const {\n            baseWidth,\n            baseHeight,\n            nodeRadius,\n            arrowGap,\n        } = dimensions;\n        const viewBox = [\n            (this.centerX - baseWidth / 2) / this.zoom,\n            (this.centerY - baseHeight / 2) / this.zoom,\n            baseWidth / this.zoom,\n            baseHeight / this.zoom,\n        ];\n        const root = nodes[0];\n        let rootX = 0;\n        let rootY = 0;\n        if (root) {\n            rootX = root.x;\n            rootY = root.y;\n        }\n\n        // adjusting arrow size for when reversing and have multiple children pointing to one parent\n        const sizeAdjust = isReversed ? 0.5 : 1;\n\n        return (\n            <svg\n                className={switchmode(mode())}\n                viewBox={viewBox}\n                ref={this.elementRef}\n            >\n                <defs>\n                    <marker\n                        id=\"markerArrow\"\n                        markerWidth={`${6 * sizeAdjust}`}\n                        markerHeight={`${6 * sizeAdjust}`}\n                        refX={`${3 * sizeAdjust}`}\n                        refY={`${3 * sizeAdjust}`}\n                        orient=\"auto\"\n                    >\n                        <path\n                            d={`M0,0 L0,${6 * sizeAdjust} L${6 * sizeAdjust},${3 * sizeAdjust\n                                } L0,0`}\n                            className={styles.arrow}\n                        />\n                    </marker>\n                </defs>\n                {edges\n                    .map((edge) => {\n                        const {\n                            source,\n                            target,\n                        } = edge;\n\n                        let sourceNode, targetNode;\n                        if (variableNodes) {\n                            sourceNode = this.props.data.findVariableNode(source);\n                            targetNode = this.props.data.findVariableNode(target);\n                            if (sourceNode.id === 0) return undefined;\n                        } else {\n                            sourceNode = this.props.data.findNode(source);\n                            targetNode = this.props.data.findNode(target);\n                        }\n\n                        if (!sourceNode || !targetNode) return undefined;\n                        let pathSvg = null;\n\n                        // showing self loop\n                        if (sourceNode == targetNode && showSelfLoop) {\n                            const { x, y } = sourceNode;\n\n                            const loopRadiusX = 1.1 * nodeRadius;\n                            const loopRadiusY = 1.1 * nodeRadius;\n\n                            const arrowOffset = isDirected ? arrowGap : 0;\n\n                            // 10 o'clock start position\n                            const startAngle = 210 * (Math.PI / 180);\n                            const startPoint = `${x + nodeRadius * Math.cos(startAngle)},${y + nodeRadius * Math.sin(startAngle)\n                                }`;\n\n                            // 2 o'clock end position\n                            const endAngle = 330 * (Math.PI / 180);\n                            const endPoint = `${x + (nodeRadius + arrowOffset) * Math.cos(endAngle)\n                                },${y + (nodeRadius + arrowOffset) * Math.sin(endAngle)}`;\n\n                            pathSvg = `M${startPoint} A${loopRadiusX},${loopRadiusY} 0 1,1 ${endPoint}`;\n                        } else {\n                            let sx, sy, ex, ey;\n\n                            if (isReversed) {\n                                ({ x: sx, y: sy } = targetNode);\n                                ({ x: ex, y: ey } = sourceNode);\n                            } else {\n                                ({ x: sx, y: sy } = sourceNode);\n                                ({ x: ex, y: ey } = targetNode);\n                            }\n\n                            const dx = ex - sx;\n                            const dy = ey - sy;\n\n                            if (isDirected) {\n                                const length = Math.sqrt(dx * dx + dy * dy);\n                                if (length !== 0) {\n                                    ex =\n                                        sx +\n                                        (dx / length) *\n                                        (length - nodeRadius - arrowGap * 2 * sizeAdjust);\n                                    ey =\n                                        sy +\n                                        (dy / length) *\n                                        (length - nodeRadius - arrowGap * 2 * sizeAdjust);\n                                }\n                            }\n\n                            if (this.props.data.isInterConnected(source, target)) {\n                                const { cx, cy } = calculateControlCord(sx, sy, ex, ey);\n                                pathSvg = `M${sx},${sy} Q${cx},${cy},${ex},${ey}`;\n                            } else {\n                                pathSvg = `M${sx},${sy} L${ex},${ey}`;\n                            }\n                        }\n                        return (\n                            <g\n                                className={classes(\n                                    styles.edge)}\n                                key={`${source}-${target}`}\n                            >\n                                <path\n                                    d={pathSvg}\n                                    className={classes(\n                                        styles.line,\n                                        isDirected && styles.directed\n                                    )}\n                                />\n                            </g>\n                        );\n                    })}\n\n                {nodes.map((node) => {\n                    const {\n                        x,\n                        y,\n                        fill,\n                        value,\n                        shape,\n                        key\n                    } = node;\n                    const varGreen = fill === 1;\n                    const varOrange = fill === 2;\n                    const varRed = fill === 3;\n                    return (\n                        <motion.g\n                            animate={{ x, y }}\n                            initial={false}\n                            transition={{ duration: 1 }}\n                            className={classes(\n                                styles.node,\n                                varGreen && styles.variableGreen,\n                                varOrange && styles.variableOrange,\n                                varRed && styles.variableRed,\n                            )}\n                            key={key}\n                        >\n                            {shape === 'square' ? (\n                                <rect\n                                    className={styles.circle}\n                                    width={2 * nodeRadius}\n                                    height={2 * nodeRadius}\n                                    x={-nodeRadius}\n                                    y={-nodeRadius}\n                                />\n                            ) : (\n                                <circle\n                                    className={classes(styles.circle)}\n                                    r={nodeRadius}\n                                />\n                            )}\n                            <text className={classes(styles.id)}>\n                                {value}\n                            </text>\n                        </motion.g>\n                    );\n                })}\n                <text className={classes(styles.text)} x=\"0\" y={`${(dimensions.baseHeight / 2) - this.props.data.baseOffset}`}>\n                    <tspan className={styles.pseudocode_function}>{this.props.data.functionName}</tspan>\n                    {text}\n                </text>\n            </svg>\n        );\n    }\n}\n\nexport default NAryTreeRenderer;","/* eslint-disable no-prototype-builtins */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable object-curly-newline */\n/* eslint-disable operator-linebreak */\n/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-else-return */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable prefer-rest-params */\n/* eslint-disable arrow-parens */\n/* eslint-disable prefer-template */\n/* eslint-disable-next-line max-classes-per-file */\n\n\nclass TreeNode {\n  constructor(id) {\n    this.id = id;\n    this.parent = null;\n    this.children = [];\n    this.x = null;\n    this.y = null;\n    this.level = null;\n    this.prelimx = 0;\n    this.modifier = 0;\n    this.rank = 0;\n  }\n\n  /**\n   * Getting the ID of the node.\n   * @returns {number[]} the ID of the node in an array for compatibility.\n   */\n  getIDs() {\n    return [this.id];\n  }\n\n  /**\n   * Getting the node length.\n   * @returns {number} 1.\n   */\n  getNodeLength() {\n    return 1;\n  }\n\n  /**\n   * Adding the child node to the node.\n   * @param {*} childNode the child node to be added.\n   */\n  addChild(childNode) {\n    childNode.parent = this;\n    this.children.push(childNode);\n  }\n\n  /**\n   * Getting the parent node of the node.\n   * @returns {*} the parent node.\n   */\n  getParent() {\n    return this.parent;\n  }\n\n  // for use in node placement algorithm\n  getLeftSibling() {\n    if (this.getParent() == null) {\n      return null;\n    }\n    const myIndex = this.getParent().getChildIndex(this);\n    if (myIndex - 1 >= 0) {\n      return this.getParent().children[myIndex - 1];\n    }\n    return null;\n  }\n\n  /**\n   * Gets the index of the child node.\n   * @param {*} child the child node.\n   * @returns {number} the index of the child node.\n   */\n  getChildIndex(child) {\n    return this.children.findIndex((c) => c.id === child.id);\n  }\n\n  // for use in node placement algorithm\n  getRightSibling() {\n    if (this.getParent() == null) {\n      return null;\n    }\n    const myIndex = this.getParent().getChildIndex(this);\n    if (myIndex + 1 < this.getParent().children.length) {\n      return this.getParent().children[myIndex + 1];\n    }\n    return null;\n  }\n\n  // for use in node placement algorithm\n  getLeftNeighbour(hierarchy) {\n    const leftSibling = this.getLeftSibling();\n    if (leftSibling == null) {\n      const levelList = hierarchy[this.level];\n      const index = levelList.findIndex((n) => n.id === this.id);\n      if (index !== 0) {\n        return levelList[index - 1];\n      }\n      // if it is the first node on a level, will have no left neighbour\n      return null;\n    }\n    return leftSibling;\n  }\n\n}\nexport default TreeNode;\n","import TreeNode from './NAryTree';\n\n/**\n * The VariableTreeNode class is used to represent the variable node.\n * A variable node is a node that contains some number of rendered nodes.\n * Note that the variable node itself is not rendered - it is a purely logical \n * construct, similiar to 'realNodes', for use in the node placement algorithm.\n */\n\nclass VariableTreeNode extends TreeNode {\n  constructor(id) {\n    super(id);\n    this.relatedNodeIDs = [];\n  }\n\n  /**\n   * Getting the ID of the variable node.\n   * @returns {number} the ID of the variable node.\n   */\n  getNodeId() {\n    return this.id;\n  }\n\n  /**\n   * Getting the IDs of the rendered nodes within the variable node.\n   * @returns {number[]} the IDs of the rendered nodes.\n   */\n  getIDs() {\n    return this.relatedNodeIDs;\n  }\n\n  /**\n   * Adding the ID of the rendered node to the variable node.\n   * @param {number} nodeID the ID of the rendered node.\n   */\n  addRelatedNodeID(nodeID) {\n    if (this.relatedNodeIDs.includes(nodeID)) {\n      return;\n    }\n    this.relatedNodeIDs.push(nodeID);\n    this.relatedNodeIDs.sort((a, b) => a - b);\n  }\n\n  /**\n   * Removing the ID of the rendered node from the variable node.\n   * @param {number} nodeID the ID of the rendered node.\n   */\n  removeRelatedNodeID(nodeID) {\n    const index = this.relatedNodeIDs.indexOf(nodeID);\n    if (index !== -1) {\n      this.relatedNodeIDs.splice(index, 1);\n    }\n  }\n\n  /**\n   * Clearing the IDs of the rendered nodes from the variable node.\n   */\n  clearRelatedNodeIDs() {\n    this.relatedNodeIDs = [];\n  }\n\n  /**\n   * Getting the variable node length.\n   * @returns {number} the number of rendered nodes within the variable node.\n   */\n  getNodeLength() {\n    return this.relatedNodeIDs.length;\n  }\n\n  /**\n   * Checks whether the variable node contains some rendered node.\n   * @param {number} nodeID the ID of the rendered node.\n   * @returns {boolean} whether the variable node contains the rendered node.\n   */\n  hasRelatedNodeID(nodeID) {\n    return this.relatedNodeIDs.includes(nodeID);\n  }\n}\n\nexport default VariableTreeNode;\n","/* eslint-disable no-prototype-builtins */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable object-curly-newline */\n/* eslint-disable operator-linebreak */\n/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-else-return */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable prefer-rest-params */\n/* eslint-disable arrow-parens */\n/* eslint-disable prefer-template */\n/* eslint-disable-next-line max-classes-per-file */\nimport Tracer from '../../common/Tracer.jsx';\nimport NAryTreeRenderer from '../NAryTreeRenderer/index';\nimport TreeNode from './NAryTree.js';\nimport VariableTreeNode from './NAryTreeVariable.js';\n\nexport class Element {\n  constructor() {\n    this.variables = [];\n  }\n}\n\n/**\n * The NTreeTracer class is used to represent NAry trees.\n * Utilises John Q. Walker II's \"A node positioning algorithm for general trees\" (1989).\n * @class\n */\nclass NTreeTracer extends Tracer {\n  getRendererClass() {\n    return NAryTreeRenderer;\n  }\n\n  init() {\n    super.init();\n    this.dimensions = {\n      baseWidth: 1000,\n      baseHeight: 480,\n      padding: 32,\n      nodeRadius: 20,\n      arrowGap: 4,\n      nodeWeightGap: 4,\n      edgeWeightGap: 4,\n    };\n\n    this.isDirected = true; // whether to display arrows\n    this.showSelfLoop = true; // whether to display self-loop (see union-find)\n    this.callLayout = { method: this.layoutNTree, args: [] };\n    this.realEdges = []; // logical edges (for rendered edges, see edges)\n    this.realNodes = []; // logical nodes (for rendered nodes, see nodes)\n    this.variableNodes = false; // for logical variable size nodes (see 234 tree)\n    this.isReversed = false; // whether to reverse the arrows\n\n    // variables used in the tree placement algorithm\n    this.SiblingSeparation = 50;\n    this.xTopAdjustment = 0;\n    this.yTopAdjustment = 0;\n    this.maxDepth = 50000;\n    this.SubtreeSeparation = 50;\n    this.LevelSeparation = 100;\n    this.levels = null;\n\n    // initially say tree is empty to avoid confusion with\n    // blank screen\n    this.functionName = ''; // for fancy code style caption\n    this.text = null;\n    this.swap = false;\n\n    this.baseOffset = 20; // used to position text/caption above base of rect\n  }\n\n  /**\n   * This is the original function provided by Tracer.js,\n   * but we add a second argument which accepts nodes' values.\n   * @param {array} array2d 2D array of nodes.\n   */\n  set(array2d = [], values = []) {\n    this.nodes = [];\n    this.edges = [];\n    for (let i = 0; i < array2d.length; i++) {\n      this.addNode(i, values[i] ? values[i] : i);\n      for (let j = 0; j < array2d.length; j++) {\n        const value = array2d[i][j];\n        if (value) {\n          this.addEdge(i, j, null);\n        }\n      }\n    }\n\n    this.layout();\n\n    super.set();\n  }\n\n  /**\n   * Checks whether the tree is empty.\n   * @returns {boolean} whether the tree is empty or not.\n   */\n  isEmpty() {\n    return this.nodes.length === 0 && this.edges.length === 0;\n  }\n\n  /**\n   * Extracts a n-tree object from edges and nodes.\n   * @return {object} a tree object.\n   */\n  getNTree() {\n    // handle for the tree (and theoretical root node)\n    const nodeMap = {};\n    const rootNodes = new Set(this.realNodes.map((node) => node.id));\n    if (this.realNodes.length === 0) {\n      return null;\n    }\n    // create tree node instances and map them by their id\n    this.realNodes.forEach((node) => {\n      let treeNode;\n      if (this.variableNodes) {\n        treeNode = new VariableTreeNode(node.id);\n        node.nodeIDs.forEach((nodeID) => treeNode.addRelatedNodeID(nodeID));\n      } else {\n        treeNode = new TreeNode(node.id);\n      }\n      treeNode.x = 0; // node.x;\n      treeNode.y = 0; // node.y;\n      nodeMap[node.id] = treeNode;\n    });\n\n    // use edges to establish parent-child relationships\n    this.realEdges.forEach((edge) => {\n      const parent = nodeMap[edge.source];\n      const child = nodeMap[edge.target];\n\n      // ensuring this is a new child relationship\n      if (parent && child && !parent.children.includes(child)) {\n        parent.children.push(child);\n        child.parent = parent;\n\n        // no longer a root candidate as have found parent\n        rootNodes.delete(child.id);\n      }\n    });\n\n    // for the BFS\n    const queue = [];\n    const levels = [];\n\n    // assuming a single root for simplicity (but can adjust if multiple)\n    const root = nodeMap[Array.from(rootNodes)[0]];\n    root.level = 0;\n    queue.push(root);\n\n    while (queue.length) {\n      const current = queue.shift();\n\n      if (levels[current.level]) {\n        levels[current.level].push(current);\n      } else {\n        levels[current.level] = [current];\n      }\n\n      current.children.forEach((child) => {\n        child.level = current.level + 1;\n        queue.push(child);\n      });\n    }\n\n    return {\n      tree: root,\n      levels,\n    };\n  }\n\n  /**\n   * Extracts the root from edges and nodes.\n   * @return {*} the root.\n   */\n  getRoot() {\n    // in case there is only a single node in the graph\n    if (this.edges.length === 0 && this.realNodes.length === 1) {\n      return this.realNodes[0].id;\n    }\n    const sources = this.edges.map((obj) => obj.source);\n    const targets = this.edges.map((obj) => obj.target);\n    const nodes = [...new Set([...sources, ...targets])];\n    // the node that does not have a source is the root\n    return nodes.find((node) => !targets.includes(node));\n  }\n\n  /**\n   * Swaps two nodes given their IDs.\n   * @param {number} nodeId1 id of the first node to be swapped.\n   * @param {number} nodeId2 id of the second node to be swapped.\n   */\n  swapNodes(nodeId1, nodeId2) {\n    this.swap = true;\n    const node1 = this.findNode(nodeId1.toString());\n    const node2 = this.findNode(nodeId2.toString());\n\n    // swap them by changing the out-going edges and in-going edges\n\n    //  swap edges\n    for (const edge of this.realEdges) {\n      // swap sources\n      if (edge.source === node1.id) {\n        edge.source = node2.id;\n      } else if (edge.source === node2.id) {\n        edge.source = node1.id;\n      }\n\n      // swap targets\n      if (edge.target === node1.id) {\n        edge.target = node2.id;\n      } else if (edge.target === node2.id) {\n        edge.target = node1.id;\n      }\n    }\n\n    // repeating with the visible (i.e., rendered) edge list\n    for (const edge of this.edges) {\n      // swap sources\n      if (edge.source === node1.id) {\n        edge.source = node2.id;\n      } else if (edge.source === node2.id) {\n        edge.source = node1.id;\n      }\n\n      // swap targets\n      if (edge.target === node1.id) {\n        edge.target = node2.id;\n      } else if (edge.target === node2.id) {\n        edge.target = node1.id;\n      }\n    }\n  }\n\n  /**\n   * For NAry trees, used to decide whether the arrows are displayed.\n   * @param {boolean} isDirected whether arrows are shown or not.\n   */\n  directed(isDirected = true) {\n    this.isDirected = isDirected;\n  }\n\n  /**\n   * Checks whether the parent-child node relationship holds.\n   * @param {*} parent the parent node.\n   * @param {*} child the child node.\n   * @returns {boolean} whether the parent-child node relationship holds.\n   */\n  isParent(parent, child) {\n    for (const edge of this.realEdges) {\n      if (edge.source === parent && edge.target === child) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Adds a node to the tree.\n   * @param {number} id the id of the node to be added.\n   * @param {number} value the value of the node to be added.\n   * @param {string} shape the shape of the node to be added (circle or square).\n   * @param {number} fill the colour of the node to be added (default is white, but see fill).\n   * @param {number} x default is 0, will be updated during layout.\n   * @param {number} y default is 0, will be updated during layout.\n   */\n  addNode(\n    id,\n    value = undefined,\n    shape = 'circle',\n    fill = 0,\n    x = 0,\n    y = 0,\n  ) {\n    if (this.findNode(id)) return;\n    value = value === undefined ? id : value;\n    // eslint-disable-next-line max-len\n    if (!this.variableNodes) {\n      this.realNodes.push({ id, x, y });\n    }\n    const key = id;\n    if (id !== '0') { // hidden root node\n      this.nodes.push({\n        id,\n        value,\n        shape,\n        fill,\n        x,\n        y,\n        key\n      });\n    }\n  }\n\n  /**\n   * Adds a variable node to the tree.\n   * @param {number} varID the variable node id,\n   * @param {number} nodeID the node id to be added to the variable node.\n   */\n  addVariableNode(varID, nodeID) {\n    if (!this.variableNodes) return;\n    const index = this.realNodes.findIndex((node) => node.id === varID);\n\n    if (index === -1) {\n      // the variable node does not exist yet\n      this.realNodes.push({ id: varID, x: 0, y: 0, nodeIDs: [nodeID] });\n    } else {\n      // the variable node already exists\n      this.realNodes[index].nodeIDs.push(nodeID);\n      this.realNodes[index].nodeIDs.sort((a, b) => a - b);\n    }\n\n    this.addNode(nodeID, undefined, 'square');\n  }\n\n  /**\n   * Removes the whole variable node from the tree given its id.\n   * For removing a single (rendered) node, use removeNode.\n   * @param {number} id the id of the variable node to be removed.\n   */\n  removeFullNode(id) {\n    if (!this.variableNodes) return;\n\n    // remove edges that point to such a node or point out from it\n    this.realNodes = this.realNodes.filter(node => node.id !== id);\n    this.realEdges = this.realEdges.filter(edge => edge.source !== id && edge.target !== id);\n    this.edges = this.edges.filter(edge => edge.source !== id && edge.target !== id);\n  }\n\n  /**\n   * Remove a single (rendered) node given its id. \n   * @param {number} id the id of the node to be removed.\n   */\n  removeNode(id) {\n    if (this.variableNodes) {\n      for (const node of this.realNodes) {\n        if (node.nodeIDs.includes(id)) {\n          const index = node.nodeIDs.indexOf(id);\n          node.nodeIDs.splice(index, 1);\n        }\n      }\n    }\n\n    const node = this.findNode(id);\n    if (!node) return;\n    const index = this.nodes.indexOf(node);\n    this.nodes.splice(index, 1);\n    this.layout();\n  }\n\n  /**\n   * Adds an edge to the tree given the source and target nodes.\n   * @param {*} source the source node.\n   * @param {*} target the target node.\n   */\n  addEdge(source, target) {\n    if (this.findEdge(source, target)) return;\n\n    if (source !== '0') { // if the source is not the 'hidden' node\n      this.edges.push({\n        source,\n        target,\n      });\n    }\n\n    if (!(source === target)) { // else introduces infinite loop\n      this.realEdges.push({\n        source,\n        target,\n      });\n    }\n  }\n\n  /**\n   * Removes an edge from the tree given the source and target nodes.\n   * @param {*} source the source node.\n   * @param {*} target the target node.\n   */\n  removeEdge(source, target) {\n    const newEdges = this.edges.filter(\n      (edge) => !(edge.source === source && edge.target === target)\n    );\n\n    const newRealEdges = this.realEdges.filter(\n      (edge) => !(edge.source === source && edge.target === target)\n    );\n\n    this.edges = newEdges;\n    this.realEdges = newRealEdges;\n  }\n\n\n  /**\n   * Finds the value of the node given the node id.\n   * @param {number} id the node id.\n   * @returns {number} the value of the node.\n   */\n  findValue(id) {\n    return this.findNode(id).value;\n  }\n\n  /**\n   * Finds the node given the node id.\n   * @param {number} id the node id.\n   * @returns {*} the node.\n   */\n  findNode(id) {\n    return this.nodes.find((node) => node.id === id);\n  }\n\n  /**\n   * Finds the variable node given the node id.\n   * @param {number} varID the variable node id.\n   * @returns {*} the variable node.\n   */\n  findVariableNode(varID) {\n    if (!this.variableNodes) return;\n    return this.realNodes.find((node) => node.id === varID);\n  }\n\n  /**\n   * Finds the edge given the source and target nodes.\n   * @param {*} source the source node.\n   * @param {*} target the target node.\n   * @param {boolean} isDirected whether the graph is directed or not.\n   * @returns {*} the edge if found. \n   */\n  findEdge(source, target, isDirected = this.isDirected) {\n    if (isDirected) {\n      return this.edges.find(\n        (edge) => edge.source === source && edge.target === target\n      );\n    } else {\n      return this.edges.find(\n        (edge) =>\n          (edge.source === source && edge.target === target) ||\n          (edge.source === target && edge.target === source)\n      );\n    }\n  }\n\n  /**\n   * Gets the dimensions of the tree 'container'.\n   * @returns {number[]} the dimensions of the container.\n   */\n  getRect() {\n    const { baseWidth, baseHeight, padding } = this.dimensions;\n    const left = -baseWidth / 2 + padding;\n    const top = -baseHeight / 2 + padding;\n    const right = baseWidth / 2 - padding;\n    const bottom = baseHeight / 2 - padding;\n    const width = right - left;\n    const height = bottom - top;\n    return { left, top, right, bottom, width, height };\n  }\n\n  // intermediary function\n  layout() {\n    const { method, args } = this.callLayout;\n    method.apply(this, args);\n  }\n\n  /**\n   * This function returns the average size of two nodes.\n   * @param {*} leftNode the left node.\n   * @param {*} rightNode the right node.\n   * @returns {number} the average size of the two given nodes.\n   */\n  meanNodeSize(leftNode, rightNode) {\n    const leftNodeSize =\n      leftNode.getNodeLength() * (this.dimensions.nodeRadius * 2);\n    const rightNodeSize =\n      rightNode.getNodeLength() * (this.dimensions.nodeRadius * 2);\n\n    return (leftNodeSize + rightNodeSize) / 2;\n  }\n\n  /**\n   * This function returns the leftmost descendant of a node at the given depth.\n   * @param {*} node the node to find descendent of. \n   * @param {number} lvl the relative level below the node where the function was originally called on.\n   * @param {number} depth the absolute depth where the leftmost descendent is to be found.\n   * @returns {*} the descendent.\n   */\n  getLeftMost(node, lvl, depth) {\n    if (lvl >= depth) {\n      return node;\n    } else if (node.children.length === 0) {\n      return null;\n    } else {\n      let rightmost = node.children[0];\n      let leftmost = this.getLeftMost(rightmost, lvl + 1, depth);\n      // do postorder traversal of the subtree below the current node\n      while (!leftmost && rightmost.getRightSibling()) {\n        rightmost = rightmost.getRightSibling();\n        leftmost = this.getLeftMost(rightmost, lvl + 1, depth);\n      }\n\n      return leftmost;\n    }\n  }\n\n  /**\n   * Cleans up positioning of small subtrees that are siblings of each other.\n   * The purpose is to avoid the problem of small subtrees having a large gap between them and the larger subtrees\n   * surrounding them. To avoid this, this function moves the interior subtrees to the right.\n   * @param {*} node starting point of the subtree to be cleaned up.\n   * @param {number} lvl the level of the node.\n   * @returns modifies tree in-place.\n   */\n  apportion(node, lvl) {\n\n    let leftmost = node.children[0];\n    let neighbour = leftmost.getLeftNeighbour(this.levels);\n\n    let compareDepth = 1;\n    const depthToStop = this.maxDepth - lvl;\n\n    while (leftmost && neighbour && compareDepth <= depthToStop) {\n      // calculate where leftmost should be with respect to neighbour\n      let leftModsum = 0;\n      let rightModsum = 0;\n      let ancestorLeftmost = leftmost;\n      let ancestorNeighbour = neighbour;\n\n      for (let i = 0; i < compareDepth; i++) {\n        ancestorLeftmost = ancestorLeftmost.getParent();\n        ancestorNeighbour = ancestorNeighbour.getParent();\n\n        rightModsum += ancestorLeftmost.modifier;\n        leftModsum += ancestorNeighbour.modifier;\n      }\n      // calculate the movedistance and apply it to the node's subtrees\n      // making sure to add appropriate portions to smaller subtrees\n      let moveDistance =\n        neighbour.prelimx +\n        leftModsum +\n        this.SubtreeSeparation +\n        this.meanNodeSize(leftmost, neighbour) -\n        (leftmost.prelimx + rightModsum);\n\n      if (moveDistance > 0) {\n        let tempPtr = node;\n        let leftSiblings = 0;\n        // count interior sibling subtrees \n        while (tempPtr && tempPtr !== ancestorNeighbour) {\n          leftSiblings++;\n          tempPtr = tempPtr.getLeftSibling();\n        }\n\n        if (tempPtr) {\n          // apply portions to appropriate subtrees of the left sibling\n          const portion = moveDistance / leftSiblings;\n          tempPtr = node;\n\n          while (tempPtr !== ancestorNeighbour) {\n            tempPtr.prelimx += moveDistance;\n            tempPtr.modifier += moveDistance;\n            moveDistance -= portion;\n            tempPtr = tempPtr.getLeftSibling();\n          }\n        } else {\n          // don't need to move anything, as movement should be done by ancestor \n          // ancestor neighbour and ancestor leftmost aren't siblings\n\n          return;\n        }\n      }\n      // determine leftmost descendant of the current node at the level below, and compare \n      // the positioning of it against its neighbour\n      compareDepth++;\n      if (leftmost.children.length === 0) {\n        leftmost = this.getLeftMost(node, 0, compareDepth);\n      } else {\n        leftmost = leftmost.children[0];\n      }\n\n      if (leftmost) {\n        neighbour = leftmost.getLeftNeighbour(this.levels);\n      }\n    }\n  }\n\n  /** \n   * Walks through tree in a postorder fashion and assigns preliminary x coordinates to nodes, \n   * along with modifiers that are used to move children of the node to the right.\n   * @param {*} node the current node.\n   * @param {number} lvl the current level where the node is at.\n  */\n  firstWalk(node, lvl) {\n\n    // check if the node is a leaf node\n    if (node.children.length === 0) {\n\n      const leftSibling = node.getLeftSibling();\n      if (leftSibling !== null) {\n        // calculate preliminary x coordinate based on preliminary x coord of left sibling, sibling separation length\n        // and the the mean size of the left sibling and the current node\n\n        node.prelimx =\n          leftSibling.prelimx +\n          this.SiblingSeparation +\n          this.meanNodeSize(leftSibling, node);\n      } else {\n        // there is no sibling on the left of the node to worry about, so don't need to change anything \n        node.prelimx = 0;\n      }\n    } else {\n      // since this node is not a leaf node, call the function recursively on the children \n      // and perform calculations for the preliminary x values\n      node.children.forEach((child) => this.firstWalk(child, lvl + 1));\n      // find midpoint value of the children once you've assigned preliminary x coords\n      const midpoint =\n        (node.children[0].prelimx +\n          node.children[node.children.length - 1].prelimx) /\n        2;\n\n      if (node.getLeftSibling() !== null) {\n        // node has a left sibling, so calculate preliminary x coordinate based on left sibling, sibling separation\n        // and mean node size of left sibling and node, then subtract the midpoint to ensure the node\n        // is placed in the middle of it's children\n        node.prelimx =\n          node.getLeftSibling().prelimx +\n          this.SiblingSeparation +\n          this.meanNodeSize(node.getLeftSibling(), node);\n        node.modifier = node.prelimx - midpoint;\n        this.apportion(node, lvl);\n      } else {\n        // otherwise, if it has no left sibling we simply place it in the middle of its children as normal\n        node.prelimx = midpoint;\n      }\n    }\n  }\n\n  /** \n   * Walks through tree in preorder fashion, assigning a final x coordinate to each node based on adding\n   * it's preliminary coordinate and the modifier values of all its ancestors.\n   * @param {*} node the current node.\n   * @param {number} lvl current level.\n   * @param {number} modsum the current sum of all the modifier values of the ancestors of this node.\n   * @returns {boolean} true if no errors, false otherwise.\n  */\n  secondWalk(node, lvl, modsum) {\n    let result = true;\n    if (lvl <= this.maxDepth) {\n      const xTemp = this.xTopAdjustment + node.prelimx + modsum;\n      const yTemp = this.yTopAdjustment + lvl * this.LevelSeparation;\n\n      node.x = xTemp;\n      node.y = yTemp;\n\n      if (node.children.length !== 0) {\n        result = this.secondWalk(\n          node.children[0],\n          lvl + 1,\n          modsum + node.modifier\n        );\n      }\n      if (result && node.getRightSibling() !== null) {\n        result = this.secondWalk(node.getRightSibling(), lvl, modsum);\n      }\n\n    }\n    return result;\n  }\n\n  /**\n   * Returns the variable node given the node id.\n   * @param {number} varID the variable node id.\n   * @returns {*} the variable node.\n   */\n  getVariableNode(varID) {\n    if (!this.variableNodes) return;\n    return this.realNodes.find((node) => node.varID === varID);\n  }\n\n  /**\n   * This function converts the internal node representation which is covered by the NAryTree class,\n   * and converts it into a set of nodes that can be rendered, adjusting the coordinates if the current tree\n   * is a 2-3-4 tree, including accounting for the tree rising in size rather than falling.\n   */\n  translateCoords() {\n    const flattenedLevels = [].concat(...this.levels);\n    let offset = 308 - (this.levels.length - 2) * 100; // for 2-3-4 trees/variable nodes to grow upwards (as top-down implementation)\n\n    flattenedLevels.forEach((levelNode) => {\n      // might want to implement treeBaseY for caption for regular nodes\n      if (!this.variableNodes) {\n        const nodeToUpdate = this.nodes.find(\n          (node) => node.id === levelNode.id\n        );\n\n        if (nodeToUpdate) {\n          nodeToUpdate.x = levelNode.x;\n          nodeToUpdate.y = levelNode.y;\n        }\n      } else {\n        // getting coordinates for variable node\n        const updateXandY = this.findVariableNode(levelNode.id);\n        updateXandY.x = levelNode.x;\n        updateXandY.y = levelNode.y + (offset) - (this.baseOffset * 1.5);\n\n        let nodeLength = levelNode.getNodeLength();\n\n        const nodesToUpdate = this.nodes.filter(node => levelNode.getIDs().includes(node.id));\n\n        // sort to account for later insertions\n        nodesToUpdate.sort((a, b) => a.id - b.id);\n\n        if (nodesToUpdate) {\n          const nodeRadius = this.dimensions.nodeRadius;\n          const halfWidth = nodeRadius * nodeLength;\n\n          // determines the coordinates of the variable node given its size\n          nodesToUpdate.forEach((nodeToUpdate, i) => {\n            let valueX;\n\n            if (nodeLength === 1) {\n              valueX = levelNode.x;\n            }\n            if (nodeLength === 2) {\n              valueX = levelNode.x + (i * nodeRadius * 2) - nodeRadius;\n            } else if (nodeLength === 3) {\n              valueX = levelNode.x + ((i - 1) * nodeRadius * 2);\n            } else {\n              valueX = levelNode.x - halfWidth + (i * nodeRadius * 2) + nodeRadius;\n            }\n            nodeToUpdate.x = valueX;\n            // would need to adjust 'offset' if don't want variable node tree growing from base\n            // baseoffset used to account for the caption\n            nodeToUpdate.y = levelNode.y + (offset) - (this.baseOffset * 1.5);\n\n          });\n        }\n      }\n    });\n  }\n\n\n  /**\n   * Determines coordinates of every node so that the tree can be rendered \n   * in an aesthetic fashion, with even gaps between nodes and levels.\n   */\n  layoutNTree() {\n    this.callLayout = { method: this.layoutNTree, args: arguments };\n    const rect = this.getRect();\n\n    // no tree to layout\n    if (this.realNodes.length === 0) return;\n\n    // if there is only one node, place it in the middle\n    if (this.realNodes.length === 1 && !this.variableNodes) {\n      const [node] = this.realNodes;\n      node.x = (rect.left + rect.right) / 2;\n      node.y = (rect.top + rect.bottom) / 2;\n      return;\n    }\n\n    // getting the tree\n    const { tree, levels } = this.getNTree();\n    this.levels = levels;\n    tree.x = (rect.left + rect.right) / 2;\n    tree.y = rect.top\n\n    // adjusting node positions \n    if (tree !== null) {\n      this.firstWalk(tree, 0);\n\n      this.xTopAdjustment = tree.x - tree.prelimx;\n      this.yTopAdjustment = tree.y;\n\n      this.secondWalk(tree, 0, 0);\n\n      // move the node coordinates over\n      this.translateCoords();\n    }\n\n  }\n\n  /**\n   * Add a self loop to a node (i.e., arrow pointing to self).\n   * @param {number} nodeId the node to be self-looped.\n   */\n  addSelfLoop(nodeId) {\n    if (!this.findNode(nodeId)) {\n      return;\n    }\n    // adding solely to rendered edges\n    // adding to logical would introduce infinite loop\n    this.addEdge(\n      nodeId,\n      nodeId,\n    );\n  }\n\n  /**\n   * A simple node fill to work with the AiA themes.\n   * Mapping 1=green, 2=yellow and 3=red under the default theme.\n   * @param {*} target the node to be coloured.\n   * @param {number} colourIndex the colour code.\n   */\n  fill(target, colourIndex = 0) {\n    const node = this.findNode(target);\n    if (!node) return;\n    node.fill =\n      (colourIndex === 1 || // green\n        colourIndex === 2 || // orange/yellow\n        colourIndex === 3) ? // red\n        colourIndex : 0; // no colour\n  }\n\n  /**\n   * A simple node unfill.\n   * @param {*} target node to be uncoloured.\n   */\n  unfill(target) {\n    const node = this.findNode(target);\n    if (!node) return;\n    node.fill = 0;\n  }\n\n  /**\n   * Checks whether two nodes are connected.\n   * @param {*} source the source node.\n   * @param {*} target the target node.\n   * @returns whether the two nodes are connected.\n   */\n  isInterConnected(source, target) {\n    return (\n      this.edges.find(\n        (edge) => edge.source === source && edge.target === target\n      ) &&\n      this.edges.find(\n        (edge) => edge.source === target && edge.target === source\n      )\n    );\n  }\n\n  /**\n   * To use with setNTree. Extracts edges and nodes (i.e., the tree).\n   * @returns the extracted tree object.\n   */\n  extractNTree() {\n    this.unfillAll();\n    return {\n      'realNodes': this.realNodes,\n      'realEdges': this.realEdges,\n      'nodes': this.nodes,\n      'edges': this.edges,\n    };\n  }\n\n  /**\n   * To use with extractNTree. Sets edges and nodes (i.e., the tree).\n   * @param {*} realNodes the logical nodes of the tree.\n   * @param {*} realEdges the logical edges of the tree.\n   * @param {*} nodes the rendered nodes of the tree.\n   * @param {*} edges the rendered edges of the tree.\n   */\n  setNTree(realNodes, realEdges, nodes, edges) {\n    this.realNodes = realNodes;\n    this.realEdges = realEdges;\n    this.nodes = nodes;\n    this.edges = edges;\n  }\n\n  /**\n   * Unfill all nodes of the tree.\n   */\n  unfillAll() {\n    this.text = null;\n    this.nodes.forEach((node) => {\n      node.fill = 0;\n    });\n  }\n\n  /**\n   * Sets the tree 'caption'.\n   * @param {string} text the text to be displayed.\n   */\n  setText(text) {\n    this.text = text;\n  }\n\n  /**\n   * Sets the function name to be displayed in a code style.\n   * See example at T234_Insert.\n   * @param {string} name the function name.\n   */\n  setFunctionName(name) {\n    this.functionName = name;\n  }\n\n}\n\nexport default NTreeTracer;\n","import {\n  N_ARRAY,\n  COLOUR_CODES,\n  N_IDX,\n  PARENT_IDX,\n  default as unionFind,\n} from './unionFindUnion.js';\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\nimport NTreeTracer from '../../components/DataStructures/Graph/NAryTreeTracer/NTreeTracer';\n\nexport default {\n  initVisualisers({ visualiser }) {\n    // needed for going to prev line since we redo from chunk 0\n    visualiser.tree.instance.unfillAll();\n    return {\n      array: {\n        instance: new Array2DTracer('array', null, 'Array View'),\n        order: 0,\n      },\n      tree: {\n        instance: new NTreeTracer('n-tree', null, 'Tree View'),\n        order: 1,\n      },\n    };\n  },\n\n  run(chunker, { visualiser, target, mode }) {\n    // extracting array data from visualiser\n    const value = target.arg1;\n    const pathCompression = target.arg2;\n\n    // extracting parent array from visualiser\n    let parentArray = this.extractParentArray(visualiser);\n\n    // extracting tree data from visualiser\n    let { 'realNodes': realNodes, 'realEdges': realEdges, 'nodes': nodes, 'edges': edges } = visualiser.tree.instance.extractNTree();\n\n    // restoring the visualisers\n    chunker.add(\n      `while n != parent[n]`,\n      (vis, parentArray) => {\n        vis.array.set([N_ARRAY, parentArray], 'unionFind');\n        vis.tree.setNTree(realNodes, realEdges, nodes, edges);\n        vis.tree.isReversed = true;\n        vis.tree.layout(); // needed for going to prev line since we redo from chunk 0\n      }, [parentArray]); // passing nodes etc introduces highlighting\n\n    this.find(chunker, parentArray, value, 'n', null, pathCompression, mode);\n\n  },\n\n  // getting the parent array from the visualiser\n  extractParentArray(visualiser) {\n    let parentElems = visualiser.array.instance.data[1];\n    let parentArray = parentElems.map((element) => parseInt(element.value, 10));\n    parentArray[0] = 'Parent[i]';\n\n    return parentArray;\n  },\n\n  /**\n   * Simply checks if the current node is at the root.\n   * @param {Array} parentArr The parent array.\n   * @param n The element to check.\n   * @returns {boolean} True if not at root, false otherwise.\n   */\n  notAtRoot(chunker, parentArr, n) {\n    // highlighting parent[n] for 'transition' state\n    chunker.add(\n      `while n != parent[n]`,\n      (vis, n) => {\n        unionFind.unhighlight(vis.array, PARENT_IDX, n, true);\n        unionFind.highlight(\n          vis.array,\n          PARENT_IDX,\n          n,\n          COLOUR_CODES.ORANGE\n        );\n      },\n      [n]\n    );\n    return parentArr[n] != n;\n  },\n\n  /**\n   * Finds the root of the current node.\n   * @param {Array} parentArr The parent array.\n   * @param n The element to find.\n   * @param {string} name The name of the element to find.\n   * @param {boolean} pathCompression Whether to use path compression.\n   * @returns {number} The root of the current node.\n   */\n  find(chunker, parentArr, n, name, m, pathCompression, mode) {\n\n    // highlighting the current n to find in tree and array\n    chunker.add(\n      `while n != parent[n]`,\n      (vis, n) => {\n        vis.array.setMotion(true); // turning on smooth transition\n        unionFind.highlight(vis.array, N_IDX, n, COLOUR_CODES.ORANGE);\n        unionFind.highlight(vis.tree, n, n, COLOUR_CODES.ORANGE);\n      },\n      [n]\n    );\n\n    while (this.notAtRoot(chunker, parentArr, n)) {\n      // highlighting for 'fail state'\n      chunker.add(\n        `while n != parent[n]`,\n        (vis, n) => {\n          unionFind.highlight(vis.array, N_IDX, n, COLOUR_CODES.RED);\n          unionFind.highlight(vis.array, PARENT_IDX, n, COLOUR_CODES.RED);\n          unionFind.highlight(vis.tree, n, n, COLOUR_CODES.RED);\n        },\n        [n]\n      );\n\n      if (pathCompression) {\n        this.shortenPath(chunker, parentArr, n);\n      }\n\n      // updating the value of n\n      let nTempPrev = n;\n      n = parentArr[n];\n\n      chunker.add(\n        `n <- parent[n]`,\n        (vis, n, m, nPrev) => {\n          vis.array.assignVariable(`${name}`, N_IDX, n); // update 'n'\n          if (n !== m && m !== null)\n            unionFind.highlight(vis.array, N_IDX, m, COLOUR_CODES.GREEN);\n          unionFind.highlight(vis.array, N_IDX, n, COLOUR_CODES.ORANGE);\n          unionFind.highlight(\n            vis.array,\n            PARENT_IDX,\n            nPrev,\n            COLOUR_CODES.ORANGE\n          );\n          unionFind.highlight(vis.tree, n, n, COLOUR_CODES.ORANGE);\n          unionFind.unhighlight(vis.tree, nPrev, nPrev);\n        },\n        [n, m, nTempPrev]\n      );\n    }\n\n    // highlighting for 'success state'\n    chunker.add(\n      `while n != parent[n]`,\n      (vis, n) => {\n        unionFind.highlight(vis.array, N_IDX, n, COLOUR_CODES.GREEN);\n        unionFind.highlight(vis.array, PARENT_IDX, n, COLOUR_CODES.GREEN);\n        unionFind.highlight(vis.tree, n, n, COLOUR_CODES.GREEN);\n      },\n      [n]\n    );\n\n    // returning found 'n'\n    chunker.add(\n      mode === 'find' ? 'return n' : `${name} <- Find(${name})`,\n      (vis, n) => {\n        unionFind.unhighlight(vis.array, PARENT_IDX, n);\n      },\n      [n]\n    );\n\n    return n;\n  },\n\n  /**\n   * Shortens the path from the current node to the root.\n   * @param {Array} parentArr The parent array.\n   * @param n The element to shorten the path for.\n   */\n  shortenPath(chunker, parentArr, n) {\n    chunker.add(\n      `parent[n] <- parent[parent[n]]`,\n      (vis, n, parent, grandparent) => {\n        unionFind.unhighlight(vis.array, N_IDX, n);\n        unionFind.unhighlight(vis.tree, n, n);\n        unionFind.highlight(\n          vis.array,\n          PARENT_IDX,\n          n,\n          COLOUR_CODES.ORANGE\n        );\n        unionFind.highlight(\n          vis.array,\n          N_IDX,\n          parent,\n          COLOUR_CODES.ORANGE\n        );\n        unionFind.highlight(vis.tree, n, n, COLOUR_CODES.ORANGE);\n        unionFind.highlight(vis.tree, parent, parent, COLOUR_CODES.ORANGE);\n      },\n      [n, parentArr[n], parentArr[parentArr[n]]]\n    );\n\n    chunker.add(\n      `parent[n] <- parent[parent[n]]`,\n      (vis, n, parent, grandparent) => {\n        unionFind.unhighlight(vis.array, N_IDX, parent);\n        unionFind.unhighlight(vis.tree, parent, parent);\n        unionFind.highlight(\n          vis.array,\n          PARENT_IDX,\n          parent,\n          COLOUR_CODES.ORANGE\n        );\n        unionFind.highlight(\n          vis.tree,\n          grandparent,\n          grandparent,\n          COLOUR_CODES.ORANGE\n        );\n        vis.tree.layout(); // needed for going to prev line since we redo from chunk 0\n      },\n      [n, parentArr[n], parentArr[parentArr[n]]]\n    );\n\n    // if grandparent is not the parent\n    if (parentArr[n] !== n && parentArr[parentArr[n]] !== parentArr[n]) {\n      let formerParent = parentArr[n];\n      parentArr[n] = parentArr[parentArr[n]];\n\n      chunker.add(\n        `parent[n] <- parent[parent[n]]`,\n        (vis, n, grandparent) => {\n          vis.array.updateValueAt(PARENT_IDX, n, grandparent);\n\n          vis.tree.removeEdge(formerParent, n);\n          vis.tree.addEdge(grandparent, n);\n          vis.tree.layout();\n        },\n        [n, parentArr[parentArr[n]]]\n      );\n\n      chunker.add(\n        `parent[n] <- parent[parent[n]]`,\n        (vis, n, formerParent, newParent) => {\n          unionFind.unhighlight(vis.array, PARENT_IDX, formerParent);\n          unionFind.unhighlight(vis.tree, newParent, newParent);\n\n          unionFind.highlight(vis.array, N_IDX, n, COLOUR_CODES.RED);\n          unionFind.highlight(vis.array, PARENT_IDX, n, COLOUR_CODES.RED);\n          unionFind.highlight(vis.tree, n, n, COLOUR_CODES.RED);\n        },\n        [n, formerParent, parentArr[n]]\n      );\n    }\n    return parentArr[n];\n  },\n};\n","/* eslint-disable eqeqeq */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-param-reassign */\nimport { UFExp } from '../explanations';\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\nimport NTreeTracer from '../../components/DataStructures/Graph/NAryTreeTracer/NTreeTracer';\nimport unionFindFind from './unionFindFind';\n\nexport const COLOUR_CODES = {\n  RED: 3,\n  ORANGE: 2,\n  GREEN: 1,\n};\n\nexport const N_IDX = 0;\nexport const PARENT_IDX = 1;\nexport const RANK_IDX = 2;\n\nexport const N_ARRAY = ['i', 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nexport const N_GRAPH = ['0', 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n\nlet isRankVisible = false;\n\n/**\n * Updates the rank array visibility when user expands code panel.\n * @param {*} algorithm the state of the algorithm.\n */\nexport function unionFindToggleRank(algorithm) {\n  if (!algorithm || algorithm.id.name != 'unionFind') return;\n  let vis = algorithm.chunker.visualisers;\n  let isVisible =\n    algorithm.collapse.unionFind.union.Maybe_swap ||\n    algorithm.collapse.unionFind.union.Adjust_rank; // determines whether rank shown in code panel\n  vis.array.instance.hideArrayAtIndex(isVisible ? null : RANK_IDX); // hiding the rank array\n  isRankVisible = isVisible;\n}\n\nexport default {\n  explanation: UFExp,\n  initVisualisers() {\n    return {\n      array: {\n        instance: new Array2DTracer('array', null, 'Array View'),\n        order: 0,\n      },\n      tree: {\n        instance: new NTreeTracer('n-tree', null, 'Tree View'),\n        order: 1,\n      },\n    };\n  },\n\n  run(chunker, params) {\n    const { arg1: unionOperations, arg2: pathCompression } = params.target;\n\n    // setting up the arrays\n    let parentArr = ['Parent[i]', ...N_ARRAY.slice(1)];\n    let rankArr = ['Rank[i]', ...Array(10).fill(0)];\n\n    // initialising the visualisers\n    chunker.add(\n      'Union(n, m)',\n      (vis, array) => {\n        // setting up array\n        vis.array.set(array, 'unionFind', '');\n        vis.array.hideArrayAtIndex(isRankVisible ? null : RANK_IDX);\n\n        // adding nodes to tree\n        vis.tree.addNode(N_GRAPH[0], undefined, 'circle');\n        for (const node of N_GRAPH.slice(1)) {\n          vis.tree.addNode(node, undefined, 'circle');\n          // setting up connections to invisible root node\n          vis.tree.addEdge(N_GRAPH[0], node);\n        }\n\n        vis.tree.isReversed = true;\n        vis.tree.layout();\n\n        // adding self-loop.\n        for (const node of N_GRAPH.slice(1)) {\n          vis.tree.addSelfLoop(node);\n        }\n      },\n      [[N_ARRAY, parentArr, rankArr]]\n    );\n\n    // applying union operations\n    for (let i = 0; i < unionOperations.length; i++) {\n      this.union(\n        chunker,\n        parentArr,\n        rankArr,\n        unionOperations[i][0],\n        unionOperations[i][1],\n        pathCompression\n      );\n    }\n    return parentArr.slice(1);\n  },\n\n  /**\n   * Highlights the object given colour.\n   * @param {*} visObj the visualiser object (e.g., vis.array).\n   * @param {*} index1 either the index row of the array or the node of the tree.\n   * @param {*} index2 the index column if an array.\n   * @param {*} colour the colour to highlight.\n   */\n  highlight(visObj, index1, index2, colour) {\n    if (visObj.key === 'array') {\n      visObj.unfill(index1, index2);\n      visObj.fill(index1, index2, undefined, undefined, colour);\n    }\n    if (visObj.key === 'n-tree') {\n      this.unhighlight(visObj, index1, index2);\n      visObj.fill(index1, colour);\n    }\n  },\n\n  /**\n   * Unhighlights the given object.\n   * @param {*} visObj the visualiser object.\n   * @param {*} index1 either the index row of the array or the node of the tree.\n   * @param {*} index2 the index column if an array.\n   * @param {*} deselectForRow if array, whether to deselect the entire row.\n   */\n  unhighlight(visObj, index1, index2, deselectForRow = false) {\n    if (visObj.key === 'array') {\n      if (deselectForRow === true) {\n        visObj.unfill(index1, 0, undefined, N_ARRAY.length - 1);\n        return;\n      }\n      visObj.unfill(index1, index2);\n      return;\n    }\n    if (visObj.key === 'n-tree') {\n      visObj.unfill(index1);\n    }\n  },\n\n  /**\n   * Union two nodes together.\n   * @param {Chunker} chunker\n   * @param {Array} parentArr the parent array.\n   * @param {Array} rankArr the rank array.\n   * @param {Number} n the first node to union.\n   * @param {Number} m the second node to union.\n   * @param {Boolean} pathCompression whether to use path compression.\n   */\n  union(chunker, parentArr, rankArr, n, m, pathCompression) {\n    // initialising current union operation\n    chunker.add(\n      'Union(n, m)',\n      (vis, n, m) => {\n        vis.array.setMotion(false);\n        vis.array.assignVariable('n', N_IDX, n);\n        vis.array.assignVariable('m', N_IDX, m);\n        vis.array.showKth(`${n}, ${m}`);\n      },\n      [n, m]\n    );\n\n    // finding representative of first node\n    let root1 = unionFindFind.find(\n      chunker,\n      parentArr,\n      n,\n      'n',\n      null,\n      pathCompression\n    );\n\n    // finding representative of second node\n    let root2 = unionFindFind.find(\n      chunker,\n      parentArr,\n      m,\n      'm',\n      root1,\n      pathCompression\n    );\n\n    chunker.add(\n      'if n == m',\n      (vis, n, m, root1, root2) => {\n        vis.array.showKth(`${n}, ${m}`);\n\n        this.highlight(vis.array, N_IDX, root1, COLOUR_CODES.ORANGE);\n        this.highlight(vis.array, N_IDX, root2, COLOUR_CODES.ORANGE);\n        this.highlight(vis.tree, root1, root1, COLOUR_CODES.ORANGE);\n        this.highlight(vis.tree, root2, root2, COLOUR_CODES.ORANGE);\n      },\n      [n, m, root1, root2]\n    );\n\n    // if in same set, return\n    if (root1 === root2) {\n      chunker.add(\n        'return',\n        (vis, root1) => {\n          this.highlight(vis.array, N_IDX, root1, COLOUR_CODES.GREEN);\n          this.highlight(vis.tree, root1, root1, COLOUR_CODES.GREEN);\n        },\n        [root1]\n      );\n      return;\n    }\n\n    chunker.add(\n      'if rank[n] > rank[m]',\n      (vis, root1, root2) => {\n        this.unhighlight(vis.array, N_IDX, root1);\n        this.unhighlight(vis.array, N_IDX, root2);\n        this.highlight(vis.array, RANK_IDX, root1, COLOUR_CODES.ORANGE);\n        this.highlight(vis.array, RANK_IDX, root2, COLOUR_CODES.ORANGE);\n      },\n      [root1, root2]\n    );\n\n    if (rankArr[root1] > rankArr[root2]) {\n      // swap n and m so smaller subtree is joined to larger\n      const tempRoot1 = root1;\n      root1 = root2;\n      root2 = tempRoot1;\n\n      chunker.add(\n        'swap(n, m)',\n        (vis, root1, root2) => {\n          vis.array.assignVariable('n', N_IDX, root1);\n          vis.array.assignVariable('m', N_IDX, root2);\n          this.highlight(vis.array, RANK_IDX, root1, COLOUR_CODES.GREEN);\n          this.highlight(vis.array, RANK_IDX, root2, COLOUR_CODES.GREEN);\n        },\n        [root1, root2]\n      );\n    }\n\n    chunker.add(\n      'parent[n] = m',\n      (vis, root1, root2) => {\n        this.unhighlight(vis.array, N_IDX, root1);\n        this.unhighlight(vis.array, RANK_IDX, root1);\n        this.unhighlight(vis.array, RANK_IDX, root2);\n        this.highlight(vis.array, N_IDX, root2, COLOUR_CODES.ORANGE);\n        this.highlight(vis.array, PARENT_IDX, root1, COLOUR_CODES.ORANGE);\n      },\n      [root1, root2]\n    );\n\n    // joining the two nodes\n    parentArr[root1] = root2;\n\n    chunker.add(\n      'parent[n] = m',\n      (vis, root1, root2) => {\n        vis.array.updateValueAt(PARENT_IDX, root1, root2);\n\n        this.highlight(vis.array, N_IDX, root2, COLOUR_CODES.GREEN);\n        this.highlight(vis.array, PARENT_IDX, root1, COLOUR_CODES.GREEN);\n\n        this.highlight(vis.tree, root1, root1, COLOUR_CODES.GREEN);\n        this.highlight(vis.tree, root2, root2, COLOUR_CODES.GREEN);\n\n        vis.tree.removeEdge('0', root1);\n        // remove self-loop\n        vis.tree.removeEdge(root1, root1);\n        vis.tree.addEdge(root2, root1);\n        vis.tree.layout();\n      },\n      [root1, root2]\n    );\n\n    chunker.add(\n      'if rank[n] == rank[m]',\n      (vis, root1, root2) => {\n        this.unhighlight(vis.array, PARENT_IDX, root1);\n        this.unhighlight(vis.array, N_IDX, root2);\n        this.highlight(vis.array, RANK_IDX, root1, COLOUR_CODES.ORANGE);\n        this.highlight(vis.array, RANK_IDX, root2, COLOUR_CODES.ORANGE);\n        this.unhighlight(vis.tree, root1, root1);\n        this.unhighlight(vis.tree, root2, root2);\n      },\n      [root1, root2]\n    );\n\n    // updating rank\n    if (rankArr[root1] == rankArr[root2]) {\n      rankArr[root2] += 1;\n      rankArr[root1] = null;\n\n      chunker.add(\n        'rank[m] <- rank[m] + 1',\n        (vis, root1, root2, updatedRank1, updatedRank2) => {\n          vis.array.updateValueAt(RANK_IDX, root1, updatedRank1);\n          vis.array.updateValueAt(RANK_IDX, root2, updatedRank2);\n          this.unhighlight(vis.array, RANK_IDX, root1);\n          this.highlight(vis.array, RANK_IDX, root2, COLOUR_CODES.GREEN);\n        },\n        [root1, root2, rankArr[root1], rankArr[root2]]\n      );\n\n      chunker.add(\n        'rank[m] <- rank[m] + 1',\n        (vis, root2) => {\n          this.unhighlight(vis.array, RANK_IDX, root2);\n        },\n        [root2]\n      );\n    } else {\n      rankArr[root1] = null;\n\n      chunker.add(\n        'if rank[n] == rank[m]',\n        (vis, root1, root2, updatedRank1) => {\n          vis.array.updateValueAt(RANK_IDX, root1, updatedRank1);\n          this.unhighlight(vis.array, RANK_IDX, root1);\n          this.unhighlight(vis.array, RANK_IDX, root2);\n        },\n        [root1, root2, rankArr[root1]]\n      );\n    }\n  },\n};\n","import { TTFExp } from '../explanations';\nimport VariableTreeNode from '../../components/DataStructures/Graph/NAryTreeTracer/NAryTreeVariable';\nimport TTFTreeInsertion from './TTFTreeInsertion';\nimport { COLOUR_CODES } from './unionFindUnion';\n\n\nexport default {\n  explanation: TTFExp,\n\n  // initialising the visualiser from insert\n  initVisualisers({ visualiser }) {\n    // removing highlights\n    visualiser.tree.instance.unfillAll();\n    visualiser.tree.instance.setFunctionName(null);\n\n    return {\n      tree: {\n        instance: visualiser.tree.instance,\n        order: 0,\n      },\n    };\n  },\n\n  /**\n   * Finding the child node that may contain the value.\n   * @param {*} chunker \n   * @param {*} node the node to search for the child.\n   * @param {*} value the value to search for.\n   * @returns the node, if exists, that may contain the value, else null.\n   */\n  findChild(chunker, node, value) {\n    if (node === null) return null;\n    const nodeLength = node.getNodeLength();\n    const values = node.getIDs();\n    const children = node.children;\n\n    chunker.add('if t is a two-node');\n    if (nodeLength === 1) {\n      chunker.add('if k < t.key1: if t is a two-node');\n      if (value < values[0]) {\n        return this.childOrNull(chunker, 'c <- t.child1: if t is a two-node', values[0], children, 0);\n      }\n      else {\n        chunker.add('else: if t is a two-node');\n        return this.childOrNull(chunker, 'c <- t.child2: if t is a two-node', values[0], children, 1);\n      }\n    }\n    chunker.add('else if t is a three-node');\n    if (nodeLength === 2) {\n      chunker.add('if k < t.key1: else if t is a three-node',\n        (vis, node, value1) => {\n          TTFTreeInsertion.unhighlightNode(vis.tree, node);\n          TTFTreeInsertion.highlightValue(vis.tree, value1, COLOUR_CODES.ORANGE);\n        },\n        [node, values[0]]);\n      if (value < values[0]) {\n        return this.childOrNull(chunker, 'c <- t.child1: else if t is a three-node', values[0], children, 0);\n      }\n      chunker.add('else if k < t.key2: else if t is a three-node',\n        (vis, value1, value2) => {\n          TTFTreeInsertion.unhighlightValue(vis.tree, value1);\n          TTFTreeInsertion.highlightValue(vis.tree, value2, COLOUR_CODES.ORANGE);\n        },\n        [values[0], values[1]]);\n      if (value < values[1]) {\n        return this.childOrNull(chunker, 'c <- t.child2: else if t is a three-node', values[1], children, 1);\n      }\n      else {\n        chunker.add('else: else if t is a three-node');\n        return this.childOrNull(chunker, 'c <- t.child3: else if t is a three-node', values[1], children, 2);\n      }\n    }\n    // for search specifically (as insert splits 4 nodes, rather than searches them):\n    chunker.add('else: Find_child');\n    if (nodeLength === 3) {\n      chunker.add('if k < t.key1: else: Find_child',\n        (vis, node, value1) => {\n          TTFTreeInsertion.unhighlightNode(vis.tree, node);\n          TTFTreeInsertion.highlightValue(vis.tree, value1, COLOUR_CODES.ORANGE);\n        },\n        [node, values[0]]);\n      if (value < values[0]) {\n        return this.childOrNull(chunker, 'c <- t.child1: else: Find_child', values[0], children, 0);\n      }\n      chunker.add('else if k < t.key2: else: Find_child',\n        (vis, value1, value2) => {\n          TTFTreeInsertion.unhighlightValue(vis.tree, value1);\n          TTFTreeInsertion.highlightValue(vis.tree, value2, COLOUR_CODES.ORANGE);\n        },\n        [values[0], values[1]]);\n      if (value < values[1]) {\n        return this.childOrNull(chunker, 'c <- t.child2: else: Find_child', values[1], children, 1);\n      }\n      chunker.add('else if k < t.key3',\n        (vis, value2, value3) => {\n          TTFTreeInsertion.unhighlightValue(vis.tree, value2);\n          TTFTreeInsertion.highlightValue(vis.tree, value3, COLOUR_CODES.ORANGE);\n        },\n        [values[1], values[2]]);\n      if (value < values[2]) {\n        return this.childOrNull(chunker, 'c <- t.child3: else: Find_child', values[2], children, 2);\n      }\n      else {\n        chunker.add('else: else: Find_child');\n        return this.childOrNull(chunker, 'c <- t.child4', values[2], children, 3);\n      }\n    }\n  },\n\n  /**\n   * Helper function for findChild. \n   * Adds bookmark and highlights the child node if it exists, else returns null.\n   * @param {*} chunker \n   * @param {*} bookmark \n   * @param {*} nodeValue the value of the parent node.\n   * @param {*} children the children of the parent node.\n   * @param {*} index the index of the child node within parent.\n   * @returns \n   */\n  childOrNull(chunker, bookmark, nodeValue, children, index) {\n    if (children.length === 0) {\n      chunker.add(bookmark);\n      return null;\n    }\n    else {\n      chunker.add(bookmark,\n        (vis, nodeValue, child) => {\n          TTFTreeInsertion.unhighlightValue(vis.tree, nodeValue);\n          TTFTreeInsertion.highlightNode(vis.tree, child, COLOUR_CODES.ORANGE);\n        },\n        [nodeValue, children[index]]);\n      return children[index];\n    }\n  },\n\n  /**\n   * Helper function for search.\n   * Returns the node if it contains the value being searched for, else null.\n   * @param {*} chunker\n   * @param {*} value the value to search for.\n   * @param {*} node the node to search in.\n   * @returns the node if it contains the value, else null.\n   */\n  returnIfKeyInNode(chunker, value, node) {\n    chunker.add('if t is a two-node: Return_if_key_in_node',\n      (vis, node) => {\n        TTFTreeInsertion.highlightNode(vis.tree, node, COLOUR_CODES.ORANGE);\n      },\n      [node]);\n    if (node.getNodeLength() === 1) {\n      if (value === node.getIDs()[0]) {\n        chunker.add('if t.key1 == k return t',\n          (vis, node) => {\n            TTFTreeInsertion.highlightNode(vis.tree, node, COLOUR_CODES.GREEN);\n          },\n          [node]);\n        return node;\n      } else {\n        chunker.add('if t.key1 == k return t');\n        return null;\n      }\n    }\n    chunker.add('if t is a three-node: Return_if_key_in_node');\n    if (node.getNodeLength() === 2) {\n      if (value === node.getIDs()[0] || value === node.getIDs()[1]) {\n        chunker.add('if t.key1 == k or t.key2 == k return t',\n          (vis, node) => {\n            TTFTreeInsertion.highlightNode(vis.tree, node, COLOUR_CODES.GREEN);\n          },\n          [node]);\n        return node;\n      } else {\n        chunker.add('if t.key1 == k or t.key2 == k return t');\n        return null;\n      }\n    }\n    chunker.add('else: Return_if_key_in_node');\n    if (node.getNodeLength() === 3) {\n      if (value === node.getIDs()[0] || value === node.getIDs()[1] || value === node.getIDs()[2]) {\n        chunker.add('if t.key1 == k or t.key2 == k or t.key3 == k return t',\n          (vis, node) => {\n            TTFTreeInsertion.highlightNode(vis.tree, node, COLOUR_CODES.GREEN);\n          },\n          [node]);\n        return node;\n      } else {\n        chunker.add('if t.key1 == k or t.key2 == k or t.key3 == k return t');\n        return null;\n      }\n    }\n    return null; // just in case\n  },\n\n  /**\n   * Searches the tree for the value. \n   * Outputs the node if found, else outputs NotFound.\n   * @param {*} chunker\n   * @param {*} tree the (root of the) tree to search in.\n   * @param {*} value the value to search for.\n   */\n  search(chunker, tree, value) {\n    let node = tree;\n    let prev;\n\n    chunker.add('while t not Empty');\n    while (node !== null) {\n\n      if (this.returnIfKeyInNode(chunker, value, node)) break; // root of subtree contains value\n      prev = node; // for highlighting if not found\n      node = this.findChild(chunker, node, value); // find child that may contain value\n\n    }\n\n    if (node === null) {\n      chunker.add('return NotFound',\n        (vis, node) => {\n          TTFTreeInsertion.highlightNode(vis.tree, node, COLOUR_CODES.RED);\n        }, [prev]);\n    }\n\n  },\n\n  /**\n   * Restores the internal tree representation given the nodes and edges.\n   * @param {*} realNodes the logical nodes in the tree.\n   * @param {*} realEdges the logical edges in the tree.\n   * @returns the root of the tree.\n   */\n  initTreeReturnRoot(realNodes, realEdges) {\n    let tree = {};\n\n    // creating the variable tree nodes\n    let nodes = realNodes.filter((node) => node.id !== 0)\n    nodes.forEach((node) => {\n      tree[node.id] = new VariableTreeNode(node.id);\n    });\n\n    // adding the visual nodes to the logical variable nodes\n    nodes.forEach((node) => {\n      const treeNode = tree[node.id];\n      node.nodeIDs.forEach((nodeID) => {\n        treeNode.addRelatedNodeID(nodeID);\n      });\n    });\n\n    // adding the edges to the logical variable nodes\n    realEdges.forEach((edge) => {\n      const parentTreeNode = tree[edge.source];\n      const childTreeNode = tree[edge.target];\n\n      if (parentTreeNode && childTreeNode) {\n        parentTreeNode.children.push(childTreeNode);\n        childTreeNode.parent = parentTreeNode;\n      }\n    });\n\n    // finding the root of the tree\n    let root = Object.values(tree).filter((node) => node.parent === null)[0];\n\n    // remove parent relationship, otherwise run into max stack error when passing node into chunker\n    Object.values(tree).forEach((node) => {\n      node.parent = null;\n    });\n\n    return root;\n  },\n\n  /**\n   * Running the algorithm.\n   * @param {*} chunker \n   * @param {*} param1 the insertion visualiser and value to search for.\n   */\n  run(chunker, { visualiser, target }) {\n    let { 'realNodes': realNodes, 'realEdges': realEdges, 'nodes': renderedNodes, 'edges': renderedEdges } = visualiser.tree.instance.extractNTree();\n\n    // restoring the tree visualiser\n    chunker.add('T234_Search(t, k)', (vis) => {\n      vis.tree.setNTree(realNodes, realEdges, renderedNodes, renderedEdges);\n      vis.tree.layout();\n    },);\n\n    // restoring the tree internal representation\n    let root = this.initTreeReturnRoot(realNodes, realEdges);\n\n    // searching tree\n    this.search(chunker, root, target);\n  },\n\n};","import { TTFExp } from '../explanations';\nimport NTreeTracer from '../../components/DataStructures/Graph/NAryTreeTracer/NTreeTracer';\nimport VariableTreeNode from '../../components/DataStructures/Graph/NAryTreeTracer/NAryTreeVariable';\nimport { COLOUR_CODES } from './unionFindUnion';\nimport TTFTreeSearch from './TTFTreeSearch';\n\nexport default {\n  explanation: TTFExp,\n\n  initVisualisers() {\n    return {\n      tree: {\n        instance: new NTreeTracer('n-tree', null, 'Tree View'),\n        order: 0,\n      },\n    };\n  },\n\n  // highlights the current value\n  highlightValue(tree, value, colour) {\n    this.unhighlightValue(tree, value);\n    tree.fill(value, colour);\n  },\n\n  // unhighlights the current value\n  unhighlightValue(tree, value) {\n    tree.unfill(value);\n  },\n\n  // highlight an entire variable node\n  highlightNode(tree, node, colour) {\n    this.unhighlightNode(tree, node);\n    for (let i = 0; i < node.relatedNodeIDs.length; i++) {\n      let value = node.relatedNodeIDs[i];\n      tree.fill(value, colour);\n    }\n  },\n\n  // unhighlight an entire variable node\n  unhighlightNode(tree, node) {\n    for (let i = 0; i < node.relatedNodeIDs.length; i++) {\n      let value = node.relatedNodeIDs[i];\n      tree.unfill(value);\n    }\n  },\n\n  /**\n   * Returns the tree and node id of inserted value, expanding 4-nodes on the way.\n   * @param {*} chunker \n   * @param {*} value the value to be inserted into the tree.\n   * @param {*} tree the tree.\n   * @param {*} newID 'global' counter for variable node id. \n   * @returns the tree and updated variable node id. \n   */\n  traverseAndInsert(chunker, value, tree, newID) {\n    chunker.add('if t = Empty');\n    chunker.add('else: T234_Insert(t, k)');\n\n    chunker.add('p <- Empty');\n    let parent = null;\n    let child = tree;\n\n    chunker.add('c <- t',\n      (vis, child) => {\n        this.highlightNode(vis.tree, child, COLOUR_CODES.ORANGE);\n      },\n      [child]);\n\n    while (child != null) {\n      chunker.add('repeat');\n      let oldChild = child;\n      // if we encounter a four node\n      chunker.add('if c is a four-node');\n      if (child.getNodeLength() === 3) {\n        let child1, child2;\n        ({ node: child1, id: newID } = this.createNodeAndIncrement(newID));\n        ({ node: child2, id: newID } = this.createNodeAndIncrement(newID));\n\n        if (child.children.length === 4) {\n          child1.children.push(child.children[0]);\n          child1.children.push(child.children[1]);\n          child2.children.push(child.children[2]);\n          child2.children.push(child.children[3]);\n        }\n\n        chunker.add('c1 <- new two-node with c.child1, c.key1 and c.child2');\n        chunker.add('c2 <- new two-node with c.child3, c.key3 and c.child4');\n        child1.addRelatedNodeID(child.getIDs()[0]);\n        child2.addRelatedNodeID(child.getIDs()[2]);\n\n        // splitting complete, forming new parent:\n        chunker.add('if p = Empty');\n        if (parent === null) {\n          // form new root\n          ({ node: tree, id: newID } = this.createNodeAndIncrement(newID));\n\n          tree.children.push(child1);\n          tree.children.push(child2);\n          tree.addRelatedNodeID(child.getIDs()[1]);\n          chunker.add('t <- new two-node with c1, c.key2 and c2', this.handleChunkerAdd, [\n            tree.id,\n            tree.getIDs()[0],\n            child.id,\n            [child1.id, child1.getIDs()[0], child1.children],\n            [child2.id, child2.getIDs()[0], child2.children],\n            true,\n          ]);\n          child = tree;\n        } else if (parent.getNodeLength() === 1) {\n          chunker.add('else if p is a two-node');\n          let parentChildren = parent.children;\n          let idx = this.formParentThreeNode(parent, child, child1, child2);\n\n          chunker.add('Change p to a three-node, with c1, c.key2 and c2 replacing c', this.handleChunkerAdd, [\n            parent.id,\n            child.getIDs()[1],\n            child.id,\n            [child1.id, child1.getIDs()[0], child1.children],\n            [child2.id, child2.getIDs()[0], child2.children],\n            false,\n            idx,\n            parentChildren\n          ]);\n        } else {\n          chunker.add('else: InsertParent');\n          let parentChildren = parent.children;\n          let idx = this.formParentFourNode(parent, child, child1, child2);\n\n          chunker.add('Change p to a four-node, with c1, c.key2 and c2 replacing c', this.handleChunkerAdd, [\n            parent.id,\n            child.getIDs()[1],\n            child.id,\n            [child1.id, child1.getIDs()[0], child1.children],\n            [child2.id, child2.getIDs()[0], child2.children],\n            false,\n            idx,\n            parentChildren\n          ]);\n        }\n\n        chunker.add('if k < c.key2: Split',\n          (vis, child1, child2) => {\n            this.unhighlightNode(vis.tree, child1);\n            this.unhighlightNode(vis.tree, child2);\n          },\n          [child1, child2]);\n        if (value < oldChild.getIDs()[1]) {\n          chunker.add('c <- c1',\n            (vis, newParentValue, child1) => {\n              this.unhighlightValue(vis.tree, newParentValue);\n              this.highlightNode(vis.tree, child1, COLOUR_CODES.ORANGE);\n            },\n            [oldChild.getIDs()[1], child1]);\n          child = child1;\n        } else {\n          chunker.add('else: Split');\n          chunker.add('c <- c2',\n            (vis, newParentValue, child2) => {\n              this.unhighlightValue(vis.tree, newParentValue);\n              this.highlightNode(vis.tree, child2, COLOUR_CODES.ORANGE);\n            },\n            [oldChild.getIDs()[1], child2]);\n          child = child2;\n        }\n      }\n\n      chunker.add('p <- c');\n      parent = child;\n      child = TTFTreeSearch.findChild(chunker, child, value);\n      if (child === null) {\n        chunker.add('until c is Empty (and p is a leaf node)'); // try here\n      }\n    }\n\n    // insertion\n    parent.addRelatedNodeID(value);\n    chunker.add('if p is a two-node');\n    if (parent.getNodeLength() === 2) {\n      chunker.add(\n        'Change p to a three-node, containing the old p.key1 and k',\n        (vis, parent, value) => {\n          vis.tree.addVariableNode(parent.id, value);\n          this.unhighlightNode(vis.tree, parent);\n          this.highlightValue(vis.tree, value, COLOUR_CODES.GREEN);\n          vis.tree.layout();\n        },\n        [parent, value]\n      );\n    }\n    else {\n      chunker.add('else: Insert');\n      chunker.add(\n        'Change p to a four-node, containing the old p.key1 and p.key2 and k',\n        (vis, parent, value) => {\n          vis.tree.addVariableNode(parent.id, value);\n          this.unhighlightNode(vis.tree, parent);\n          this.highlightValue(vis.tree, value, COLOUR_CODES.GREEN);\n          vis.tree.layout();\n        },\n        [parent, value]\n      );\n    }\n    return { nTree: tree, id: newID };\n  },\n\n  // helper function for node splitting\n  formParentThreeNode(parent, child, child1, child2) {\n    let parentnodeIDs = parent.getIDs();\n    parent.clearRelatedNodeIDs();\n\n    let childIdx = parent.children.indexOf(child);\n    parent.children.splice(childIdx, 1, child1, child2);\n\n    parent.addRelatedNodeID(child.getIDs()[1]);\n    parent.addRelatedNodeID(parentnodeIDs[0]);\n    return childIdx;\n  },\n\n  // helper function for node splitting\n  formParentFourNode(parent, child, child1, child2) {\n    let parentnodeIDs = parent.getIDs();\n    parent.clearRelatedNodeIDs();\n\n    let childIdx = parent.children.indexOf(child);\n    parent.children.splice(childIdx, 1, child1, child2);\n\n    parent.addRelatedNodeID(child.getIDs()[1]);\n    parent.addRelatedNodeID(parentnodeIDs[0]);\n    parent.addRelatedNodeID(parentnodeIDs[1]);\n    return childIdx;\n  },\n\n  /**\n   * Creates a new variable node and increments the id.\n   * @param {*} id the current 'global' id counter. \n   * @returns the new node and the updated id.\n   */\n  createNodeAndIncrement(id) {\n    // easiest way to keep variable node ids unique is to increment some counter\n    if (id === null) id = 1;\n    const node = new VariableTreeNode(id);\n    id++;\n    return { node, id };\n  },\n\n  // helper function to visualise node splitting\n  handleChunkerAdd(\n    vis,\n    ParentID,\n    newParentValue,\n    oldChildID,\n    child1Info,\n    child2Info,\n    newRoot = false,\n    childIdx = null,\n    parentChildren = null,\n  ) {\n    if (newRoot) {\n      vis.tree.addVariableNode(ParentID, newParentValue);\n      vis.tree.addEdge(0, ParentID);\n    }\n    // remove old child\n    vis.tree.removeFullNode(oldChildID);\n\n    // add child1 and child2 which are new now to the tree\n    vis.tree.addVariableNode(child1Info[0], child1Info[1]);\n    vis.tree.addVariableNode(child2Info[0], child2Info[1]);\n\n    // add to parent as well\n    vis.tree.addVariableNode(ParentID, newParentValue);\n    if (!newRoot) {\n      for (let i = 0; i < parentChildren.length; i++) {\n        if (i != childIdx) {\n          vis.tree.removeEdge(ParentID, parentChildren[i].id);\n        }\n      }\n    }\n\n    // now connect them properly to new parent and also the original children\n\n    if (!newRoot) {\n      for (let i = 0; i < parentChildren.length; i++) {\n        if (i != childIdx) {\n          vis.tree.addEdge(ParentID, parentChildren[i].id);\n        }\n        else {\n          vis.tree.addEdge(ParentID, child1Info[0]);\n          vis.tree.addEdge(ParentID, child2Info[0]);\n        }\n      }\n    }\n\n    else {\n      vis.tree.addEdge(ParentID, child1Info[0]);\n      vis.tree.addEdge(ParentID, child2Info[0]);\n    }\n\n    for (let i = 0; i < child2Info[2].length; i++) {\n      vis.tree.addEdge(child2Info[0], child2Info[2][i].id);\n    }\n    for (let i = 0; i < child1Info[2].length; i++) {\n      vis.tree.addEdge(child1Info[0], child1Info[2][i].id);\n    }\n    vis.tree.layout();\n  },\n\n  // insertion of a node into tree. assumes the tree is not empty\n  insert(chunker, value, tree, newID) {\n    chunker.add('T234_Insert(t, k)',\n      (vis) => {\n        vis.tree.unfillAll();\n        vis.tree.setText(`(t, ${value})`);\n      });\n    let newInfo = this.traverseAndInsert(chunker, value, tree, newID);\n    return newInfo;\n  },\n\n  initTree(chunker, value, tree) {\n    // initially say tree is empty to avoid confusion\n    chunker.add('T234_Insert(t, k)',\n      (vis) => {\n        vis.tree.setFunctionName('Tree is Empty');\n        vis.tree.setText(``);\n      });\n    chunker.add('if t = Empty',\n      (vis) => {\n        vis.tree.setFunctionName('T234_Insert');\n        vis.tree.setText(`(t, ${value})`);\n      });\n    tree.addRelatedNodeID(value);\n\n    chunker.add(\n      't <- a new two-node containing k and empty subtrees',\n      (vis, tree, nodeID, value) => {\n        vis.tree.variableNodes = true;\n        vis.tree.isDirected = false;\n        vis.tree.addVariableNode(0, '0');\n        vis.tree.addVariableNode(nodeID, value);\n        vis.tree.addEdge(0, nodeID);\n        this.highlightNode(vis.tree, tree, COLOUR_CODES.GREEN);\n        vis.tree.layout();\n      },\n      [tree, tree.id, tree.getIDs()[0]]\n    );\n\n    return tree;\n  },\n\n  run(chunker, { nodes }) {\n    if (nodes === null || nodes.length === 0) return;\n    let { node: tree, id: newID } = this.createNodeAndIncrement(null);\n\n    // initialising tree\n    let treeStruct = this.initTree(chunker, nodes[0], tree);\n\n    if (nodes.length === 1) return;\n\n    treeStruct = this.insert(chunker, nodes[1], tree, newID);\n\n    // remaining insertions\n    for (let i = 2; i < nodes.length; i++) {\n      treeStruct = this.insert(\n        chunker,\n        nodes[i],\n        treeStruct['nTree'],\n        treeStruct['id']\n      );\n    }\n  },\n};\n","// Colors for array (..._A), graph nodes (..._N), graph edges (..._E)\n// for graph search/traversal algorithms (+ Prim's eventually)\n//\n// OMG, colors for array and graph require different types and are\n// inconsistent!\n// Array: '0'=Blue, '1'=Green\n// Nodes: 1=Green, 4= Blue\n// Edges: 1=Green, 2=Orange, 3=Red, 4=Blue\n// XXX not sure how this interacts with color perception options -\n// doesn't seem to work like this - should figure out how it's done if\n// it's still supported\nexport const colors = {\n    FRONTIER_A: '0',  // Blue\n    FRONTIER_N: 4,  // Blue\n    FRONTIER_E: 4,  // Blue\n    N_M_E: 2, // edge between n and m\n    FINALISED_A: '1', // Green\n    FINALISED_N: 1, // Green\n    FINALISED_E: 1,\n    PQ_MIN_A: '1', // XXX poor color but setting colors is a mystery\n    // if we find a path to end node:\n    SUCCESS_A: '1', // Green\n    SUCCESS_E: 3,\n  }\n","// XXX add support for multiple end nodes\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\nimport {colors} from './graphSearchColours';\n\nexport default {\n  initVisualisers() {\n    return {\n      graph: {\n        instance: new GraphTracer('graph', null, 'Graph view'),\n        order: 0,\n      },\n      array: {\n        instance: new Array2DTracer('array', null, 'Parent array & Priority Queue'),\n        order: 1,\n      },\n    };\n  },\n\n  run(chunker, { edgeValueMatrix, coordsMatrix, startNode, endNodes, moveNode}) {\n    // String Variables used in displaying algo\n    const algNameStr = 'dijkstra';\n    const dashStr = '-';\n    const minStr = 'Min'; \n    const nStr = 'n';\n    const mStr = 'm';\n    const infinityStr = '';\n    const lessThanStr = '<';\n    const notLessThanStr = '';\n\n    const E = [...edgeValueMatrix];\n    const coords = [...coordsMatrix];\n    const numVertices = edgeValueMatrix.length;\n    const minCosts = [];\n    const parents = [];\n    const nodes = [];  \n    const finalCosts = []; \n    const start = startNode - 1; \n    const end = endNodes[0] - 1;\n\n    // Display has table [nodes, parents, minCosts, finalCosts]\n    // and display code indexes into this table; we define the indices here\n    const NODE = 0;\n    const PAR = 1;\n    const MCOST = 2;\n    const FCOST = 3;\n    \n    // Create a set to keep track of visited vertices\n    const visited = new Set();  \n    let miniIndex = start;  \n    let last = [null, null]; // keep track of the last neighbour we visited\n    // initialize each element of array Cost to infinity\n    const cost = Array(numVertices).fill(Infinity);\n\n      \n    const findMinimum = () => {\n      let minCost = Infinity;\n      miniIndex = null;\n      for (let i = numVertices - 1; i >= 0; i--) {\n        if (!visited.has(i) && cost[i] <= minCost) {\n          minCost = cost[i];\n          miniIndex = i;\n        }\n      } \n    };\n\n    // If the node cost is a number, the node is in the PQ but not Infinity\n    // (can be null, Infinity or some expression for comparison) - used\n    // for checking if a node is in the frontier\n    const isNumber = (value) =>\n    {\n       return typeof value === 'number' && isFinite(value);\n    }\n\n    // refresh display.  Ideally one would think we could do incremental\n    // changes but there are all kinds of subtelties like what triggers\n    // re-rendering, some selected colors vanishing with some apparently\n    // unrelated operations, etc.  For sanity, and to avoid code thats\n    // duplicated countless times, we put lots of it here. And we name\n    // the parameters something more readable than x,y,z,z1,a,b,c etc...\n    // c_nodes_etc: 2D array with node number, parents etc\n    // c_Min: miniIndex\n    // c_cV: currentVertex\n    // c_m: m (neighbour of currentVertex)\n    const refresh = (vis, c_nodes_etc, c_Min, c_cV, c_m) => {\n      vis.array.set(c_nodes_etc, algNameStr);\n      // set n, m, Min as required\n      let c_m1 = (c_m === null? null: c_m+1);\n      let c_cV1 = (c_cV === null? null: c_cV+1);\n      let c_Min1 = (c_Min === null? null: c_Min+1);\n      vis.array.assignVariable(nStr, 2, c_cV1);\n      vis.array.assignVariable(mStr, 2, c_m1);\n      vis.array.assignVariable(minStr, 2, c_Min1); \n\n      // highlight nodes as finalised/frontier in array\n      for (let i = 0; i < numVertices; i++) {\n        if (c_nodes_etc[MCOST][i+1] === null) {\n          vis.array.select(NODE, i + 1, NODE, i + 1, colors.FINALISED_A);\n          vis.graph.removeNodeColor(i);\n          vis.graph.colorNode(i, colors.FINALISED_N);\n        } else if (isNumber(c_nodes_etc[MCOST][i+1])) {\n          vis.array.select(NODE, i + 1, NODE, i + 1, colors.FRONTIER_A);\n          vis.graph.removeNodeColor(i);\n          vis.graph.colorNode(i, colors.FRONTIER_N);\n        }\n      }\n\n      // color Min in PQ\n      if (c_Min != null)\n        vis.array.select(MCOST, c_Min + 1, MCOST, c_Min + 1, colors.PQ_MIN_A);\n    }\n\n    chunker.add(\n      1,\n      (vis, edgeArray, coordsArray) => {\n        vis.graph.directed(false);\n        vis.graph.weighted(true);\n        vis.graph.moveNodeFn(moveNode);\n        vis.graph.set(edgeArray, Array.from({ length: numVertices }, (v, k) => (k + 1)),coordsArray);\n      },\n      [E, coords]\n    );\n\n    // initialise each element of array Parent to zero \n    const prev = Array(numVertices).fill(null);  \n\n    nodes.push('i'); // initialize the pq display\n    parents.push('Parent[i]');\n    minCosts.push('Cost[i]'); \n    finalCosts.push('Final Cost');\n     \n    // Initialize the table\n    for (let i = 0; i < numVertices; i += 1) {\n      nodes[i + 1] = i + 1;\n      minCosts.push(dashStr);\n      parents.push(0); \n      finalCosts.push(dashStr);\n    }\n\n    chunker.add(\n      5,\n      (vis, v) => {\n        vis.array.set(v, algNameStr);\n      },\n      [[nodes, parents, minCosts, finalCosts], 0]\n    );\n\n\n    for (let i = 0; i < numVertices; i += 1) {\n      minCosts[i + 1] = (Infinity);\n    }\n\n    chunker.add(\n      6,\n      (vis, v) => {\n        vis.array.set(v, algNameStr);\n      },\n      [[nodes, parents, minCosts, finalCosts],0]\n    );\n    \n  \n    // Cost[s] <- 0\n    cost[start] = 0;\n    minCosts[start + 1] = 0; \n    chunker.add(\n      7,\n      (vis, v, w) => {\n        // re-render table with new cost\n        vis.array.set(v, algNameStr);\n        // color start node in array + graph\n        vis.array.select(NODE, w + 1, NODE, w + 1, colors.FRONTIER_A);\n        vis.graph.colorNode(w, colors.FRONTIER_N);\n      },\n      [[nodes, parents, minCosts, finalCosts], start]\n    );\n\n    // Nodes <- PQ containing all nodes \n    chunker.add(\n      8,\n      (vis, v, w) => {\n        // add min to display\n        vis.array.set(v, algNameStr);\n        vis.array.assignVariable(minStr, 2, w + 1);\n        vis.array.select(MCOST, w + 1, MCOST, w + 1, colors.PQ_MIN_A);\n        vis.array.select(NODE, w + 1, NODE, w + 1, colors.FRONTIER_A);\n      },\n      [[nodes, parents, minCosts, finalCosts], start]\n    );\n\n    let currentVertex = null;\n    // while Nodes not Empty \n    // while (visited.size < numVertices)  \n    // extra chunk before break to make loop termination clearer\n    /* eslint-disable no-constant-condition */\n    while (true) {\n      \n      findMinimum(); \n      \n      chunker.add( \n        2,\n        (vis, c_nodes_etc, c_miniIndex, c_last, c_prev, c_cV) => {\n          refresh(vis, c_nodes_etc, c_miniIndex, c_cV, null);\n          \n          if (c_last[0] != null) {\n            vis.graph.removeEdgeColor(c_last[0], c_last[1]); \n            \n            // restore the original color of the edge\n            if(c_prev[c_last[0]] != null && c_nodes_etc[FCOST][c_last[0]+1] == dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n              vis.graph.colorEdge(c_prev[c_last[0]], c_last[0], colors.FRONTIER_E);\n            }\n\n            if(c_prev[c_last[1]] != null && c_nodes_etc[FCOST][c_last[1]+1] == dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n              vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FRONTIER_E);\n            }\n\n            if(c_nodes_etc[FCOST][c_last[0]+1] != dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n              vis.graph.colorEdge(c_prev[c_last[0]], c_last[0], colors.FINALISED_E);\n            }\n\n            if(c_nodes_etc[FCOST][c_last[1]+1] != dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n              vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FINALISED_E);\n            }\n\n          }\n\n        },\n        [[nodes, parents, minCosts, finalCosts], miniIndex, last, prev, currentVertex]\n      );\n      if (!(visited.size < numVertices)) {\n        chunker.add(99); // return at end of function\n        chunker.add(\n          99,\n          (vis, v, c_miniIndex, c_cV, c_m) => {\n// XXXXXX\n            // refresh(vis, v, c_miniIndex, c_cV, c_m);\n          },\n          [[nodes, parents, minCosts, finalCosts], miniIndex,\n              null, null]\n        );\n        break;\n      }\n\n      // Find the unvisited vertex with the smallest cost\n      \n      currentVertex = null; \n      findMinimum();\n      currentVertex = miniIndex;\n      finalCosts[miniIndex + 1] = cost[miniIndex];\n      \n      // n <- RemoveMin(Nodes)  \n      minCosts[currentVertex + 1] = null; \n      visited.add(currentVertex);\n      \n      // Update the miniIndex\n      findMinimum(); \n      chunker.add(\n        9,\n        (vis, c_nodes_etc, c_miniIndex, c_cV, c_prev_cV) => {\n          // reset previous highlight if any\n          if (c_prev_cV != null) {\n            vis.graph.removeEdgeColor(c_prev_cV, c_cV);\n            vis.graph.colorEdge(c_prev_cV, c_cV, colors.FINALISED_E);\n          }\n          refresh(vis, c_nodes_etc, c_miniIndex, c_cV, null);\n        },\n        [[nodes, parents, minCosts, finalCosts], miniIndex, \n            currentVertex, prev[currentVertex]]\n      );\n      \n      // If we can't find a reachable vertex, exit \n      // if is_end_node(n) or Cost[n] = infinity \n      chunker.add(10);\n      if (currentVertex === null // || currentVertex === end\n        || cost[currentVertex] === Infinity) {\n        // return without exploring all components & no end node\n\n        // undo last \"remove next element\" operation\n        minCosts[currentVertex+1] = infinityStr;\n        finalCosts[currentVertex+1] = dashStr;\n        miniIndex = currentVertex;\n        chunker.add(\n          3,\n          (vis, v, c_miniIndex, c_cV, c_m) => {\n            vis.graph.removeNodeColor(currentVertex);\n            refresh(vis, v, c_miniIndex, c_cV, c_m);\n          },\n          [[nodes, parents, minCosts, finalCosts], miniIndex,\n              null, null]\n        );\n        // return\n        break; \n      }\n      if (currentVertex === end) {\n        // found end node - highlight path\n        chunker.add(3, \n          (vis, c_nodes_etc) => {\n                // remove n, add start and end\n                vis.array.set(c_nodes_etc, algNameStr);\n                vis.array.assignVariable('end', 2, end + 1);\n                vis.array.assignVariable('start', 2, start + 1);\n                vis.array.assignVariable('n', 2, null);\n                // remove color from node numbers\n                // (done by vis.array.assignVariable, it seems):\n                // for(let i = 0; i < c_nodes_etc[NODE].length; i++){\n                  // vis.array.deselect(0, i);\n                // }\n\n                // color the path from the start node to the end node\n                // + color nodes and parent array\n                let current = end;\n                let next = 0;\n                while((current != start) && (c_nodes_etc[PAR][current+1] != null))\n                { \n                  next = c_nodes_etc[PAR][current+1]-1;\n                  vis.array.select(NODE, current + 1, NODE, current + 1, colors.SUCCESS_A);\n                  vis.array.select(PAR, current + 1, PAR, current + 1, colors.SUCCESS_A);\n                  vis.graph.removeEdgeColor(current, next);\n                  vis.graph.colorEdge(current, next, colors.SUCCESS_E);\n                  current = next;\n                }\n                // also colour start node in array + final cost for end\n                vis.array.select(NODE, start + 1, NODE, start + 1, colors.SUCCESS_A);\n                vis.array.select(FCOST, end + 1, FCOST, end + 1, colors.SUCCESS_A);\n          },\n          [[nodes, parents, minCosts, finalCosts]]\n        )\n        break; \n      }\n\n      // Mark the vertex as visited\n  \n      // Update the cost and prev arrays \n      \n      // for each node m neighbouring n\n      for (let m = 0; m < numVertices; m++) {\n        if (edgeValueMatrix[currentVertex][m] !== 0) { //TODO: check\n            // && !visited.has(m)) {  // Skip if no edge exists\n          // findMinimum();\n          chunker.add(\n            4,\n            (vis, v, c_miniIndex, c_last, c_prev, c_cV, c_m) => {\n              if (c_last[0] != null) { \n                vis.graph.removeEdgeColor(c_last[0], c_last[1]);\n                //vis.graph.leave1(c_last[0], c_last[1], 2); \n                if(c_prev[c_last[0]] != null && v[FCOST][c_last[0]+1] == dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n                  vis.graph.colorEdge(c_prev[c_last[0]], c_last[0],\ncolors.FRONTIER_E);\n                }\n\n                if(c_prev[c_last[1]] != null && v[FCOST][c_last[1]+1] == dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n                  vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FRONTIER_E);\n                }\n\n                if(v[FCOST][c_last[0]+1] != dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n                  vis.graph.colorEdge(c_prev[c_last[0]], c_last[0], colors.FINALISED_E);\n                }\n\n                if(v[FCOST][c_last[1]+1] != dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n                  vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FINALISED_E);\n                }\n              } \n\n              vis.graph.removeEdgeColor(c_cV, c_m);\n              vis.graph.colorEdge(c_cV, c_m, colors.N_M_E);\n\n              refresh(vis, v, c_miniIndex, c_cV, c_m);\n            },\n            [[nodes, parents, minCosts, finalCosts], miniIndex, last, prev, currentVertex,\n            m]\n          );\n          \n          const newCost = cost[currentVertex] + edgeValueMatrix[currentVertex][m]; //TODO: check\n          \n          // if Cost[n]+weight(n,m)<Cost[m]\n          let tempString = minCosts[m + 1];\n          if (minCosts[m + 1] === Infinity) {\n            tempString = infinityStr;\n          }\n          if (!visited.has(m)) {\n            if (newCost < cost[m]) {\n              minCosts[m + 1] = (`${newCost} ${lessThanStr} ${tempString}`);\n            } else {\n              minCosts[m + 1] = (`${newCost} ${notLessThanStr} ${tempString}`);\n            }\n          }\n          \n          // findMinimum();\n          chunker.add(\n            11,\n            (vis, v, c_miniIndex, c_cV, c_m) => {\n              refresh(vis, v, c_miniIndex, c_cV, c_m);\n            },\n            [[nodes, parents, minCosts, finalCosts], miniIndex,\n                currentVertex, m]\n          ); \n\n           if (!visited.has(m))\n            minCosts[m + 1] = cost[m];\n\n          last = [currentVertex, m];\n          \n          if (!visited.has(m) && newCost < cost[m]) {\n            // Cost[m] <- Cost[n] + weight(n,m)\n            cost[m] = newCost; \n            minCosts[m + 1] = newCost;\n            // findMinimum();\n            chunker.add(\n              12,\n              (vis, c_nodes_etc, c_miniIndex, c_cV, c_m) => {\n                refresh(vis, c_nodes_etc, c_miniIndex, c_cV, c_m);\n              },\n              [[nodes, parents, minCosts, finalCosts], miniIndex, currentVertex, m]\n            );\n\n            // UpdateCost(Nodes,m,Cost[m])\n            findMinimum();\n            chunker.add(\n              13,\n              (vis, c_nodes_etc, c_miniIndex, c_cV, c_m) => {\n                refresh(vis, c_nodes_etc, c_miniIndex, c_cV, c_m);\n              },\n              [[nodes, parents, minCosts, finalCosts], miniIndex, currentVertex, m]\n            );\n\n            // Parent[m] <- n\n            parents[m + 1] = currentVertex + 1;\n            const lastParent = prev[m];\n            prev[m] = currentVertex;   \n          \n            // findMinimum();\n            chunker.add(\n              14,\n              (vis, c_nodes_etc, c_miniIndex, c_prev_m, c_m, c_lastP, c_cV) => {\n\n                vis.graph.removeEdgeColor(c_cV, c_m);\n                \n                vis.graph.removeNodeColor(c_prev_m);\n                vis.graph.colorEdge(c_prev_m, c_m, colors.FRONTIER_E);\n                vis.graph.colorNode(c_prev_m, 1);\n                \n                // disconnect from the previous parent\n                if (c_lastP != null) {\n                  vis.graph.removeEdgeColor(c_lastP, c_m);\n                }\n\n                refresh(vis, c_nodes_etc, c_miniIndex, c_cV, c_m);\n              },\n              [[nodes, parents, minCosts, finalCosts], miniIndex,\n                  prev[m], m, lastParent, currentVertex]\n            );\n          } \n        }\n      }\n    }\n  }, \n\n};\n","// Copied and modified from dijkstra.js (might have been better to put\n// common code in a single file - they are very similar and could be\n// made more-so).\n// If we add support for multiple end nodes elsewhere, we may need to\n// check there is a single end node here\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\nimport {colors} from './graphSearchColours';\n\nexport default {\n  initVisualisers() {\n    return {\n      graph: {\n        instance: new GraphTracer('graph', null, 'Graph view'),\n        order: 0,\n      },\n      array: {\n        instance: new Array2DTracer('array', null, 'Parent array & Priority Queue'),\n        order: 1,\n      },\n    };\n  },\n\n  run(chunker, {edgeValueMatrix, coordsMatrix, startNode, endNodes, heuristicFn, moveNode}) {\n    // String Variables used in displaying algo\n    const algNameStr = 'aStar';\n    const dashStr = '-';\n    const minStr = 'Min'; \n    const nStr = 'n';\n    const mStr = 'm';\n    const infinityStr = '';\n    const lessThanStr = '<';\n    const notLessThanStr = '';\n\n    const E = [...edgeValueMatrix];\n    const coords = [...coordsMatrix];\n    const numVertices = edgeValueMatrix.length;\n    const minCosts = [];\n    const parents = [];\n    const nodes = [];  \n    const finalCosts = []; \n    const heuristics = [];\n    const calculatedHeuristics = [];\n    const start = startNode - 1; \n    const end = endNodes[0] - 1;\n\n    // Display has table [nodes, heuristics, minCosts, parents, finalCosts]\n    // and display code indexes into this table; we define the indices here\n    const NODE = 0;\n    const HEUR = 1;\n    const MCOST = 2;\n    const PAR = 3;\n    const FCOST = 4;\n    \n    // Create a set to keep track of visited vertices\n    const visited = new Set();  \n    let miniIndex = start;  \n    let last = [null, null]; // keep track of the last neighbour we visited\n    // initialize each element of array Cost to infinity\n    const cost = Array(numVertices).fill(Infinity);\n\n      \n    const findMinimum = () => {\n      let minCost = Infinity;\n      miniIndex = null;\n      for (let i = numVertices - 1; i >= 0; i--) {\n        if (!visited.has(i) && cost[i]+calculatedHeuristics[i] <= minCost) {\n          minCost = cost[i]+calculatedHeuristics[i];\n          miniIndex = i;\n        }\n      } \n    };\n\n    // If the node cost is a number, the node is in the PQ but not Infinity\n    // (can be null, Infinity or some expression for comparison) - used\n    // for checking if a node is in the frontier\n    const isNumber = (value) =>\n    {\n       return typeof value === 'number' && isFinite(value);\n    }\n\n    // refresh display.  Ideally one would think we could do incremental\n    // changes but there are all kinds of subtelties like what triggers\n    // re-rendering, some selected colors vanishing with some apparently\n    // unrelated operations, etc.  For sanity, and to avoid code thats\n    // duplicated countless times, we put lots of it here. And we name\n    // the parameters something more readable than x,y,z,z1,a,b,c etc...\n    // c_nodes_etc: 2D array with node number, parents etc\n    // c_Min: miniIndex\n    // c_cV: currentVertex\n    // c_m: m (neighbour of currentVertex)\n    const refresh = (vis, c_nodes_etc, c_Min, c_cV, c_m) => {\n      vis.array.set(c_nodes_etc, algNameStr);\n      // set n, m, Min as required\n      let c_m1 = (c_m === null? null: c_m+1);\n      let c_cV1 = (c_cV === null? null: c_cV+1);\n      let c_Min1 = (c_Min === null? null: c_Min+1);\n      vis.array.assignVariable(nStr, 2, c_cV1);\n      vis.array.assignVariable(mStr, 2, c_m1);\n      vis.array.assignVariable(minStr, 2, c_Min1); \n\n      // highlight nodes as finalised/frontier in array\n      for (let i = 0; i < numVertices; i++) {\n        if (c_nodes_etc[MCOST][i+1] === null) {\n          vis.array.select(NODE, i + 1, NODE, i + 1, colors.FINALISED_A);\n          vis.graph.removeNodeColor(i);\n          vis.graph.colorNode(i, colors.FINALISED_N);\n        } else if (isNumber(c_nodes_etc[MCOST][i+1])) {\n          vis.array.select(NODE, i + 1, NODE, i + 1, colors.FRONTIER_A);\n          vis.graph.removeNodeColor(i);\n          vis.graph.colorNode(i, colors.FRONTIER_N);\n        }\n      }\n\n      // color Min in PQ\n      if (c_Min != null) {\n        vis.array.select(MCOST, c_Min + 1, MCOST, c_Min + 1, colors.PQ_MIN_A);\n        vis.array.select(HEUR, c_Min + 1, HEUR, c_Min + 1, colors.PQ_MIN_A);\n      }\n    }\n\n    const endX = coords[end][0];\n    const endY = coords[end][1];\n    for (let i = 0; i < numVertices; i++) {\n        calculatedHeuristics[i] = heuristicFn(coords[i][0], coords[i][1], endX, endY);\n    }\n\n    chunker.add(\n      1,\n      (vis, edgeArray, coordsArray) => {\n        vis.graph.directed(false);\n        vis.graph.weighted(true);\n        vis.graph.moveNodeFn(moveNode);\n        vis.graph.set(edgeArray, Array.from({ length: numVertices }, (v, k) => (k + 1)),coordsArray);\n      },\n      [E, coords]\n    );\n\n    // initialise each element of array Parent to zero \n    const prev = Array(numVertices).fill(null);  \n\n    nodes.push('i'); // initialize the pq display\n    parents.push('Parent[i]');\n    minCosts.push('Length[i]');\n    // minCosts.push('Length[i] (so far)');\n    heuristics.push('heur(i)');\n    finalCosts.push('Final Length');\n     \n    // Initialize the table\n    for (let i = 0; i < numVertices; i += 1) {\n      nodes[i + 1] = i + 1;\n      heuristics.push(calculatedHeuristics[i]);\n      minCosts.push(dashStr);\n      parents.push(0); \n      finalCosts.push(dashStr);\n    }\n\n    // XXX would be nice to make the size of the table a bit smaller by\n    // default, and a bit higher up. How to do it is a mystery to me.\n    // vis.array.getRendererClass().zoom can be set but does nothing\n    // but in src/components/DataStructures/Array/Array2DRenderer/index.js\n    // you can change scale(${this.zoom}) to scale(0.8), for example,\n    // but then you can't change the zoom (seems like this.zoom may be\n    // null/undefined by default)\n    chunker.add(\n      5,\n      (vis, v) => {\n        vis.array.set(v, algNameStr);\n        vis.array.getRendererClass().zoom = 8;\n      },\n      [[nodes, heuristics, minCosts, parents, finalCosts], 0]\n    );\n\n\n    for (let i = 0; i < numVertices; i += 1) {\n      minCosts[i + 1] = (Infinity);\n    }\n\n    chunker.add(\n      6,\n      (vis, v) => {\n        vis.array.set(v, algNameStr);\n      },\n      [[nodes, heuristics, minCosts, parents, finalCosts],0]\n    );\n    \n  \n    // Cost[s] <- 0\n    cost[start] = 0;\n    minCosts[start + 1] = 0; \n    chunker.add(\n      7,\n      (vis, v, w) => {\n        // re-render table with new cost\n        vis.array.set(v, algNameStr);\n        // color start node in array + graph\n        vis.array.select(NODE, w + 1, NODE, w + 1, colors.FRONTIER_A);\n        vis.graph.colorNode(w, colors.FRONTIER_N);\n      },\n      [[nodes, heuristics, minCosts, parents, finalCosts], start]\n    );\n\n    // Nodes <- PQ containing all nodes \n    chunker.add(\n      8,\n      (vis, v, w) => {\n        // add min to display\n        vis.array.set(v, algNameStr);\n        vis.array.assignVariable(minStr, 2, w + 1);\n        vis.array.select(MCOST, w + 1, MCOST, w + 1, colors.PQ_MIN_A);\n        vis.array.select(HEUR, w + 1, HEUR, w + 1, colors.PQ_MIN_A);\n        vis.array.select(NODE, w + 1, NODE, w + 1, colors.FRONTIER_A);\n      },\n      [[nodes, heuristics, minCosts, parents, finalCosts], start]\n    );\n\n    let currentVertex = null;\n    // while Nodes not Empty \n    // while (visited.size < numVertices) \n    // extra chunk before break to make loop termination clearer\n    /* eslint-disable no-constant-condition */\n    while (true) {\n      \n      findMinimum(); \n      \n      chunker.add( \n        2,\n        (vis, c_nodes_etc, c_miniIndex, c_last, c_prev, c_cV) => {\n          refresh(vis, c_nodes_etc, c_miniIndex, c_cV, null);\n          \n          if (c_last[0] != null) {\n            vis.graph.removeEdgeColor(c_last[0], c_last[1]); \n            \n            // restore the original color of the edge\n            if(c_prev[c_last[0]] != null && c_nodes_etc[FCOST][c_last[0]+1] == dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n              vis.graph.colorEdge(c_prev[c_last[0]], c_last[0], colors.FRONTIER_E);\n            }\n\n            if(c_prev[c_last[1]] != null && c_nodes_etc[FCOST][c_last[1]+1] == dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n              vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FRONTIER_E);\n            }\n\n            if(c_nodes_etc[FCOST][c_last[0]+1] != dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n              vis.graph.colorEdge(c_prev[c_last[0]], c_last[0], colors.FINALISED_E);\n            }\n\n            if(c_nodes_etc[FCOST][c_last[1]+1] != dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n              vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FINALISED_E);\n            }\n\n          }\n\n        },\n        [[nodes, heuristics, minCosts, parents, finalCosts], miniIndex, last, prev, currentVertex]\n      );\n      if (!(visited.size < numVertices)) {\n        chunker.add(99); // return at end of function\n        break;\n      }\n\n      // Find the unvisited vertex with the smallest cost\n      \n      currentVertex = null; \n      findMinimum();\n      currentVertex = miniIndex;\n      finalCosts[miniIndex + 1] = cost[miniIndex];\n      \n      // n <- RemoveMin(Nodes)  \n      minCosts[currentVertex + 1] = null; \n      heuristics[currentVertex + 1] = null;\n      visited.add(currentVertex);\n      \n      // Update the miniIndex\n      findMinimum(); \n      chunker.add(\n        9,\n        (vis, c_nodes_etc, c_miniIndex, c_cV, c_prev_cV) => {\n          // reset previous highlight if any\n          if (c_prev_cV != null) {\n            vis.graph.removeEdgeColor(c_prev_cV, c_cV);\n            vis.graph.colorEdge(c_prev_cV, c_cV, colors.FINALISED_E);\n          }\n          refresh(vis, c_nodes_etc, c_miniIndex, c_cV, null);\n        },\n        [[nodes, heuristics, minCosts, parents, finalCosts], miniIndex, \n            currentVertex, prev[currentVertex]]\n      );\n      \n      // If we can't find a reachable vertex, exit \n      // if is_end_node(n) or Cost[n] = infinity \n      chunker.add(10);\n      if (currentVertex === null // || currentVertex === end\n        || cost[currentVertex] === Infinity) {\n        // return without exploring all components & no end node\n\n        // undo last \"remove next element\" operation\n        minCosts[currentVertex+1] = infinityStr;\n        finalCosts[currentVertex+1] = dashStr;\n        miniIndex = currentVertex;\n        chunker.add(\n          3,\n          (vis, v, c_miniIndex, c_cV, c_m) => {\n            vis.graph.removeNodeColor(currentVertex);\n            refresh(vis, v, c_miniIndex, c_cV, c_m);\n          },\n          [[nodes, parents, minCosts, finalCosts], miniIndex,\n              currentVertex, null]\n        );\n        // return\n        break; \n      }\n      if (currentVertex === end) {\n        // found end node - highlight path\n        chunker.add(3, \n          (vis, c_nodes_etc) => {\n                // remove n, add start and end\n                vis.array.set(c_nodes_etc, algNameStr);\n                vis.array.assignVariable('n', 2, null);\n                vis.array.assignVariable('end', 2, end + 1);\n                vis.array.assignVariable('start', 2, start + 1);\n                // remove color from node numbers\n                // (done by vis.array.assignVariable, it seems):\n                // for(let i = 0; i < c_nodes_etc[NODE].length; i++){\n                  // vis.array.deselect(0, i);\n                // }\n\n                // color the path from the start node to the end node\n                // + color nodes and parent array\n                let current = end;\n                let next = 0;\n                while((current != start) && (c_nodes_etc[PAR][current+1] != null))\n                { \n                  next = c_nodes_etc[PAR][current+1]-1;\n                  vis.array.select(NODE, current + 1, NODE, current + 1, colors.SUCCESS_A);\n                  vis.array.select(PAR, current + 1, PAR, current + 1, colors.SUCCESS_A);\n                  vis.graph.removeEdgeColor(current, next);\n                  vis.graph.colorEdge(current, next, colors.SUCCESS_E);\n                  current = next;\n                }\n                // also colour start node in array + final cost for end\n                vis.array.select(NODE, start + 1, NODE, start + 1, colors.SUCCESS_A);\n                vis.array.select(FCOST, end + 1, FCOST, end + 1, colors.SUCCESS_A);\n          },\n          [[nodes, heuristics, minCosts, parents, finalCosts]]\n        )\n        break; \n      }\n\n      // Mark the vertex as visited\n  \n      // Update the cost and prev arrays \n      \n      // for each node m neighbouring n\n      for (let m = 0; m < numVertices; m++) {\n        if (edgeValueMatrix[currentVertex][m] !== 0) { //TODO: check\n            // && !visited.has(m)) {  // Skip if no edge exists\n          // findMinimum();\n          chunker.add(\n            4,\n            (vis, v, c_miniIndex, c_last, c_prev, c_cV, c_m) => {\n              if (c_last[0] != null) { \n                vis.graph.removeEdgeColor(c_last[0], c_last[1]);\n                //vis.graph.leave1(c_last[0], c_last[1], 2); \n                if(c_prev[c_last[0]] != null && v[FCOST][c_last[0]+1] == dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n                  vis.graph.colorEdge(c_prev[c_last[0]], c_last[0],\ncolors.FRONTIER_E);\n                }\n\n                if(c_prev[c_last[1]] != null && v[FCOST][c_last[1]+1] == dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n                  vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FRONTIER_E);\n                }\n\n                if(v[FCOST][c_last[0]+1] != dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n                  vis.graph.colorEdge(c_prev[c_last[0]], c_last[0], colors.FINALISED_E);\n                }\n\n                if(v[FCOST][c_last[1]+1] != dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n                  vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FINALISED_E);\n                }\n              } \n\n              vis.graph.removeEdgeColor(c_cV, c_m);\n              vis.graph.colorEdge(c_cV, c_m, colors.N_M_E);\n\n              refresh(vis, v, c_miniIndex, c_cV, c_m);\n            },\n            [[nodes, heuristics, minCosts, parents, finalCosts], miniIndex, last, prev, currentVertex,\n            m]\n          );\n          \n          const newCost = cost[currentVertex] + edgeValueMatrix[currentVertex][m]; //TODO: check\n          \n          // if Cost[n]+weight(n,m)<Cost[m]\n          let tempString = minCosts[m + 1];\n          if (minCosts[m + 1] === Infinity) {\n            tempString = infinityStr;\n          }\n          if (!visited.has(m)) {\n            if (newCost < cost[m]) {\n              minCosts[m + 1] = (`${newCost} ${lessThanStr} ${tempString}`);\n            } else {\n              minCosts[m + 1] = (`${newCost} ${notLessThanStr} ${tempString}`);\n            }\n          }\n          \n          // findMinimum();\n          chunker.add(\n            11,\n            (vis, v, c_miniIndex, c_cV, c_m) => {\n              refresh(vis, v, c_miniIndex, c_cV, c_m);\n            },\n            [[nodes, heuristics, minCosts, parents, finalCosts], miniIndex,\n                currentVertex, m]\n          ); \n\n           if (!visited.has(m))\n            minCosts[m + 1] = cost[m];\n\n          last = [currentVertex, m];\n          \n          if (!visited.has(m) && newCost < cost[m]) {\n            // Cost[m] <- Cost[n] + weight(n,m)\n            cost[m] = newCost; \n            minCosts[m + 1] = newCost;\n            // findMinimum();\n            chunker.add(\n              12,\n              (vis, c_nodes_etc, c_miniIndex, c_cV, c_m) => {\n                refresh(vis, c_nodes_etc, c_miniIndex, c_cV, c_m);\n              },\n              [[nodes, heuristics, minCosts, parents, finalCosts], miniIndex, currentVertex, m]\n            );\n\n            // UpdateCost(Nodes,m,Cost[m])\n            findMinimum();\n            chunker.add(\n              13,\n              (vis, c_nodes_etc, c_miniIndex, c_cV, c_m) => {\n                refresh(vis, c_nodes_etc, c_miniIndex, c_cV, c_m);\n              },\n              [[nodes, heuristics, minCosts, parents, finalCosts], miniIndex, currentVertex, m]\n            );\n\n            // Parent[m] <- n\n            parents[m + 1] = currentVertex + 1;\n            const lastParent = prev[m];\n            prev[m] = currentVertex;   \n          \n            // findMinimum();\n            chunker.add(\n              14,\n              (vis, c_nodes_etc, c_miniIndex, c_prev_m, c_m, c_lastP, c_cV) => {\n\n                vis.graph.removeEdgeColor(c_cV, c_m);\n                \n                vis.graph.removeNodeColor(c_prev_m);\n                vis.graph.colorEdge(c_prev_m, c_m, colors.FRONTIER_E);\n                vis.graph.colorNode(c_prev_m, 1);\n                \n                // disconnect from the previous parent\n                if (c_lastP != null) {\n                  vis.graph.removeEdgeColor(c_lastP, c_m);\n                }\n\n                refresh(vis, c_nodes_etc, c_miniIndex, c_cV, c_m);\n              },\n              [[nodes, heuristics, minCosts, parents, finalCosts], miniIndex,\n                  prev[m], m, lastParent, currentVertex]\n            );\n          } \n        }\n      }\n    }\n  }, \n\n};\n","// XXX add support for multiple end nodes?\n// XXX see README_graph_search\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\nimport {colors} from './graphSearchColours';\n\nexport default {\n  initVisualisers() {\n    return {\n      graph: {\n        instance: new GraphTracer('graph', null, 'Graph view'),\n        order: 0,\n      },\n      array: {\n        instance: new Array2DTracer('array', null, 'Parent array, Seen array & Queue'),\n        order: 1,\n      }, \n    };\n  },\n\n  run(chunker, { edgeValueMatrix, coordsMatrix, endNodes, startNode, moveNode}) {\n\n    //Defining queue\n    function Queue() {\n      this.items = [];\n    }\n\n    // Enqueue function to add an item to the end of the queue\n    Queue.prototype.enqueue = function(item) {\n        this.items.push(item);\n    }\n\n    // Dequeue function to remove an item from the front of the queue\n    Queue.prototype.dequeue = function() {\n        if(this.isEmpty()) {\n            return null;\n        }\n        return this.items.shift();\n    }\n\n    // Helper function to check if the queue is empty\n    Queue.prototype.isEmpty = function() {\n        return this.items.length == 0;\n    }\n\n    const E = [...edgeValueMatrix];\n    const coords = [...coordsMatrix];\n    const numVertices = edgeValueMatrix.length;   \n    //The real Seen array(visited) and Parent array(parent)\n    const visited = new Array(numVertices).fill(false); \n    const parent = new Array(numVertices).fill(null);\n    const explored = new Array(numVertices).fill(false); \n\n    //The fake ones for display\n    const displayedVisited = []; \n    const displayedParent = []; \n    const displayedNodes = [];\n    const seen = [];  \n    let displayedQueue = [];\n\n    const start = startNode - 1;\n    const end = endNodes[0] - 1; \n\n    let lastNeighbor = null;\n    let n = null;\n\n    // BFS(G, s) B1\n    chunker.add(\n      1,\n      (vis, edgeArray, coordsArray) => {\n        vis.graph.directed(false);\n        vis.graph.weighted(false);\n        vis.graph.moveNodeFn(moveNode);\n        vis.graph.set(edgeArray, Array.from({ length: edgeValueMatrix.length }, (v, k) => (k + 1)), coordsArray);\n\n      },\n      [E, coords]\n    );\n\n    // initialise each element of array Parent to zero B6  \n    displayedParent.push('Parent[i]');  \n    displayedVisited.push('Seen[i]'); \n    displayedNodes.push('i');\n    for (let i = 0; i < numVertices; i += 1) {\n\n      parent[i] = null;\n\n      displayedParent.push(0); \n      displayedVisited.push(' ');  \n      displayedNodes.push(i + 1);\n    }\n    chunker.add(\n      6,\n      (vis, x) => { \n        vis.array.set(x, 'BFS');   \n      },\n      [[displayedNodes, displayedParent, displayedVisited]]\n    );\n\n    // initialise each element of Seen to  B7\n    for (let i = 0; i < numVertices; i += 1) {\n      displayedVisited[i + 1] = \"false\";  \n    }\n\n    chunker.add(\n      7,\n      (vis, x) => { \n        vis.array.set(x, 'BFS');  \n      },\n      [[displayedNodes, displayedParent, displayedVisited]]\n    );\n\n    const bfs = (s) => {\n\n      const Nodes = [s];      \n        // Seen[s] <- True B8\n        visited[s] = true;\n        displayedVisited[s+1] = \"true\";\n        explored[s] = false;\n        seen.push(s);\n\n        chunker.add(\n          8,\n          (vis, x, y) => { \n            vis.array.set(x, 'BFS');\n            vis.array.setList(y); \n            \n            // select start node in blue\n            vis.array.select(0, s + 1, 0, s + 1, colors.FRONTIER_A);\n            vis.graph.colorNode(s, colors.FRONTIER_N);\n            },\n            [[displayedNodes, displayedParent, displayedVisited], displayedQueue]\n        );       \n\n        // Nodes <- queue containing just s B9\n        //The real queue\n        //const Nodes = [s];  \n        explored[s] = true;\n        displayedQueue = [];\n        displayedQueue.push(s+1);\n        chunker.add(\n          9,\n          (vis, x, y, z, Nodes) => { \n            // Graph and array have been updated above\n\n            vis.array.setList(y);  // updated Queue\n          },\n          [[displayedNodes, displayedParent, displayedVisited], displayedQueue, explored, Nodes]\n        ); \n\n        // while Nodes not empty B2\n        // ?nice to have while true and break out of the\n        // loop after the chunk (conditionally) so when the loop exits\n        // we have an extra chunk at the start of the loop\n        // while (Nodes.length > 0)\n        /* eslint-disable no-constant-condition */\n        while (true) {\n          chunker.add(\n            2,\n            (vis, c_n, c_lastNei, c_parent, c_visited, c_Nodes) => {\n              // removes m if it exists; need to redo node selection etc\n              // for green nodes:\n              vis.array.assignVariable('m', 2, undefined); // removes m if there\n              // highlight all nodes explored in green in the array\n              // and all other seen nodes in blue in the array\n              for(let i = 0; i < c_visited.length; i++)\n              {\n                if(c_visited[i] == true)\n                  if(!c_Nodes.includes(i)) {\n                    vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);\n                  } else {\n                    // vis.array.deselect(0, i + 1);\n                    vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                  }\n              }\n\n              // remove the highlight between n\n              // and the last visited neighbor\n               if((c_n != null) && (c_lastNei != null)) {\n                  vis.graph.removeEdgeColor(c_n, c_lastNei);\n                  if((c_n != null) && (c_lastNei != null)){\n                    vis.graph.removeEdgeColor(c_n, c_lastNei);\n                    if (c_parent[c_lastNei] === c_n)\n                      vis.graph.colorEdge(c_n, c_lastNei, colors.FRONTIER_E);\n                    else if (c_parent[c_n] === c_lastNei)\n                      vis.graph.colorEdge(c_n, c_lastNei, colors.FINALISED_E);\n                  }\n                } \n            },\n            [n, lastNeighbor, parent, visited, Nodes]\n          );\n          if (!(Nodes.length > 0))\n            break;\n\n          // n <- dequeue(Nodes) B10\n          n = Nodes.shift();  \n          displayedQueue.shift();\n          chunker.add(\n            10,\n            (vis, x, c_n, z, a, b, c_parent, Nodes) => {\n              //reset\n              vis.array.set(x,'BFS');  \n              //add a string \"n\" below the currently popped out node\n              vis.array.assignVariable('n', 2, c_n + 1);\n\n              // highlight all frontier nodes\n              for (let i = 0; i < a.length; i ++){\n                if(a[i] == true && Nodes.includes(i)){\n                  vis.array.select(0,i + 1, 0, i + 1, colors.FRONTIER_A);\n                  // vis.array.select(0,i + 1, 0, i + 1, '1');\n                  \n                }\n              }\n\n              // highlight all other finalised nodes\n              for(let i = 0; i < b.length; i++)\n              { \n                if(b[i] == true && !Nodes.includes(i))\n                { \n                  vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);\n                  vis.graph.removeNodeColor(i);  \n                  vis.graph.colorNode(i, colors.FINALISED_N);\n                }\n              }\n\n              // finalise edge color to n from parent\n              if (c_parent[c_n] !== null) {\n                vis.graph.removeEdgeColor(c_n, c_parent[c_n]);\n                vis.graph.colorEdge(c_n, c_parent[c_n], colors.FINALISED_E);\n              }\n              \n              //redisplay queue\n              vis.array.setList(z);\n            },\n            [[displayedNodes, displayedParent, displayedVisited], n,\n              displayedQueue, explored, visited, parent, Nodes]\n          ); \n\n          // If is_end_node(n) B11  \n          chunker.add(\n            11  \n          );\n          if(n == end)\n          { \n            // return B3\n            chunker.add(\n              3,\n              (vis, x, y, c_parent, a, c_end) => { \n                //remove the orange highlight from the last neighbour\n                // XXX not needed?\n                if (y != null)\n                {\n                  vis.graph.removeEdgeColor(y, x); \n        \n                  // recolor in red if it has a parent\n                  if(c_parent[y] != null) \n                  {\n                    vis.graph.removeEdgeColor(c_parent[y], y);\n                    vis.graph.colorEdge(c_parent[y], y , colors.FRONTIER_E);\n                  } \n        \n                  // recolor in red if it has a child\n                  for(let i = 0; i < c_parent.length; i ++){\n                    if (c_parent[i] == y){\n                      vis.graph.removeEdgeColor(i, y);\n                      vis.graph.colorEdge(i, y, colors.FRONTIER_E);\n                    }\n                  }\n                } \n                // remove n, add start and end\n                // vis.array.set(x, 'BFS');\n                vis.array.assignVariable('n', 2, undefined);\n                vis.array.assignVariable('end', 2, c_end + 1);\n                vis.array.assignVariable('start', 2, s + 1);\n                // remove color from node numbers\n                for(let i = 0; i < c_parent.length; i++){\n                  vis.array.deselect(0, i);\n                }\n                // color the path from the start node to the end node\n                let current = c_end;\n                // + color nodes and parent array\n                while((current != a) && (c_parent[current] != null))\n                { \n                  vis.array.select(0, current + 1, 0, current + 1, colors.SUCCESS_A);\n                  vis.array.select(1, current + 1, 1, current + 1, colors.SUCCESS_A);\n                  vis.graph.removeEdgeColor(current, c_parent[current]);\n                  vis.graph.colorEdge(current, c_parent[current], colors.SUCCESS_E); \n                  current = c_parent[current];\n                }\n                // also color start node\n                vis.array.select(0, start + 1, 0, start + 1, colors.SUCCESS_A);\n              },\n              [n, lastNeighbor, parent, start, end]\n   \n            ) ;\n            return;\n          }\n\n          // for each node m neighbouring n B4\n          lastNeighbor = null;\n          for (let m = 0; m < numVertices; m++) {  \n\n            if (E[n][m] != 0) {\n\n              chunker.add(\n                4,\n                (vis, c_n, c_m, c_lastNei, c_parent, c_visited, c_Nodes) => {\n                  // remove the highlight between n\n                  // and the last visited neighbor\n                  if((c_n != null) && (c_lastNei != null)) {\n                    vis.graph.removeEdgeColor(c_n, c_lastNei); \n                    if (c_parent[c_n] === c_lastNei)\n                      vis.graph.colorEdge(c_n, c_lastNei, colors.FINALISED_E);\n                    else if (c_parent[c_lastNei] === c_n)\n                      vis.graph.colorEdge(c_n, c_lastNei, colors.FRONTIER_E);\n                  } \n\n                  //highlight the edge connecting the neighbor\n                  vis.graph.removeEdgeColor(c_n,c_m);\n                  // color 2 = orange doesn't show up well - 4 = green better?\n                  vis.graph.colorEdge(c_n, c_m, colors.N_M_E);\n\n                  // add var m; need to color elements again\n                  vis.array.assignVariable('m', 2, c_m + 1);\n                  // highlight all nodes explored in green in the array\n                  // and all other seen nodes in blue in the array\n                  for(let i = 0; i < c_visited.length; i++)\n                  {\n                    if(c_visited[i] == true)\n                      if(!c_Nodes.includes(i)) {\n                        vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);\n                      } else {\n                        // vis.array.deselect(0, i + 1);\n                        vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                      }\n                  }\n                },\n                [n, m, lastNeighbor, parent, visited, Nodes]\n              ); \n\n                  lastNeighbor = m;\n                  // If not Seen[m] B12\n                  chunker.add(\n                    12,\n                  );\n                  if (!visited[m]) { \n\n                    // Seen[m] <- True B13\n                    visited[m] = true;\n                    displayedVisited[m+1] = \"true\";\n                    explored[m] = false;\n                    seen.push(m);\n                    chunker.add(\n                      13,\n                      (vis, x, y, c_explored, c_visited, c_n, c_m, c_Nodes) => {\n                          vis.array.set(x, 'BFS');\n                          //add a string \"n\" below the currently popped out node\n                          vis.array.assignVariable('n', 2, c_n + 1);\n                          vis.array.assignVariable('m', 2, c_m + 1);\n\n                          // console.log(c_explored);\n                          // console.log(c_m);\n                          // highlight all nodes explored in green in the array\n                          // and all other seen nodes in blue in the array\n                          // Pretend m is in Nodes for colouring purposes\n                          // (it's about to be added)\n                          for(let i = 0; i < c_visited.length; i++)\n                          {\n                            if(c_visited[i] == true)\n                              if(!(c_Nodes.includes(i) || i === c_m)) {\n                                vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);\n                              } else {\n                                // vis.array.deselect(0, i + 1);\n                                vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                              }\n                          }\n                          vis.array.setList(y);\n\n                          // color the graph node in blue as seen\n                          vis.graph.removeNodeColor(c_m);\n                          vis.graph.colorNode(c_m, colors.FRONTIER_N);\n                      },\n\n                      [[displayedNodes, displayedParent, displayedVisited], displayedQueue, explored, visited, n, m, Nodes]\n                    );\n\n                    // Parent[m] <- n B14 \n                    let lastParent = parent[m];\n                    parent[m] = n;\n                    displayedParent[m + 1] = n + 1;\n                    chunker.add(\n                      14,\n                      (vis, x, y, z, a, b, c, d, Nodes) => { \n                          vis.array.set(x, 'BFS');\n                          //add a string \"n\" below the currently popped out node\n                          vis.array.assignVariable('n', 2, b + 1);\n                          vis.array.assignVariable('m', 2, c + 1);\n\n                          // console.log(z);\n                          // console.log(c);\n                          // highlight all nodes explored in green in the array\n                          // and all other seen nodes in blue in the array\n                          for(let i = 0; i < a.length; i++)\n                          {\n                            if(z[i] == true || i === c)\n                              if(i !==c && !Nodes.includes(i)) {\n                                vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);\n                              } else {\n                                // vis.array.deselect(0, i + 1);\n                                vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                              }\n                          }\n                          vis.array.setList(y);\n                        \n                        //remove the highlight from this neighbour to its last parent\n                        vis.graph.removeEdgeColor(d, c);\n\n                        //highlight the edge from n to this neighbor in red\n                        vis.graph.removeEdgeColor(b, c);\n                        vis.graph.colorEdge(b, c, colors.FRONTIER_E);\n                        \n                        \n                        // vis.array.set(x, 'BFS');\n                        vis.array.setList(x); \n                        vis.array.setList(y); \n                      },\n                      [[displayedNodes, displayedParent, displayedVisited], displayedQueue, explored, visited, n, m, lastParent, Nodes]\n                    );   \n      \n                      // enqueue(Nodes,m) B15\n                      Nodes.push(m); \n                      displayedQueue.push(m + 1);  \n                      explored[m] = true;\n                      chunker.add(\n                        15,\n                        (vis, x, y, z, Nodes) => {\n                          vis.array.setList(x);\n                          \n                          // color the node in green as explored \n                          // if it has not been seen\n                          if(y[z] == false && Nodes.includes(z)){\n                            vis.array.deselect(0, z + 1);\n                            vis.array.select(0, z + 1, 0, z + 1, colors.FINALISED_A); \n                            //vis.graph.removeNodeColor(z);\n                            //vis.graph.colorNode(z, 4);\n                          }\n                          \n                        },\n                        [displayedQueue, visited, m, Nodes]\n                      );\n                  }\n              }\n          }\n        }\n        // no path found\n        //return B5\n          chunker.add(\n            5,\n            (vis, c_n, c_lastNei, c_parent, c_visited, c_Nodes) => {\n              // We don't actually need to do anything here if we have a\n              // chunk before breaking out of the outer while loop, but\n              // it does no harm and we need to fix one edge color at\n              // least if we don't use the break coding.\n              //\n              // removes m if it exists; need to redo node selection etc\n              // for green nodes:\n              vis.array.assignVariable('m', 2, undefined); // removes m if there\n              vis.array.assignVariable('n', 2, undefined); // removes n\n              // highlight all nodes explored in green in the array\n              // and all other seen nodes in blue in the array\n              for(let i = 0; i < c_visited.length; i++)\n              {\n                if(c_visited[i] == true)\n                  if(!c_Nodes.includes(i)) {\n                    vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);\n                  } else {\n                    // vis.array.deselect(0, i + 1);\n                    vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                  }\n              }\n\n              // remove the highlight between n\n              // and the last visited neighbor (XXX not needed?)\n               if((c_n != null) && (c_lastNei != null)) {\n                  vis.graph.removeEdgeColor(c_n, c_lastNei);\n                  if((c_n != null) && (c_lastNei != null)){\n                    vis.graph.removeEdgeColor(c_n, c_lastNei);\n                    if (c_parent[c_lastNei] === c_n)\n                      vis.graph.colorEdge(c_n, c_lastNei, colors.FRONTIER_E);\n                    else if (c_parent[c_n] === c_lastNei)\n                      vis.graph.colorEdge(c_n, c_lastNei, colors.FINALISED_E);\n                  }\n                } \n            },\n            [n, lastNeighbor, parent, visited, Nodes]\n          );\n    }; // End of bfs    \n\n    bfs(start);\n  }\n};\n","// XXX add support for multiple end nodes?\n// XXX see README_graph_search - this code is a nightmare to maintain\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\nimport {colors} from './graphSearchColours';\n\nexport default {\n\n  initVisualisers() {\n    return {\n      graph: {\n        instance: new GraphTracer('graph', null, 'Graph view'),\n        order: 0,\n      },\n      array: {\n        instance: new Array2DTracer('array', null, 'Parent array, Finalized array & Stack'),\n        order: 1,\n      }, \n      \n\n    };\n  },\n\n  run(chunker, { edgeValueMatrix, coordsMatrix, endNodes, startNode, moveNode}) {\n\n    const E = [...edgeValueMatrix];\n    const coords = [...coordsMatrix];\n    const numVertices = edgeValueMatrix.length;   \n    //The real Finalised array(visited) and Parent array(parent)\n    const visited = new Array(numVertices).fill(false); \n    const parent = new Array(numVertices).fill(null);\n    const explored = new Array(numVertices).fill(false); \n    \n    //The fake ones for display\n    const displayedVisited = []; \n    const displayedParent = []; \n    const displayedNodes = []; \n    let displayedStack = [];  \n\n    \n    const start = startNode - 1;\n    const end = endNodes[0] - 1; \n\n    let lastNeighbor = null;\n    let n = null;\n\n    // DFS(G, s) B1\n    chunker.add(\n      1,\n      (vis, edgeArray, coordsArray) => {\n        vis.graph.directed(false);\n        vis.graph.weighted(false);\n        vis.graph.moveNodeFn(moveNode);\n        vis.graph.set(edgeArray, Array.from({ length: edgeValueMatrix.length }, (v, k) => (k + 1)), coordsArray);\n        \n      },\n      [E, coords]\n    );  \n    \n\n    // initialise each element of array Parent to zero B6  \n    displayedParent.push('Parent[i]');  \n    displayedVisited.push('Finalised[i]'); \n    displayedNodes.push('i');\n    for (let i = 0; i < numVertices; i += 1) {\n\n      parent[i] = null;\n\n      displayedParent.push(0); \n      displayedVisited.push(' ');  \n      displayedNodes.push(i + 1);\n    }\n    chunker.add(\n      6,\n      (vis, x) => { \n        vis.array.set(x, 'DFS');   \n        \n      },\n      [[displayedNodes, displayedParent, displayedVisited]]\n    ); \n\n    // initialise each element of Finalised to  B7\n    for (let i = 0; i < numVertices; i += 1) {\n      displayedVisited[i + 1] = \"false\";  \n\n    }  \n\n    chunker.add(\n      7,\n      (vis, x) => { \n        vis.array.set(x, 'DFS');  \n      },\n      [[displayedNodes, displayedParent, displayedVisited]]\n    ); \n\n\n    \n    const dfs = (s) => {\n        // Nodes <- stack containing just s B8\n        //The real stack\n        const Nodes = [s];  \n        displayedStack = Nodes.toReversed().map(i => i+1);\n        explored[s] = true;\n        chunker.add(\n          8,\n          (vis, x, y, z) => { \n            \n            vis.array.set(x, 'DFS');  \n            vis.array.setList(y);  \n\n            // select start node in blue\n            vis.array.select(0, s + 1, 0, s + 1, colors.FRONTIER_A);\n            vis.graph.colorNode(s, colors.FRONTIER_N);\n          },\n          [[displayedNodes, displayedParent, displayedVisited], displayedStack, explored]\n        );  \n\n\n        // while Nodes not empty B2\n        // ?nice to have while true and break out of the\n        // loop after the chunk (conditionally) so when the loop exits\n        // we have an extra chunk at the start of the loop\n        // while (Nodes.length > 0)\n        /* eslint-disable no-constant-condition */\n        while (true) {\n            chunker.add(\n              2,\n              (vis, c_n, c_lastNei, c_parent, c_visited, c_explored) => {\n                // removes m if it exists; need to redo colors\n                // for green nodes:\n                vis.array.assignVariable('m', 2, undefined); // removes m if there\n                //highlight all nodes explored in blue \n                //\n                for (let i = 0; i < c_explored.length; i ++){\n                  if(c_explored[i] == true){\n                    vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                    \n                  }\n                }\n                //highlight all finalized nodes in green\n                for(let i = 0; i < c_visited.length; i++)\n                { \n                  if(c_visited[i] == true)\n                  { \n                    //vis.array.deselect(0, i + 1);\n                    vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);\n                  }\n                }  \n\n                // remove the highlight between n\n                // and the last visited neighbor\n                if((c_n != null) && (c_lastNei != null)) {\n                  vis.graph.removeEdgeColor(c_n, c_lastNei);  \n                  if((c_n != null) && (c_lastNei != null)){\n                    vis.graph.removeEdgeColor(c_n, c_lastNei);  \n                    if (c_parent[c_lastNei] === c_n)\n                      vis.graph.colorEdge(c_n, c_lastNei, colors.FRONTIER_E);\n                    else if (c_parent[c_n] === c_lastNei)\n                      vis.graph.colorEdge(c_n, c_lastNei, colors.FINALISED_E);\n                  } \n                } \n              },\n              [n, lastNeighbor, parent, visited, explored]\n              \n              );\n            if (!(Nodes.length > 0))\n              break;\n\n            // n <- pop(Nodes) B9\n            n = Nodes.pop();  \n            displayedStack = Nodes.toReversed().map(i => i+1);\n            chunker.add(\n              9,\n              (vis, x, y, c_explored, c_visited, c_n) => {\n                vis.array.set(x, 'DFS'); \n                \n                //add a string \"n\" below the currently popped out node\n                vis.array.assignVariable('n', 2, c_n + 1); \n\n                //highlight all nodes explored in blue \n                //\n                for (let i = 0; i < c_explored.length; i ++){\n                  if(c_explored[i] == true){\n                    vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                    \n                  }\n                }\n\n                //highlight all finalized nodes in green\n                for(let i = 0; i < c_visited.length; i++)\n                { \n                  if(c_visited[i] == true)\n                  { \n                    //vis.array.deselect(0, i + 1);\n                    vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);\n                  }\n                }  \n\n                vis.array.setList(y); \n              },\n              [[displayedNodes, displayedParent, displayedVisited], displayedStack, explored, visited, n]\n            );  \n\n\n\n            // While Finalised[n] B10 \n            chunker.add(10);\n            while (visited[n]) { \n\n                chunker.add(11);\n                // If Node is empty B11\n                if (Nodes.length === 0) {\n                    // Return B12\n                    chunker.add(\n                      12,\n                      (vis, x, a, b) => { \n\n                        vis.array.set(x, 'DFS');\n                        // remove 'n'\n                        vis.array.assignVariable('n', 2, undefined); \n\n                        //highlight all finalized nodes in green in the array\n                        for(let i = 0; i < a.length; i++)\n                        { \n                          if(a[i] == true)\n                          { \n                            vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);  \n                          }\n                        }  \n                      },\n                      [[displayedNodes, displayedParent, displayedVisited], visited]\n                    );\n                    return;\n                }\n                // n <- pop(Nodes) B13\n                n = Nodes.pop();  \n                displayedStack = Nodes.toReversed().map(i => i+1);\n                chunker.add(\n                  13,\n                  (vis, x, c_n, z, a, b) => { \n                    //reset\n                    vis.array.set(x,'DFS');  \n                    //add a string \"n\" below the currently popped out node\n                    vis.array.assignVariable('n', 2, c_n + 1);  \n                    \n                    //highlight all nodes explored in blue \n                    //\n                    for (let i = 0; i < a.length; i ++){\n                      if(a[i] == true){\n                        vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                        \n                      }\n                    }\n\n                    //highlight all finalized nodes in green\n                    for(let i = 0; i < b.length; i++)\n                    { \n                      if(b[i] == true)\n                      { \n                        vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);  \n                      }\n                    }                   \n                    \n                    //redisplay stack\n                    vis.array.setList(z);\n                  },\n                  [[displayedNodes, displayedParent, displayedVisited], n, displayedStack, explored, visited]\n                ); \n\n\n            }\n            // Finalised[n] <- True B14\n            visited[n] = true;  \n            displayedVisited[n + 1] = \"true\";   \n            explored[n] = false;\n            chunker.add(\n              14,\n              (vis, x, y, z, a, c_n, c_parent) => { \n                vis.array.set(x, 'DFS');\n                //add a string \"n\" below the currently popped out node\n                vis.array.assignVariable('n', 2, c_n + 1); \n\n                //highlight all nodes explored in blue in the array\n                //\n                for (let i = 0; i < z.length; i ++){\n                  if(z[i] == true){\n                    vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                    //vis.graph.colorNode(i, 4);\n                  }\n                }\n\n                //highlight all finalized nodes in green in the array\n                for(let i = 0; i < a.length; i++)\n                { \n                  if(a[i] == true)\n                  { \n                    vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);  \n                  }\n                }  \n\n                //changed the finalized node's highlight color to green in the graph\n                vis.graph.removeNodeColor(c_n); \n                vis.graph.colorNode(c_n, 1);\n                // finalise edge color to n from parent\n                if (c_parent[c_n] !== null) {\n                  vis.graph.removeEdgeColor(c_n, c_parent[c_n]);\n                  vis.graph.colorEdge(c_n, c_parent[c_n], colors.FINALISED_E);\n                }\n                \n                vis.array.setList(y); \n              },\n              [[displayedNodes, displayedParent, displayedVisited],\ndisplayedStack, explored, visited, n, parent]\n            );\n\n\n\n            // If is_end_node(n) B15   \n            \n\n            chunker.add(\n              15  \n            );\n            if(n == end)\n              // End node found!\n            { \n              chunker.add(\n                3,\n                (vis, x, y, c_parent, a, c_end) => { \n                  // remove n, add start and end\n                  // vis.array.set(x, 'BFS');\n                  vis.array.assignVariable('n', 2, undefined);\n                  vis.array.assignVariable('end', 2, c_end + 1);\n                  vis.array.assignVariable('start', 2, s + 1);\n                  // remove color from node numbers\n                  for(let i = 0; i < c_parent.length; i++){\n                    vis.array.deselect(0, i);\n                  }\n                  // color the path from the start node to the end node\n                  let current = c_end;\n                  // + color nodes and parent array\n                  while((current != a) && (c_parent[current] != null))\n                  {\n                    vis.array.select(0, current + 1, 0, current + 1, colors.SUCCESS_A);\n                    vis.array.select(1, current + 1, 1, current + 1, colors.SUCCESS_A);\n                    vis.graph.removeEdgeColor(current, c_parent[current]);\n                    vis.graph.colorEdge(current, c_parent[current], colors.SUCCESS_E);\n                    current = c_parent[current];\n                  }\n                  // color start node\n                  vis.array.select(0, start + 1, 0, start + 1, colors.SUCCESS_A);\n                },\n                [n, lastNeighbor, parent, start, end]\n              );\n              // return B3\n              return;\n            }\n            // NOTE: Assuming there's a function is_end_node to check for an end condition, or you can define your own condition here\n            // if (is_end_node(n)) {\n            //     return;\n            // }\n            // for each node m neighbouring n B4\n            lastNeighbor = null;\n            for (let m = 0; m < numVertices; m++) {  \n              \n              if (E[n][m] != 0) {\n\n                    chunker.add(\n                      4,\n                      (vis, c_n, c_m, c_lastNei, c_parent, c_visited, c_explored) => {\n                        // remove the highlight between n\n                        // and the last visited neighbor\n                        if((c_n != null) && (c_lastNei != null)) {\n                          vis.graph.removeEdgeColor(c_n, c_lastNei);  \n                          if (c_parent[c_lastNei] === c_n)\n                            vis.graph.colorEdge(c_n, c_lastNei, colors.FRONTIER_E);\n                          else if (c_parent[c_n] === c_lastNei)\n                            vis.graph.colorEdge(c_n, c_lastNei, colors.FINALISED_E);\n                        } \n\n                        //highlight the edge connecting the neighbor\n                        vis.graph.removeEdgeColor(c_n,c_m);\n                        vis.graph.colorEdge(c_n, c_m, 2);\n                        vis.graph.colorEdge(c_n, c_m, colors.N_M_E);\n\n                        // add var m; need to color elements again\n                        vis.array.assignVariable('m', 2, c_m + 1);\n                        //highlight all nodes explored in blue \n                        //\n                        for (let i = 0; i < c_explored.length; i ++){\n                          if(c_explored[i] == true){\n                            vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                            \n                          }\n                        }\n                        //highlight all finalized nodes in green\n                        for(let i = 0; i < c_visited.length; i++)\n                        { \n                          if(c_visited[i] == true)\n                          { \n                            //vis.array.deselect(0, i + 1);\n                            vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);\n                          }\n                        }  \n\n                      },\n                      [n, m, lastNeighbor, parent, visited, explored]\n                    ); \n\n                    lastNeighbor = m;\n                    // If not Finalised[m] B16\n                    chunker.add(\n                      16,\n                    );\n                    if (!visited[m]) { \n                       \n                        // Parent[m] <- n B17 \n                      let lastParent = parent[m];\n                      parent[m] = n;\n                      displayedParent[m + 1] = n + 1;   \n                      chunker.add(\n                        17,\n                        (vis, x, y, z, a, b, c_m, d) => { \n                          vis.array.set(x, 'DFS');\n                          //add a string \"n\" below the currently popped out node\n                          vis.array.assignVariable('n', 2, b + 1); \n                          vis.array.assignVariable('m', 2, c_m + 1);\n          \n                          //highlight all nodes explored in blue in the array\n                          //\n                          for (let i = 0; i < z.length; i ++){\n                            if(z[i] == true){\n                              vis.array.select(0, i + 1, 0, i + 1, colors.FRONTIER_A);\n                              //vis.graph.colorNode(i, 4);\n                            }\n                          }\n          \n                          //highlight all finalized nodes in green in the array\n                          for(let i = 0; i < a.length; i++)\n                          { \n                            if(a[i] == true)\n                            { \n                              vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);  \n                            }\n                          }  \n                          \n                          //remove the highlight from this neighbour to its last parent\n                          vis.graph.removeEdgeColor(d, c_m);\n\n                          //highlight the edge from n to this neighbor\n                          vis.graph.removeEdgeColor(b, c_m);\n                          vis.graph.colorEdge(b, c_m, colors.FRONTIER_E);\n                          // change color of this neighbor\n                          vis.array.deselect(0, c_m + 1);\n                          vis.array.select(0, c_m + 1, 0, c_m + 1, colors.FRONTIER_A);\n                          vis.graph.removeNodeColor(c_m);\n                          vis.graph.colorNode(c_m, colors.FRONTIER_E);\n                          \n                          \n                          vis.array.setList(y); \n                        },\n                        [[displayedNodes, displayedParent, displayedVisited], displayedStack, explored, visited, n, m, lastParent]\n                      );\n\n\n\n\n                        // Parent[m] = n;\n                        // push(Nodes,m) B18\n                        Nodes.push(m); \n                        displayedStack = Nodes.toReversed().map(i =>\ni+1);\n                        explored[m] = true;\n                        chunker.add(\n                          18,\n                          (vis, x, y, z) => {\n                            vis.array.setList(x);\n                          },\n                          [displayedStack, visited, m]\n                        );\n\n                    }\n                }\n            }\n        }\n        //return B5\n        chunker.add(\n          5,\n          (vis, x, a, b) => { \n\n            vis.array.set(x, 'DFS');\n            // remove 'n'\n            vis.array.assignVariable('n', 2, undefined); \n\n            //highlight all finalized nodes in green in the array\n            for(let i = 0; i < a.length; i++)\n            { \n              if(a[i] == true)\n              { \n                vis.array.select(0, i + 1, 0, i + 1, colors.FINALISED_A);  \n              }\n            }  \n          },\n          [[displayedNodes, displayedParent, displayedVisited], visited]\n        );\n    };\n    /*\n    for (let i = 0; i < numVertices; i++) {\n        // If not Finalised[m]\n        if (!visited[i]) {\n            dfs(i);\n        }\n    }*/ \n\n    dfs(start); \n   \n  }\n\n  \n};\n","// DFS, recursive version. Should do the same thing as iterative version\n// but code is simpler and has different structure of course.\n// XXX iterative version ends up with fewer \"fontier\" edges because if\n// you add the node to the frontier again, the previous edge reverts - that\n// should probably be changed??  Not sure about BFS etc\n// Copied and modified from dijkstra.js (nicer code than DFS)\n// Might be some leftover bit from dijkstra.js that could be cleaned up\n// further.\n// XXX add support for multiple end nodes\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\nimport {colors} from './graphSearchColours';\n\nexport default {\n  initVisualisers() {\n    return {\n      graph: {\n        instance: new GraphTracer('graph', null, 'Graph view'),\n        order: 0,\n      },\n      array: {\n        instance: new Array2DTracer('array', null, 'Parent array'),\n        order: 1,\n      },\n    };\n  },\n\n  run(chunker, { edgeValueMatrix, coordsMatrix, startNode, endNodes, moveNode}) {\n    // String Variables used in displaying algo\n    const algNameStr = 'DFSrec';\n    const nStr = 'n';\n    const mStr = 'm';\n\n    const E = [...edgeValueMatrix];\n    const coords = [...coordsMatrix];\n    const numVertices = edgeValueMatrix.length;\n    const unassigned = ' '; // unassigned parent\n    const parents = []; // parent of each node; initially unassigned\n    const seen = []; // neighbours of finalised node\n    const nodes = [];  \n    const start = startNode - 1; \n    const end = endNodes[0] - 1;\n\n    // Display has table [nodes, parents, seen]\n    // and display code indexes into this table; we define the indices here\n    // Seen is hidden from display but included due to quirk with\n    // assignVariable - see XXX comments later\n    const NODE = 0;\n    const PAR = 1;\n    const SEEN = 2;\n    \n    // initialize each element of array Cost to infinity\n    const stack = [];  // call stack for display\n\n    // refresh display.  Ideally one would think we could do incremental\n    // changes but there are all kinds of subtelties like what triggers\n    // re-rendering, some selected colors vanishing with some apparently\n    // unrelated operations, etc.  For sanity, and to avoid code thats\n    // duplicated countless times, we put lots of it here. And we name\n    // the parameters something more readable than x,y,z,z1,a,b,c etc...\n    // c_nodes_etc: 2D array with node number, parents, seen\n    // c_n: current node n\n    // c_m: m (neighbour of m)\n    // c_stk call stack\n    const refresh = (vis, c_nodes_etc, c_n, c_m, c_stk) => {\n      vis.array.set(c_nodes_etc, algNameStr);\n      vis.array.hideArrayAtIndex(2); // HACK - see above\n      vis.array.setList(c_stk);\n      // set n, m as required\n      vis.array.assignVariable(nStr, 2, c_n);\n      vis.array.assignVariable(mStr, 2, c_m);\n\n      // highlight nodes as finalised/frontier in array\n      for (let i = 0; i < numVertices; i++) {\n        if (c_nodes_etc[PAR][i+1] !== unassigned) {\n          vis.array.select(NODE, i + 1, NODE, i + 1, colors.FINALISED_A);\n          vis.graph.removeNodeColor(i);\n          vis.graph.colorNode(i, colors.FINALISED_N);\n        } else if (c_nodes_etc[SEEN][i+1]) {\n          vis.array.select(NODE, i + 1, NODE, i + 1, colors.FRONTIER_A);\n          vis.graph.removeNodeColor(i);\n          vis.graph.colorNode(i, colors.FRONTIER_N);\n        }\n      }\n    }\n\n    // core recursive function - need recursion depth for chunker\n    const dfs1 = (n, p, rec_depth) => {\n\n      stack.unshift('('+n+','+p+')');\n      chunker.add(\n        'dfs1',\n        (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n          refresh(vis, c_nodes_etc, c_n, null, c_stack);\n        },\n        [[nodes, parents, seen],\n            n, null, stack], rec_depth\n      );\n      chunker.add(\n        'check_parent',\n        // need parent p here\n        (vis, c_nodes_etc, c_n, c_m, c_stack, c_p) => {\n          refresh(vis, c_nodes_etc, c_n, null, c_stack);\n          // if p !== 0 the n-p has been highlighted in the for loop\n          if (c_p !== 0) {\n            // set edge to finalised if parent unassigned or it was\n            // previously finalised, otherwise back to frontier\n            if (c_nodes_etc[PAR][c_n] === unassigned ||\n                c_nodes_etc[PAR][c_n] === c_p ||\n                c_nodes_etc[PAR][c_p] === c_n) {\n              // console.log(['finalised Edge', c_n, c_p]);\n              vis.graph.removeEdgeColor(c_p-1, c_n-1);\n              vis.graph.colorEdge(c_p-1, c_n-1, colors.FINALISED_E);\n            } else { // reset to frontier\n              // console.log(['Still frontier edge', c_n, c_p]);\n              vis.graph.removeEdgeColor(c_p-1, c_n-1);\n              vis.graph.colorEdge(c_p-1, c_n-1, colors.FRONTIER_E);\n            }\n          }\n        },\n        [[nodes, parents, seen],\n            n, null, stack, p], rec_depth\n      );\n      if (parents[n] === unassigned) {\n        parents[n] = p;\n        chunker.add(\n          'assign_parent',\n          (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n            refresh(vis, c_nodes_etc, c_n, null, c_stack);\n          },\n          [[nodes, parents, seen],\n              n, null, stack], rec_depth\n        );\n        chunker.add(\n          'check_end',\n          (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n            refresh(vis, c_nodes_etc, c_n, null, c_stack);\n          },\n          [[nodes, parents, seen],\n              n, 0, stack], rec_depth\n        );\n        if (n === end+1) {\n          chunker.add(\n            'found',\n            (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n              refresh(vis, c_nodes_etc, c_n, null, c_stack);\n            },\n            [[nodes, parents, seen],\n                n, null, stack], rec_depth\n          );\n          stack.shift();\n          return true;\n        }\n        // set all neighbours as seen - they are in the continuation\n        for (let m = numVertices; m > 0; m--) {\n          if (edgeValueMatrix[n-1][m-1] !== 0) {\n           seen[m] = true;\n          }\n        }\n        chunker.add(\n          'frontier',\n          (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n            refresh(vis, c_nodes_etc, c_n, null, c_stack);\n            // real m defined in this for loop; c_m is junk\n            for (let m = numVertices; m > 0; m--) {\n              if (edgeValueMatrix[c_n-1][m-1] !== 0 &&\n                  c_nodes_etc[PAR][c_n] !== m &&\n                  c_nodes_etc[PAR][m] !== c_n) {\n                vis.graph.colorEdge(c_n-1, m-1, colors.FRONTIER_E);\n                vis.graph.removeNodeColor(c_n-1);\n                vis.graph.colorNode(c_n-1, colors.FINALISED_N);\n              }\n            }\n          },\n          [[nodes, parents, seen],\n              n, null, stack], rec_depth\n        );\n        // for each node m neighbouring n\n        // (in reverse order so we get same traversal order as\n        // iterative version)\n        for (let m = numVertices; m > 0; m--) {\n          if (edgeValueMatrix[n-1][m-1] !== 0) {\n            chunker.add(\n              'neighbours',\n              (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n                refresh(vis, c_nodes_etc, c_n, c_m, c_stack);\n                // highlight edge we are dealing with\n                vis.graph.removeEdgeColor(c_m-1, c_n-1);\n                vis.graph.colorEdge(c_m-1, c_n-1, colors.N_M_E);\n              },\n              [[nodes, parents, seen],\n                  n, m, stack], rec_depth\n            );\n            chunker.add(\n              'rec_dfs1',\n              (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n                refresh(vis, c_nodes_etc, c_n, c_m, c_stack);\n              },\n              [[nodes, parents, seen],\n                  n, m, stack], rec_depth\n            );\n            let result = dfs1(m, n, rec_depth+1);\n            chunker.add(\n              'rec_dfs1_done',\n              (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n                refresh(vis, c_nodes_etc, c_n, c_m, c_stack);\n              },\n              [[nodes, parents, seen],\n                  n, m, stack], rec_depth\n            );\n           \n            if (result) {\n              chunker.add(\n                'rec_found',\n                (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n                  refresh(vis, c_nodes_etc, c_n, c_m, c_stack);\n                },\n                [[nodes, parents, seen],\n                    n, m, stack], rec_depth\n              );\n              stack.shift();\n              return true;\n            }\n          }\n        }\n      }\n      chunker.add('not_found',\n        (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n          refresh(vis, c_nodes_etc, c_n, null, c_stack);\n        },\n        [[nodes, parents, seen],\n            n, null, stack], rec_depth\n      );\n      stack.shift();\n      return false;\n    };\n\n\n    chunker.add(\n      'start',\n      (vis, edgeArray, coordsArray) => {\n        vis.graph.directed(false);\n        vis.graph.weighted(false);\n        vis.graph.moveNodeFn(moveNode);\n        vis.graph.set(edgeArray, Array.from({ length: numVertices }, (v, k) => (k + 1)),coordsArray);\n      },\n      [E, coords], 0\n    );\n\n    // Initialize the table\n    nodes.push('i');\n    parents.push('Parent[i]');\n    seen.push('Seen[i]'); // not actually displayed\n    for (let i = 0; i < numVertices; i += 1) {\n      nodes[i + 1] = i + 1;\n      seen.push(false); \n      parents.push(unassigned); \n    }\n\n    seen[startNode] = true; // moved before init\n    chunker.add(\n      'init',\n      (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n        refresh(vis, c_nodes_etc, c_n, null, c_stack);\n      },\n      [[nodes, parents, seen],\n          startNode, null, stack], 0\n    );\n\n//  Previously a separate line\n//  seen[startNode] = true; // moved before init\n//  chunker.add(\n//    'frontier_s',\n//    (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n//      refresh(vis, c_nodes_etc, c_n, null, c_stack);\n//    },\n//    [[nodes, parents, seen],\n//        startNode, null, stack], 0\n//  );\n\n    let result = dfs1(startNode, 0, 0);\n    chunker.add(\n      'top_call',\n      (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n        refresh(vis, c_nodes_etc, c_n, null, c_stack);\n      },\n      [[nodes, parents, seen],\n          null, null, stack], 0\n    );\n    if (result) {\n      chunker.add(\n        'finish',\n         (vis, c_nodes_etc) => {\n           // XXX HACK\n           // For some reason, assignVariable only seems to display variables\n           // for row 2, and we only want to display row 0 (i) and 1\n           // (Parent[i]), so we also add Seen[i] as row two but hide it using\n           // vis.array.hideArrayAtIndex(2)\n           // remove n, add start and end\n           vis.array.set(c_nodes_etc, algNameStr);\n           vis.array.hideArrayAtIndex(2); // HACK - see above\n           vis.array.setList([]);  // remove call stack\n           vis.array.assignVariable('end', 2, end + 1);\n           vis.array.assignVariable('start', 2, start + 1);\n           // vis.array.assignVariable('n', 2, null);\n           // remove color from node numbers\n           // (done by vis.array.assignVariable, it seems):\n           // for(let i = 0; i < c_nodes_etc[NODE].length; i++){\n             // vis.array.deselect(0, i);\n           // }\n\n           // color the path from the start node to the end node\n           // + color nodes and parent array\n           let current = end;\n           let next = 0;\n           while((current != start) && (c_nodes_etc[PAR][current+1] != null))\n           { \n             next = c_nodes_etc[PAR][current+1]-1;\n             vis.array.select(NODE, current + 1, NODE, current + 1, colors.SUCCESS_A);\n             vis.array.select(PAR, current + 1, PAR, current + 1, colors.SUCCESS_A);\n             vis.graph.removeEdgeColor(current, next);\n             vis.graph.colorEdge(current, next, colors.SUCCESS_E);\n             current = next;\n           }\n           // also colour start node in array + final cost for end\n           vis.array.select(NODE, start + 1, NODE, start + 1, colors.SUCCESS_A);\n           // vis.array.select(FCOST, end + 1, FCOST, end + 1, colors.SUCCESS_A);\n        },\n        [[nodes, parents, seen], seen], 0\n      )\n    } else {\n      chunker.add(\n        'finish',\n        (vis, c_nodes_etc, c_n, c_m, c_stack) => {\n          refresh(vis, c_nodes_etc, c_n, null, c_stack);\n        },\n        [[nodes, parents, seen],\n            null, null, stack], 0\n      )\n    }\n  }\n  , \n\n};\n","/* eslint-disable brace-style */\n/* eslint-disable no-plusplus */\n/* eslint-disable comma-dangle */\n/* eslint-disable no-trailing-spaces */\n/* eslint-disable no-multi-spaces,indent,prefer-destructuring */\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\n\n// merge test \n\nexport default {\n  initVisualisers() {\n    return {\n      graph: {\n        instance: new GraphTracer('graph', null, 'Graph view', { displayAxis : false }),\n        order: 0,\n      },\n      array: {\n        instance: new Array2DTracer('array', null, 'Parent array & Priority Queue'),\n        order: 1,\n      },\n    };\n  },\n\n  /**\n   *\n   * @param {object} chunker\n   * @param {array} nodes array of numbers needs to be sorted\n   * \n   */\n  run(chunker, { edgeValueMatrix, coordsMatrix, startNode }) {\n\n    const E = [...edgeValueMatrix];\n    const coords = [...coordsMatrix];  // Potentially empty.\n    const numVertices = edgeValueMatrix.length;\n\n    let weight = new Array(numVertices);\n    for (let i = 0; i < weight.length; i += 1) {\n      weight[i] = new Array(numVertices);\n    }\n\n    const cost = new Array(numVertices);\n    const pending = new Array(numVertices);\n    const prev = new Array(numVertices);\n    const pq = new Array(numVertices);\n    const pqDisplay = [];\n    const prevDisplay = new Array(numVertices).fill('');\n    let pqStart;\n    let n;\n    let miniIndex;\n    let prevIndex;\n    const closed = [];\n    const pqCost = [];\n    const prevNode = [];\n    // XXX add finalCost array + compute total cost at end?\n\n    chunker.add(\n      1,\n      (vis, edgeArray, coordsArray) => {\n        vis.graph.directed(false);\n        vis.graph.weighted(true);\n        vis.graph.set(edgeArray, Array.from({ length: numVertices }, (v, k) => (k + 1)), coordsArray);\n      },\n      [E, coords]\n    );\n\n    const PqSort = () => {\n      let i;\n      let j;\n      let v;\n      for (i = pqStart; i < n; i += 1) {\n        v = pq[i];\n        for (j = i - 1; j >= pqStart && cost[v] < cost[pq[j]]; j -= 1) {\n          pq[j + 1] = pq[j];\n        }\n        pq[j + 1] = v;\n      }\n    };\n    /*\n    * find minimum function would loop the pq cost and point to the minimum element\n    * */\n    const findMinimum = () => {\n        let tmp = Infinity;\n      // eslint-disable-next-line no-unused-vars\n        for (let c = 1; c < pqCost.length; c++) {\n          if (pqCost[c] != null && pqCost[c] < tmp) {\n            tmp = pqCost[c];\n            miniIndex = c;\n          }\n        }\n    };\n\n    const PqUpdate = (i) => {\n      chunker.add(5);\n      let j;\n      let w;\n      let preIndex;\n      for (j = 0; j < n; j += 1) {\n        w = weight[i][j];\n        if (w > 0 && !prev.includes(j) && pqStart < n && !closed.includes(j)) {\n          chunker.add(\n            5,\n            (vis, n1, n2) => {\n              vis.graph.visit0(n1, n2);\n            },\n            [i, j]\n          );\n        }\n        /*\n        * this function would compared the new cost with the pq cost and update the pq cost\n        * */\n        if (w > 0 && pending[j] && w < cost[j]) {\n          // show the comparison between weight(i,j) and cost[j]\n          cost[j] = w;\n          if (pqCost[j + 1] === Infinity) {\n            pqCost[j + 1] = `${cost[j].toString()}<`;\n          } else if (cost[j] !== null && pqCost[j + 1] != null) {\n            pqCost[j + 1] = `${cost[j].toString()}<${pqCost[j + 1].toString()}`;\n          }\n          chunker.add(\n              6,\n              (vis, v, u) => {\n                vis.array.set(v, 'prim');\n                if (v[2][u] != null) {\n                  vis.array.select(2, u);\n                  vis.array.assignVariable('Min', 2, u);\n                }\n              },\n              [[pqDisplay, prevNode, pqCost], miniIndex]\n          );\n          \n          // update cost[j]\n          pqCost[j + 1] = cost[j];\n          chunker.add(\n              7,\n              (vis, v, u) => {\n                vis.array.set(v, 'prim');\n                if (v[2][u] != null) {\n                  vis.array.select(2, u);\n                  vis.array.assignVariable('Min', 2, u);\n                }\n              },\n              [[pqDisplay, prevNode, pqCost], miniIndex]\n          );\n\n          // show the process of updating PQ\n          PqSort();\n          prev[j] = i;\n          preIndex = miniIndex;\n          findMinimum();\n          chunker.add(\n            8,\n            // eslint-disable-next-line no-shadow\n            (vis, u, v, w) => {\n              vis.array.deselect(2, u);\n              if (w[v] !== null) {\n                vis.array.select(2, v);\n                vis.array.assignVariable('Min', 2, v);\n              }\n            },\n            [preIndex, miniIndex, pqCost]\n          ); \n\n          // update prev[j]\n          prevNode[j + 1] = i + 1;\n          chunker.add(\n            9,\n            (vis, u, v) => {\n              vis.array.set(u, 'prim');\n              vis.array.select(2, v);\n              vis.array.assignVariable('Min', 2, v);\n            },\n            [[pqDisplay, prevNode, pqCost], miniIndex]\n          );\n        }\n      }\n    };\n\n    let i;\n    weight = [...E];\n    n = numVertices;\n    for (i = 0; i < n; i += 1) {\n      cost[i] = Infinity;\n      prev[i] = -1;\n      pending[i] = 1;\n    }\n    // XXX  Note: Animation not quite linked to\n    // pseudocode properly either with init + reassigning start cost to\n    // 0 (probably not worth spending too much time fixing issues such\n    // as this  - move to new pseudocode thats more similar to BFS/DFS\n    // etc)\n    pqCost.push('Cost[i]');  // initialize the pq cost\n    pqDisplay.push('i'); // initialize the pq display\n    prevNode.push('Parent[i]'); // initialize the prev list\n    for (i = 0; i < n; i += 1) {\n      pq[i] = i;\n      pqDisplay[i + 1] = i + 1;\n      pqCost.push(Infinity);\n      prevNode.push('-');\n    }\n    // init start node cost to zero\n    // (note cost+pq arrays start at 0 and pqCost starts at 1,\n    // just to confuse things?)\n    cost[startNode-1] = 0;\n    pqCost[startNode] = 0; // add the minimum cost to pq cost\n    pq[0] = startNode-1;\n    prev[startNode-1] = startNode-1;\n    prevNode[startNode] = startNode;\n    pq[startNode-1] = 0;\n    miniIndex = startNode; // point the mini index in the pq cost\n    \n    pqStart = 0;\n    /* the chunker add select the minimum cost one */\n    chunker.add(\n        2,\n        (vis, v, w) => {\n          vis.array.set(v, 'prim');\n          vis.array.select(2, w);\n          vis.array.assignVariable('Min', 2, w);\n        },\n        [[pqDisplay, prevNode, pqCost], miniIndex]\n    );\n    chunker.add(\n        3,\n        (vis, v, w) => {\n          vis.array.set(v, 'prim');\n          vis.array.select(2, w);\n          vis.array.assignVariable('Min', 2, w);\n        },\n        [[pqDisplay, prevNode, pqCost], miniIndex]\n    );\n\n    while (pqStart < n) {\n      i = pq[pqStart];\n      prevDisplay[pqStart] = i + 1;\n      /* pop the miniIndex one and add it to spinning tree to extend more connections */\n      pending[i] = 0;\n      pqStart += 1;\n      /* change the miniIndex to null */\n      pqCost[miniIndex] = null;\n      /* get the next minimum value index and select it */\n      prevIndex = miniIndex;\n      findMinimum();\n      chunker.add(\n          4,\n          (vis, v, w, u, n1, n2, index) => {\n            vis.graph.visit0(n1, n2);\n            vis.graph.select(n1, n2);\n            vis.array.deselect(index);\n            vis.array.set(v, 'prim');\n            vis.array.deselect(2, u);\n            if (u !== w && v[2][w] !== null) {\n              vis.array.select(2, w);\n              vis.array.assignVariable('Min', 2, w);\n            }\n          },\n          [[pqDisplay, prevNode, pqCost], miniIndex, prevIndex, i, prev[i], miniIndex]\n      );\n\n      PqUpdate(i);\n      findMinimum();// once update the cost, find the next minimum cost in pq cost and select it\n\n      const newEdges = [];\n      for (let j = 0; j < n; j += 1) {\n        if (weight[i][j] > 0 && !prev.includes(j) && pqStart < n && !closed.includes(j)) {\n          newEdges.push(j);\n        }\n      }\n      if (pq[pqStart]) {\n        chunker.add(\n          5,\n          (vis, n1, n2) => {\n            vis.graph.visit0(n1, n2);\n          },\n          [prev[pq[pqStart]], pq[pqStart]]\n        );\n      }\n      chunker.add(\n        5,\n        (vis, n1, n2) => {\n          vis.graph.allLeave(n1, n2);\n          vis.graph.visit0(n1, n1);\n        },\n        [i, newEdges]\n      );\n      chunker.add(3);\n      closed.push(i);\n    }\n    // for test\n    return prev;\n  },\n};\n","// Prim's MST algorithm; code copied+modified from Dijkstra's shortest\n// path algorithm animation\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\nimport {colors} from './graphSearchColours';\n\nexport default {\n  initVisualisers() {\n    return {\n      graph: {\n        instance: new GraphTracer('graph', null, 'Graph view'),\n        order: 0,\n      },\n      array: {\n        instance: new Array2DTracer('array', null, 'Parent array & Priority Queue'),\n        order: 1,\n      },\n    };\n  },\n\n  run(chunker, { edgeValueMatrix, coordsMatrix, startNode, endNodes, moveNode}) {\n    // String Variables used in displaying algo\n    const algNameStr = 'prim';\n    const dashStr = '-';\n    const minStr = 'Min'; \n    const nStr = 'n';\n    const mStr = 'm';\n    const totalStrs = ['Cost', 'Tot.', ' = '];\n    const infinityStr = '';\n    const lessThanStr = '<';\n    const notLessThanStr = '';\n\n    const E = [...edgeValueMatrix];\n    const coords = [...coordsMatrix];\n    const numVertices = edgeValueMatrix.length;\n    const minCosts = [];\n    const parents = [];\n    const nodes = [];  \n    const finalCosts = []; \n    const start = startNode - 1; \n    const end = endNodes[0] - 1;\n    let totalCost = 0;\n\n    // Display has table [nodes, parents, minCosts, finalCosts]\n    // and display code indexes into this table; we define the indices here\n    const NODE = 0;\n    const PAR = 1;\n    const MCOST = 2;\n    const FCOST = 3;\n    \n    // Create a set to keep track of visited vertices\n    const visited = new Set();  \n    let miniIndex = start;  \n    let last = [null, null]; // keep track of the last neighbour we visited\n    // initialize each element of array Cost to infinity\n    const cost = Array(numVertices).fill(Infinity);\n\n      \n    const findMinimum = () => {\n      let minCost = Infinity;\n      miniIndex = null;\n      for (let i = numVertices - 1; i >= 0; i--) {\n        if (!visited.has(i) && cost[i] <= minCost) {\n          minCost = cost[i];\n          miniIndex = i;\n        }\n      } \n    };\n\n    // If the node cost is a number, the node is in the PQ but not Infinity\n    // (can be null, Infinity or some expression for comparison) - used\n    // for checking if a node is in the frontier\n    const isNumber = (value) =>\n    {\n       return typeof value === 'number' && isFinite(value);\n    }\n\n    // refresh display.  Ideally one would think we could do incremental\n    // changes but there are all kinds of subtelties like what triggers\n    // re-rendering, some selected colors vanishing with some apparently\n    // unrelated operations, etc.  For sanity, and to avoid code thats\n    // duplicated countless times, we put lots of it here. And we name\n    // the parameters something more readable than x,y,z,z1,a,b,c etc...\n    // c_nodes_etc: 2D array with node number, parents etc\n    // c_Min: miniIndex\n    // c_cV: currentVertex\n    // c_m: m (neighbour of currentVertex)\n    // c_Total: total cost (at end)\n    const refresh = (vis, c_nodes_etc, c_Min, c_cV, c_m, c_Total = null) => {\n      vis.array.set(c_nodes_etc, algNameStr);\n      // XXX Hack to display total cost near left of array\n      // aligned near the left of the array if c_Total != null and\n      // room permits; otherwise we set and display n, m, Min as required\n      // XXX could do similar for other algorithms to display 'Path'\n      // 'Len.' ' = ' ...\n      if (c_Total != null && c_nodes_etc[MCOST].length > 3) {\n        // vis.array.assignVariable('Tot. Cost', 2, 0); \n        vis.array.assignVariable(totalStrs[0], 2, 0); \n        vis.array.assignVariable(totalStrs[1], 2, 1); \n        vis.array.assignVariable(totalStrs[2], 2, 2); \n        vis.array.assignVariable(c_Total, 2, 3); \n      } else {\n        let c_m1 = (c_m === null? null: c_m+1);\n        let c_cV1 = (c_cV === null? null: c_cV+1);\n        let c_Min1 = (c_Min === null? null: c_Min+1);\n        let c_Total1 = (c_Total === null? null: c_Total);\n        vis.array.assignVariable(nStr, 2, c_cV1);\n        vis.array.assignVariable(mStr, 2, c_m1);\n        vis.array.assignVariable(minStr, 2, c_Min1); \n      }\n\n      // highlight nodes as finalised/frontier in array\n      for (let i = 0; i < numVertices; i++) {\n        if (c_nodes_etc[MCOST][i+1] === null) {\n          vis.array.select(NODE, i + 1, NODE, i + 1, colors.FINALISED_A);\n          vis.graph.removeNodeColor(i);\n          vis.graph.colorNode(i, colors.FINALISED_N);\n        } else if (isNumber(c_nodes_etc[MCOST][i+1])) {\n          vis.array.select(NODE, i + 1, NODE, i + 1, colors.FRONTIER_A);\n          vis.graph.removeNodeColor(i);\n          vis.graph.colorNode(i, colors.FRONTIER_N);\n        }\n      }\n\n      // color Min in PQ\n      if (c_Min != null)\n        vis.array.select(MCOST, c_Min + 1, MCOST, c_Min + 1, colors.PQ_MIN_A);\n    }\n\n    chunker.add(\n      1,\n      (vis, edgeArray, coordsArray) => {\n        vis.graph.directed(false);\n        vis.graph.weighted(true);\n        vis.graph.moveNodeFn(moveNode);\n        vis.graph.set(edgeArray, Array.from({ length: numVertices }, (v, k) => (k + 1)),coordsArray);\n      },\n      [E, coords]\n    );\n\n    // initialise each element of array Parent to zero \n    const prev = Array(numVertices).fill(null);  \n\n    nodes.push('i'); // initialize the pq display\n    parents.push('Parent[i]');\n    minCosts.push('Cost[i]'); \n    finalCosts.push('Final Cost');\n     \n    // Initialize the table\n    for (let i = 0; i < numVertices; i += 1) {\n      nodes[i + 1] = i + 1;\n      minCosts.push(dashStr);\n      parents.push(0); \n      finalCosts.push(dashStr);\n    }\n\n    chunker.add(\n      5,\n      (vis, v) => {\n        vis.array.set(v, algNameStr);\n      },\n      [[nodes, parents, minCosts, finalCosts], 0]\n    );\n\n\n    for (let i = 0; i < numVertices; i += 1) {\n      minCosts[i + 1] = (Infinity);\n    }\n\n    chunker.add(\n      6,\n      (vis, v) => {\n        vis.array.set(v, algNameStr);\n      },\n      [[nodes, parents, minCosts, finalCosts],0]\n    );\n    \n  \n    // Cost[s] <- 0\n    cost[start] = 0;\n    minCosts[start + 1] = 0; \n    chunker.add(\n      7,\n      (vis, v, w) => {\n        // re-render table with new cost\n        vis.array.set(v, algNameStr);\n        // color start node in array + graph\n        vis.array.select(NODE, w + 1, NODE, w + 1, colors.FRONTIER_A);\n        vis.graph.colorNode(w, colors.FRONTIER_N);\n      },\n      [[nodes, parents, minCosts, finalCosts], start]\n    );\n\n    // Nodes <- PQ containing all nodes \n    chunker.add(\n      8,\n      (vis, v, w) => {\n        // add min to display\n        vis.array.set(v, algNameStr);\n        vis.array.assignVariable(minStr, 2, w + 1);\n        vis.array.select(MCOST, w + 1, MCOST, w + 1, colors.PQ_MIN_A);\n        vis.array.select(NODE, w + 1, NODE, w + 1, colors.FRONTIER_A);\n      },\n      [[nodes, parents, minCosts, finalCosts], start]\n    );\n\n    let currentVertex = null;\n    // while Nodes not Empty \n    // while (visited.size < numVertices)  \n    // extra chunk before break to make loop termination clearer\n    /* eslint-disable no-constant-condition */\n    while (true) {\n      \n      findMinimum(); \n      \n      chunker.add( \n        2,\n        (vis, c_nodes_etc, c_miniIndex, c_last, c_prev, c_cV) => {\n          refresh(vis, c_nodes_etc, c_miniIndex, c_cV, null);\n          \n          if (c_last[0] != null) {\n            vis.graph.removeEdgeColor(c_last[0], c_last[1]); \n            \n            // restore the original color of the edge\n            if(c_prev[c_last[0]] != null && c_nodes_etc[FCOST][c_last[0]+1] == dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n              vis.graph.colorEdge(c_prev[c_last[0]], c_last[0], colors.FRONTIER_E);\n            }\n\n            if(c_prev[c_last[1]] != null && c_nodes_etc[FCOST][c_last[1]+1] == dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n              vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FRONTIER_E);\n            }\n\n            if(c_nodes_etc[FCOST][c_last[0]+1] != dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n              vis.graph.colorEdge(c_prev[c_last[0]], c_last[0], colors.FINALISED_E);\n            }\n\n            if(c_nodes_etc[FCOST][c_last[1]+1] != dashStr)\n            {\n              vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n              vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FINALISED_E);\n            }\n\n          }\n\n        },\n        [[nodes, parents, minCosts, finalCosts], miniIndex, last, prev, currentVertex]\n      );\n      if (!(visited.size < numVertices)) {\n        // return at end of function\n\n        // sum of all numbers in finalCosts array\n        totalCost = finalCosts.reduce((acc, el) => \n            (isNumber(el)? acc + el: acc), 0);\n        chunker.add(\n          99,\n          (vis, v, c_miniIndex, c_cV, c_m, c_totalCost) => {\n            refresh(vis, v, c_miniIndex, c_cV, c_m, c_totalCost);\n            // re-do finalised edges in success colour for extra highlight\n            for (let i = 0; i < numVertices; i++) {\n              for (let j = 0; j < numVertices; j++) {\n                if (v[PAR][i+1] === j+1) {\n                  vis.graph.removeEdgeColor(i, j);\n                  vis.graph.colorEdge(i, j, colors.SUCCESS_E);\n                }\n              }\n            }\n          },\n          [[nodes, parents, minCosts, finalCosts], null,\n              null, null, totalCost]\n        );\n        break;\n      }\n\n      // Find the unvisited vertex with the smallest cost\n      \n      currentVertex = null; \n      findMinimum();\n      currentVertex = miniIndex;\n      finalCosts[miniIndex + 1] = cost[miniIndex];\n      \n      // n <- RemoveMin(Nodes)  \n      minCosts[currentVertex + 1] = null; \n      visited.add(currentVertex);\n      \n      // Update the miniIndex\n      findMinimum(); \n      chunker.add(\n        9,\n        (vis, c_nodes_etc, c_miniIndex, c_cV, c_prev_cV) => {\n          // reset previous highlight if any\n          if (c_prev_cV != null) {\n            vis.graph.removeEdgeColor(c_prev_cV, c_cV);\n            vis.graph.colorEdge(c_prev_cV, c_cV, colors.FINALISED_E);\n          }\n          refresh(vis, c_nodes_etc, c_miniIndex, c_cV, null);\n        },\n        [[nodes, parents, minCosts, finalCosts], miniIndex, \n            currentVertex, prev[currentVertex]]\n      );\n      \n      // If we can't find a reachable vertex, exit \n      // if Cost[n] = infinity \n      chunker.add(10);\n      if (currentVertex === null // || currentVertex === end\n        || cost[currentVertex] === Infinity) {\n        // return without exploring all components\n\n        // undo last \"remove next element\" operation\n        minCosts[currentVertex+1] = infinityStr;\n        finalCosts[currentVertex+1] = dashStr;\n        miniIndex = currentVertex;\n        // sum all numbers in finalCosts array\n        totalCost = finalCosts.reduce((acc, el) => \n            (isNumber(el)? acc + el: acc), 0);\n        // console.log(['totalCost', totalCost]);\n        chunker.add(\n          3,\n          (vis, v, c_miniIndex, c_cV, c_m, c_totalCost) => {\n            vis.graph.removeNodeColor(currentVertex);\n            refresh(vis, v, c_miniIndex, c_cV, c_m, c_totalCost);\n            // re-do finalised edges in success colour for extra highlight\n            for (let i = 0; i < numVertices; i++) {\n              for (let j = 0; j < numVertices; j++) {\n                if (v[PAR][i+1] === j+1) {\n                  vis.graph.removeEdgeColor(i, j);\n                  vis.graph.colorEdge(i, j, colors.SUCCESS_E);\n                }\n              }\n            }\n          },\n          [[nodes, parents, minCosts, finalCosts], miniIndex,\n              currentVertex, null, totalCost]\n        );\n        // return\n        break; \n      }\n\n      // Mark the vertex as visited\n  \n      // Update the cost and prev arrays \n      \n      // for each node m neighbouring n\n      for (let m = 0; m < numVertices; m++) {\n        if (edgeValueMatrix[currentVertex][m] !== 0) { //TODO: check\n            // && !visited.has(m))   // Skip if no edge exists\n          // findMinimum();\n          chunker.add(\n            4,\n            (vis, v, c_miniIndex, c_last, c_prev, c_cV, c_m) => {\n              if (c_last[0] != null) { \n                vis.graph.removeEdgeColor(c_last[0], c_last[1]);\n                //vis.graph.leave1(c_last[0], c_last[1], 2); \n                if(c_prev[c_last[0]] != null && v[FCOST][c_last[0]+1] == dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n                  vis.graph.colorEdge(c_prev[c_last[0]], c_last[0],\ncolors.FRONTIER_E);\n                }\n\n                if(c_prev[c_last[1]] != null && v[FCOST][c_last[1]+1] == dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n                  vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FRONTIER_E);\n                }\n\n                if(v[FCOST][c_last[0]+1] != dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[0]], c_last[0]);\n                  vis.graph.colorEdge(c_prev[c_last[0]], c_last[0], colors.FINALISED_E);\n                }\n\n                if(v[FCOST][c_last[1]+1] != dashStr)\n                {\n                  vis.graph.removeEdgeColor(c_prev[c_last[1]], c_last[1]);\n                  vis.graph.colorEdge(c_prev[c_last[1]], c_last[1], colors.FINALISED_E);\n                }\n              } \n\n              vis.graph.removeEdgeColor(c_cV, c_m);\n              vis.graph.colorEdge(c_cV, c_m, colors.N_M_E);\n\n              refresh(vis, v, c_miniIndex, c_cV, c_m);\n            },\n            [[nodes, parents, minCosts, finalCosts], miniIndex, last, prev, currentVertex,\n            m]\n          );\n          \n          const newCost = edgeValueMatrix[currentVertex][m];\n          \n          // if Cost[n]+weight(n,m)<Cost[m]\n          let tempString = minCosts[m + 1];\n          if (minCosts[m + 1] === Infinity) {\n            tempString = infinityStr;\n          }\n          if (!visited.has(m)) {\n            if (newCost < cost[m]) {\n              minCosts[m + 1] = (`${newCost} ${lessThanStr} ${tempString}`);\n            } else {\n              minCosts[m + 1] = (`${newCost} ${notLessThanStr} ${tempString}`);\n            }\n          }\n          \n          // findMinimum();\n          chunker.add(\n            11,\n            (vis, v, c_miniIndex, c_cV, c_m) => {\n              refresh(vis, v, c_miniIndex, c_cV, c_m);\n            },\n            [[nodes, parents, minCosts, finalCosts], miniIndex,\n                currentVertex, m]\n          ); \n\n           if (!visited.has(m))\n            minCosts[m + 1] = cost[m];\n\n          last = [currentVertex, m];\n          \n          if (!visited.has(m) && newCost < cost[m]) {\n            // Cost[m] <- Cost[n] + weight(n,m)\n            cost[m] = newCost; \n            minCosts[m + 1] = newCost;\n            // findMinimum();\n            chunker.add(\n              12,\n              (vis, c_nodes_etc, c_miniIndex, c_cV, c_m) => {\n                refresh(vis, c_nodes_etc, c_miniIndex, c_cV, c_m);\n              },\n              [[nodes, parents, minCosts, finalCosts], miniIndex, currentVertex, m]\n            );\n\n            // UpdateCost(Nodes,m,Cost[m])\n            findMinimum();\n            chunker.add(\n              13,\n              (vis, c_nodes_etc, c_miniIndex, c_cV, c_m) => {\n                refresh(vis, c_nodes_etc, c_miniIndex, c_cV, c_m);\n              },\n              [[nodes, parents, minCosts, finalCosts], miniIndex, currentVertex, m]\n            );\n\n            // Parent[m] <- n\n            parents[m + 1] = currentVertex + 1;\n            const lastParent = prev[m];\n            prev[m] = currentVertex;   \n          \n            // findMinimum();\n            chunker.add(\n              14,\n              (vis, c_nodes_etc, c_miniIndex, c_prev_m, c_m, c_lastP, c_cV) => {\n\n                vis.graph.removeEdgeColor(c_cV, c_m);\n                \n                vis.graph.removeNodeColor(c_prev_m);\n                vis.graph.colorEdge(c_prev_m, c_m, colors.FRONTIER_E);\n                vis.graph.colorNode(c_prev_m, 1);\n                \n                // disconnect from the previous parent\n                if (c_lastP != null) {\n                  vis.graph.removeEdgeColor(c_lastP, c_m);\n                }\n\n                refresh(vis, c_nodes_etc, c_miniIndex, c_cV, c_m);\n              },\n              [[nodes, parents, minCosts, finalCosts], miniIndex,\n                  prev[m], m, lastParent, currentVertex]\n            );\n          } \n        }\n      }\n    }\n  }, \n\n};\n","// Prim's MST algorithm; code copied+modified from Dijkstra's shortest\n// path algorithm animation (might some junk code left over)\nimport GraphTracer from '../../components/DataStructures/Graph/GraphTracer';\nimport Array2DTracer from '../../components/DataStructures/Array/Array2DTracer';\nimport {colors} from './graphSearchColours';\n\nexport default {\n  initVisualisers() {\n    return {\n      graph: {\n        instance: new GraphTracer('graph', null, 'Graph view'),\n        order: 0,\n      },\n      array: {\n        instance: new Array2DTracer('array', null, 'Parent array & Priority Queue'),\n        order: 1,\n      },\n    };\n  },\n\n  run(chunker, { edgeValueMatrix, coordsMatrix, startNode, endNodes, moveNode}) {\n    // String Variables used in displaying algo\n    const algNameStr = 'kruskal';\n    const etcStr = '...';\n    const totalStrs = ['Cost', 'Tot.', ' = '];\n\n    const E = [...edgeValueMatrix];\n    const coords = [...coordsMatrix];\n    const numVertices = edgeValueMatrix.length;\n    const nodes = [];  \n    const findD = [];  \n    const selectedD = [];  \n    const costD = [];  \n    const edgesD = [];  \n    const finalCosts = []; \n\n    // Display has table [i, find(i),...]\n    // and display code indexes into this table; we define the indices here\n    const NODE = 0;\n    const FIND = 1;\n    const SELECTED = 2;\n    const COST = 3;\n    const EDGES = 4;\n\n  /**\n   * Finds the root of the current node.\n   * @param {Array} ufParent The parent array.\n   * @param n The element to find.\n   * @returns {number} The root of the current node.\n   */\n  const find = (ufParent, n) => {\n    while (ufParent[n] != n) {\n      ufParent[n] = ufParent[ufParent[n]]; // shorten path\n      n = ufParent[n];\n    }\n    return n;\n  }\n\n  /**\n   * Union two nodes together.\n   * @param {Array} ufParent the parent array.\n   * @param {Array} ufRank the rank array.\n   * @param {Number} n the first node to union.\n   * @param {Number} m the second node to union.\n   */\n  const union = (ufParent, ufRank, n, m) => {\n\n    // finding representative of first node\n    let root1 = find(ufParent, n);\n    // finding representative of second node\n    let root2 = find(ufParent, m);\n\n    // if in same set, return\n    if (root1 === root2) {\n      return;\n    }\n\n    if (ufRank[root1] > ufRank[root2]) {\n      // swap n and m so smaller subtree is joined to larger\n      const tempRoot1 = root1;\n      root1 = root2;\n      root2 = tempRoot1;\n    }\n    // joining the two nodes\n    ufParent[root1] = root2;\n    // updating rank\n    if (ufRank[root1] == ufRank[root2]) {\n      ufRank[root2] += 1;\n      ufRank[root1] = null;\n    } else {\n      ufRank[root1] = null;\n    }\n  }\n\n  // recompute findD, edgesD\n  const setfindDedgesD = () => {\n      for (let i = 1; i <= numVertices; i += 1) {\n        findD[i] = (find(nodeSets, i-1)+1); // + '';\n        // if there are fewer than numVertices edges, fill with ''\n        if (i-1 < edges.length)\n          edgesD[i] = (edges[i-1].node1+1)+'-'+(edges[i-1].node2+1);\n        else\n          edgesD[i] = '';\n      }\n      // if there are more then numVertices edges, use etcStr at end\n      if (edges.length > numVertices) {\n        edgesD[numVertices] = etcStr;\n      }\n  }\n\n    ////////////// start of animation\n    chunker.add(\n      'Kruskal(G)',\n      (vis, edgeArray, coordsArray) => {\n        vis.graph.directed(false);\n        vis.graph.weighted(true);\n        vis.graph.moveNodeFn(moveNode);\n        vis.graph.set(edgeArray, Array.from({ length: numVertices }, (v, k) => (k + 1)),coordsArray);\n      },\n      [E, coords]\n    );\n\n    // init edges + Union-find parent+rank arrays\n    let edges = [];    // sorted array of edges (*with weights also*)\n    let nodeSets = []; // parents for UF\n    let ufRank = [];   // ranks for UF\n    for (let i = 0; i < numVertices; i += 1) {\n      nodeSets.push(i);  // nodeSets[i] = i\n      ufRank.push(0);    // ufRank[i] = 0\n      for (let j = 0; j < numVertices; j += 1) {\n        if (E[i][j] > 0 && i < j) // avoid duplicated edges a-b & b-a\n          edges.push({weight: E[i][j], node1:i, node2:j})\n      }\n    }\n    edges.sort((a, b) => a.weight - b.weight);\n\n    nodes.push('i'); // initialize the display\n    findD.push('find(i)');\n    selectedD.push('Selected');\n    costD.push('Cost');\n    edgesD.push('Edges');\n     \n    // Initialize the table\n    for (let i = 0; i < numVertices; i += 1) {\n      nodes[i + 1] = i + 1;\n      selectedD.push('');\n      findD.push(''); \n      costD.push('');\n      // if there are fewer than numVertices edges, fill with ''\n      if (i < edges.length)\n        edgesD.push((edges[i].node1+1)+'-'+(edges[i].node2+1));\n      else\n        edgesD.push('');\n    }\n    // if there are more then numVertices edges, use etcStr at end\n    if (edgesD.length > numVertices) {\n      edgesD.pop();\n      edgesD.push(etcStr);\n    }\n    \n\n    chunker.add(\n      'initEdges',\n      (vis, v) => {\n        vis.array.set(v, algNameStr);\n      },\n      [[nodes, findD, selectedD, costD, edgesD], 0]\n    );\n\n    // no change in animation but we stop for line of code\n    chunker.add(\n      'SelectedEmpty',\n      (vis, v) => {\n      },\n      [[nodes, findD, selectedD, costD, edgesD], 0]\n    );\n\n\n    let gsize = numVertices;\n    // let selected = []; // set of selected edges (*with weights also*)\n    let nselected = 0; // selected.length\n\n    // Fill table\n    for (let i = 1; i <= numVertices; i += 1) {\n      findD[i] = find(nodeSets, i-1)+1;\n    }\n    chunker.add(\n      'initNodeSets',\n      (vis, v) => {\n        vis.array.set(v, algNameStr);\n      },\n      [[nodes, findD, selectedD, costD, edgesD], 0]\n    );\n\n\n    // while edges !== [] && nselected < gsize - 1\n    // extra chunk before break to make loop termination clearer\n    /* eslint-disable no-constant-condition */\n    while (true) {\n      setfindDedgesD();\n      if (edges.length > numVertices) {\n        edgesD[numVertices] = etcStr;\n      }\n      chunker.add(\n        'while',\n        (vis, v, c_sel) => {\n          vis.array.set(v, algNameStr);\n            // unhighlight all nodes\n            for (let i = 0; i < numVertices; i++) {\n              vis.graph.removeNodeColor(i);\n            }\n          if (c_sel < gsize - 1)\n            vis.array.select(EDGES, 1, EDGES, 1, colors.FRONTIER_A);\n          else\n            vis.array.select(SELECTED, 0, SELECTED, 0, colors.FRONTIER_A);\n        },\n        [[nodes, findD, selectedD, costD, edgesD], nselected]\n      );\n\n      // test for while loop exit\n      if (!(edges.length !== 0 && nselected < gsize - 1)) break;\n\n      let e = edges.shift();\n      let n1 = e.node1;\n      let n2 = e.node2;\n      setfindDedgesD();\n\n      // highlight the two nodes, the edge and the tree(s).\n      // Use findD rather than find - fast and avoids any\n      // side-effects of find (find should be ok also)\n      chunker.add(\n        'RemoveMin',\n        (vis, v, c_n1, c_n2) => {\n          vis.array.set(v, algNameStr);\n          // vis.array.select(EDGES, 1, EDGES, 1, colors.FRONTIER_A);\n          vis.graph.colorEdge(c_n1, c_n2, colors.FRONTIER_E);\n          vis.array.select(NODE, c_n1 + 1, NODE, c_n1 + 1, colors.FRONTIER_A);\n          // highlight all nodes connected to n1 by selected edges\n          for (let i = 0; i < numVertices; i++) {\n            if (v[FIND][i+1] === v[FIND][c_n1+1]) {\n              vis.graph.removeNodeColor(i);\n              vis.graph.colorNode(i, colors.FRONTIER_N);\n            }\n          }\n          // same for n2, if n1 and n2 are not connected\n          if (v[FIND][c_n1+1] !== v[FIND][c_n2+1]) {\n            for (let i = 0; i < numVertices; i++) {\n              if (v[FIND][i+1] === v[FIND][c_n2+1]) {\n                vis.graph.removeNodeColor(i);\n                vis.graph.colorNode(i, colors.FINALISED_N);\n              }\n            }\n            vis.array.select(NODE, c_n2 + 1, NODE, c_n2 + 1, colors.FINALISED_A);\n          } else {\n            // highlight n2 with same color as n1\n            vis.array.select(NODE, c_n2 + 1, NODE, c_n2 + 1, colors.FRONTIER_A);\n          }\n        },\n        [[nodes, findD, selectedD, costD, edgesD], n1, n2]\n      );\n\n      // highlight find array (XXX possibly skip if not expanded)\n      chunker.add(\n        'DifferentTrees',\n        (vis, v, c_n1, c_n2) => {\n          vis.array.set(v, algNameStr);\n          vis.array.select(NODE, c_n1 + 1, NODE, c_n1 + 1, colors.FRONTIER_A);\n          vis.array.select(FIND, c_n1 + 1, FIND, c_n1 + 1, colors.FRONTIER_A);\n          // highlight all nodes connected to n1 by selected edges\n          for (let i = 0; i < numVertices; i++) {\n            if (v[FIND][i+1] === v[FIND][c_n1+1]) {\n              vis.graph.removeNodeColor(i);\n              vis.graph.colorNode(i, colors.FRONTIER_N);\n            }\n          }\n          // same for n2, if n1 and n2 are not connected\n          if (v[FIND][c_n1+1] !== v[FIND][c_n2+1]) {\n            for (let i = 0; i < numVertices; i++) {\n              if (v[FIND][i+1] === v[FIND][c_n2+1]) {\n                vis.graph.removeNodeColor(i);\n                vis.graph.colorNode(i, colors.FINALISED_N);\n              }\n            }\n            vis.array.select(NODE, c_n2 + 1, NODE, c_n2 + 1, colors.FINALISED_A);\n            vis.array.select(FIND, c_n2 + 1, FIND, c_n2 + 1, colors.FINALISED_A);\n          } else {\n            // highlight n2 with same color as n1\n            vis.array.select(NODE, c_n2 + 1, NODE, c_n2 + 1, colors.FRONTIER_A);\n            vis.array.select(FIND, c_n2 + 1, FIND, c_n2 + 1, colors.FRONTIER_A);\n          }\n        },\n        [[nodes, findD, selectedD, costD, edgesD], n1, n2]\n      );\n\n\n     \n\n      if (find(nodeSets, n1) != find(nodeSets, n2)) {\n        nselected++;\n        selectedD[nselected] = (e.node1+1)+'-'+(e.node2+1)\n        costD[nselected] = e.weight;\n\n        setfindDedgesD();\n        chunker.add(\n          'addSelected',\n          (vis, v, c_n1, c_n2, c_sel) => {\n            vis.array.set(v, algNameStr);\n            vis.array.select(NODE, c_n1 + 1, NODE, c_n1 + 1, colors.FRONTIER_A);\n            vis.array.select(FIND, c_n1 + 1, FIND, c_n1 + 1, colors.FRONTIER_A);\n            vis.array.select(NODE, c_n2 + 1, NODE, c_n2 + 1, colors.FINALISED_A);\n            vis.array.select(FIND, c_n2 + 1, FIND, c_n2 + 1, colors.FINALISED_A);\n            vis.array.select(COST, c_sel, COST, c_sel, colors.FRONTIER_A);\n            vis.array.select(SELECTED, c_sel, SELECTED, c_sel, colors.FRONTIER_A);\n            // unhighlight all nodes\n            for (let i = 0; i < numVertices; i++) {\n              vis.graph.removeNodeColor(i);\n            }\n            vis.graph.removeEdgeColor(n1, n2);\n            vis.graph.colorEdge(n1, n2, colors.SUCCESS_E);\n          },\n          [[nodes, findD, selectedD, costD, edgesD], n1, n2, nselected]\n        );\n\n        union(nodeSets, ufRank, n1, n2);\n        setfindDedgesD();\n        chunker.add(\n          'union',\n          (vis, v, c_n1, c_n2) => {\n            vis.array.set(v, algNameStr);\n            vis.array.select(NODE, c_n1 + 1, NODE, c_n1 + 1, colors.FRONTIER_A);\n            vis.array.select(NODE, c_n2 + 1, NODE, c_n2 + 1, colors.FRONTIER_A);\n            vis.array.select(FIND, c_n1 + 1, FIND, c_n1 + 1, colors.FRONTIER_A);\n            vis.array.select(FIND, c_n2 + 1, FIND, c_n2 + 1, colors.FRONTIER_A);\n          },\n          [[nodes, findD, selectedD, costD, edgesD], n1, n2]\n        );\n      }\n    }\n    // compute total cost and finish\n    chunker.add(\n      'return',\n      (vis, v, c_sel) => {\n        vis.array.set(v, algNameStr);\n        let totCost = 0;\n        for (let i = 1; i <= c_sel; i++) {\n          totCost += v[COST][i];\n        }\n        vis.array.assignVariable(totalStrs[0], 2, 0);\n        vis.array.assignVariable(totalStrs[1], 2, 1);\n        vis.array.assignVariable(totalStrs[2], 2, 2);\n        vis.array.assignVariable(totCost, 2, 3);\n      },\n      [[nodes, findD, selectedD, costD, edgesD], nselected]\n    );\n\n  }, \n\n};\n","/* eslint-disable no-console */\n/* eslint-disable no-else-return */\n/* eslint-disable dot-notation */\n/* eslint-disable linebreak-style */\n// Remove the space before and after the pseudocode\nfunction removeLineContinuation(input) {\n  const lines = input.split('\\n');\n  const output = [];\n  let builtLine = '';\n  for (const line of lines) {\n    builtLine = `${line.trim()}`;\n    if (builtLine !== '') {\n      output.push(builtLine);\n    }\n  }\n  return output;\n}\n\n\n// Extract the /Code {} section from pseudocode\nfunction extractCode(lines) {\n  const jsons = [];\n  let json = {};\n  let explanation = '';\n  let explFlag = false;\n  let ind = 0;\n  for (const line of lines) {\n    if (line.localeCompare('\\\\In{') === 0) {\n      ind += 1;\n    } else if (line.localeCompare('\\\\In}') === 0) {\n      ind -= 1;\n    } else if (line.indexOf('\\\\Expl{') >= 0) {\n      explFlag = true;\n      explanation = '';\n      explanation += line.substring(7, line.length);\n    } else if (line.localeCompare('\\\\Expl}') === 0) {\n      explFlag = false;\n      if (Object.keys(json).length !== 0) {\n        json['explanation'] = explanation;\n      }\n      explanation = '';\n    } else if (explFlag) {\n      explanation += ' ';\n      explanation += line;\n    } else {\n      if (Object.keys(json).length !== 0) {\n        jsons.push(json);\n        json = {};\n      }\n      if (line.localeCompare('\\\\NewLine') === 0) {\n        jsons.push({ code: '\\n', explanation: '', indentation: ind });\n      } else {\n        if (line.indexOf(' \\\\Ref ') >= 0) {\n          json['code'] = line.substring(0, line.indexOf(' \\\\Ref '));\n          json['ref'] = line.substring(\n            line.indexOf(' \\\\Ref ') + 6,\n            line.length\n          );\n        } else if (line.indexOf(' \\\\B ') >= 0) {\n          json['code'] = line.substring(0, line.indexOf(' \\\\B '));\n          json['bookmark'] = line.substring(\n            line.indexOf(' \\\\B ') + 4,\n            line.length\n          );\n          // json['ref'] = '';\n        } else {\n          json['code'] = line;\n        }\n        json['explanation'] = '';\n        json['indentation'] = ind;\n      }\n    }\n  }\n  if (Object.keys(json).length !== 0) {\n    jsons.push(json);\n  }\n  return jsons;\n}\n\n// For each code block, in other words /Code {} section,\n// extract the code, explanation, indentation and reference information.\nfunction extractCodeBlock(lines) {\n  let codeBlock = 'Default';\n  const json = {};\n  let value = [];\n  let codeFlag = false;\n  let blockFlag = false;\n  for (const line of lines) {\n    if (line.localeCompare('\\\\Code}') === 0) {\n      json[codeBlock] = extractCode(value);\n      value = [];\n      codeFlag = false;\n    } else if (line.localeCompare('\\\\Code{') === 0) {\n      codeFlag = true;\n      blockFlag = true;\n    } else if (codeFlag === true) {\n      if (blockFlag) {\n        codeBlock = line;\n        blockFlag = false;\n      } else {\n        value.push(line);\n      }\n    }\n  }\n  return json;\n}\n\nfunction addIndentation(originalBlocks, blockName, baseIndent, outputBlocks) {\n  let indentedLine;\n  // eslint-disable-next-line no-param-reassign\n  outputBlocks[blockName] = [];\n  originalBlocks[blockName].forEach((line) => {\n    indentedLine =\n      '\\xa0\\xa0\\xa0\\xa0'.repeat(baseIndent + line['indentation']) +\n      line['code'];\n    outputBlocks[blockName].push({ ...line, code: indentedLine });\n    if (line['ref']) {\n      addIndentation(\n        originalBlocks,\n        line['ref'],\n        baseIndent + line['indentation'],\n        outputBlocks\n      );\n    }\n  });\n}\n\nexport default function parse(input) {\n  const inputRemovedNotes = input.replace(/\\\\Note\\{[^}]*\\}/gs, ''); // removing all flat notes\n  const rawCode = removeLineContinuation(inputRemovedNotes);\n  const rawCodeBlocks = extractCodeBlock(rawCode);\n  if (Object.keys(rawCodeBlocks).length > 0) {\n    const indentedCodeBlocks = {};\n    addIndentation(rawCodeBlocks, 'Main', 0, indentedCodeBlocks);\n    return indentedCodeBlocks;\n  } else {\n    return rawCodeBlocks;\n  }\n}\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\n    Main\n    BST_Search(t, k)  // return subtree whose root has key k \\\\B 8\n                      // or NotFound, if no such node is present\n    \\\\In{\n        while t not Empty \\\\B 1\n        \\\\In{\n            if t.key = k  \\\\B 2\n            \\\\In{\n                return t \\\\B 3\n                \\\\Expl{  We have found a node with the desired key k.\n                \\\\Expl}\n            \\\\In}\n            if t.key > k  \\\\B 4\n            \\\\Expl{  The BST condition is that nodes with keys less than the \n                    current node's key are to be found in the left subtree, and\n                    nodes whose keys are greater are to be in the right subtree.\n            \\\\Expl}\n            \\\\In{\n                t <- t.left \\\\B 5\n            \\\\In}\n            else\n            \\\\In{\n                t <- t.right \\\\B 6\n            \\\\In}\n        return NotFound \\\\B 7\n        \\\\In}\n    \\\\In}\n    \\\\Code}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\n    Main\n    BST_Build(keys)  // return the BST that results from inserting nodes\n                     // with keys 'keys', in the given order, into an\n                     // initially empty BST\n    t <- Empty \\\\B 1\n    for each k in keys \\\\B 2\n    \\\\In{\n        t <- BST_Insert(t, k) \\\\Ref Insert\n    \\\\In}\n\\\\Code}\n\\\\Code{\n    Insert\n    // Insert key k in BST t, maintaining the BST invariant\n    Create_Node() \\\\Ref NewNode\n\n    if t = Empty \\\\B 7\n    \\\\In{\n        t <- n      // in this case, the result is a tree with just one node \\\\B 8\n        \\\\Expl{  If the tree is initially empty, the resulting BST is just\n                the new node, which has key k, and empty sub-trees.\n        \\\\Expl}\n    \\\\In}\n    else\n    \\\\In{\n      Locate the node p that should be the parent of the new node n. \\\\Ref Locate\n      if k < p.key  \\\\B 9\n      \\\\Expl{  The new node n (whose key is k) will be a child of p. We just \n              need to decide whether it should be a left or a right child of p.\n      \\\\Expl}\n      \\\\In{\n          p.left <- n       // insert n as p's left child \\\\B 10\n      \\\\In}\n      else\n      \\\\In{\n          p.right <- n      // insert n as p's right child  \\\\B 11\n      \\\\In}\n    \\\\In}\n\\\\Code}\n\n\\\\Code{\n    NewNode\n    n <- new Node     // create a new node to hold key k \\\\B 3\n    n.key <- k \\\\B 4\n    n.left <- Empty   // it will be a leaf, that is, \\\\B 5\n    n.right <- Empty  // it has empty subtrees \\\\B 6\n\\\\Code}\n  \n\\\\Code{\n  Locate\n  c <- t            // c traverses the path from the root to the insertion point \\\\B 13\n  \n  \\\\Expl{  c is going to follow a path down to where the new node is to \n          be inserted. We start from the root (t).\n  \\\\Expl}\n  repeat\n  \\\\In{\n      p <- c        // when the loop exits, p will be c's parent \\\\B 14\n      \\\\Expl{  Parent p and child c will move in lockstep, with p always \n              trailing one step behind c.\n      \\\\Expl}\n      if k < c.key \\\\B 15\n      \\\\Expl{  The BST condition is that nodes with keys less than the current\n              node's key are to be found in the left subtree, and nodes whose\n              keys are greater (or the same) are to be in the right subtree.\n      \\\\Expl}\n      \\\\In{\n          c <- c.left \\\\B 16\n      \\\\In}\n      else\n      \\\\In{\n          c <- c.right \\\\B 17\n      \\\\In}\n  \\\\In}\n  until c = Empty \\\\B 18\n  \\\\Expl{  At the end of this loop, c has located the empty subtree where new\n          node n should be located, and p will be the parent of the new node.\n  \\\\Expl}\n\\\\Code}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Note{  REAL specification of heapsort animation\n        \\\\Note}\n        \n        \\\\Code{\n        Main\n        HeapSort(A, n) // Sort array A[1]..A[n] in ascending order. \\\\B 1\n        \\\\Expl{  We are not using A[0] (for languages that start array indices at 0).\n        \\\\Expl}\n        \\\\In{\n            BuildHeap(A, n)    \\\\Ref BuildHeap \n            \\\\Expl{  First reorder the array elements so they form a (max) heap\n                    (no element is larger than its parent). The root node, A[1],\n                    is therefore the largest element.  \n            \\\\Expl}\n            SortHeap(A, n)    \\\\Ref SortHeap \n            \\\\Expl{  Convert the heap into a sorted array. The largest element is\n                    put in the correct position A[n] first and we work backwards \n                    from there, putting the next-largest element in its place, \n                    etc, shrinking the heap by one element at each step. \n            \\\\Expl}\n        \\\\In}\n        \\\\Code}\n        \n        \\\\Code{\n        BuildHeap\n        // build heap\n        for k <- Index of last non-leaf downto 1    \\\\Ref BHForLoop \n        \\\\Expl{  We use bottom-up heap creation, to build the heap from the bottom\n                up (tree view) and right to left (array view). The leaves are \n                already heaps of size 1, so nothing needs to be done with them. \n                Working backwards through the heap, and starting from the last \n                non-leaf node, we form heaps of up to size 3 (from 2 leaves plus\n                their parent k), then 7 (2 heaps of size 3 and their parent k) \n                etc, until the whole array is a single heap. \n        \\\\Expl}\n        \\\\In{\n            DownHeap(A, k, n)    \\\\Ref DownHeapk \n            \\\\Expl{  DownHeap is where smaller heaps are combined to form larger\n                    heaps. The children of node k are already heaps, so we need\n                    only be concerned about where A[k] fits in. \n            \\\\Expl}\n        \\\\In}\n        \\\\Code}\n        \n        \\\\Code{\n        BHForLoop\n        for k <- n/2 downto 1 \\\\B 4\n        \\\\Expl{  Using root index 1, the last non-leaf has index n/2 (rounded down\n                to the nearest integer).\n        \\\\Expl}\n        \\\\Code}\n        \n        \\\\Code{\n        DownHeapk\n        // DownHeap(A, k, n)\n        i <- k \\\\B 6\n        \\\\Expl{  Set index i to the root of the subtree that we are now going to \n                make into a heap. \n        \\\\Expl}\n        heap <- False // 'heap' is a flag \\\\B 7\n        while not (IsLeaf(A[i]) or heap) \\\\B 8\n        \\\\Expl{  Traverse down the heap until the current node A[i] is a leaf. \n                We also terminate the loop if the children of A[i] are in the \n                correct order relative to the parent, since we know that subtrees\n                lower down already meet the heap condition. We use the heap flag\n                to test the heap condition.  \n        \\\\Expl}\n        \\\\In{        \n            j <- IndexOfLargestChild(A, i, n)    \\\\Ref IndexOfLargestk \n            \\\\Expl{  Find the larger of the two children of the node.\n            \\\\Expl}\n            if A[i] >= A[j] \\\\B 14\n            \\\\In{\n                heap <- True \\\\B 15\n                \\\\Expl{  The heap condition is satisfied (the root is larger \n                        than both children), so exit from while loop. \n                \\\\Expl}\n            \\\\In}\n            else\n            \\\\In{\n                Swap(A[i], A[j]) // Swap root element with (larger) child \\\\B 17\n                i <- j \\\\B 18\n            \\\\In}\n        \\\\In}        \n        \\\\Code}\n        \n        \\\\Code{\n        IndexOfLargestk\n        if 2*i < n and A[2*i] < A[2*i+1] \\\\B 10\n        \\\\Expl{  The left child of A[i] is A[2*i] and the right child (if there is\n                a right child) is A[2*i+1]; set j to the index of the larger child.\n        \\\\Expl}\n        \\\\In{\n            j <- 2*i+1 \\\\B 11\n        \\\\In}\n        else\n        \\\\In{\n            j <- 2*i \\\\B 13\n        \\\\In}\n        \\\\Code}\n        \n        \\\\Code{\n        SortHeap\n        // Sort heap\n        while n > 1 \\\\B 20\n        \\\\Expl{  A[1] always has the largest value not yet processed in the \n                sorting phase. A[n] is the last array element in the heap-ordered\n                array that is not yet sorted. Repeatedly swap these two values, \n                so that the largest element is now in the last place, decrement n \n                and re-establish the heap condition for the remaining heap (which\n                now has one less element). Repeat this procedure until n=1, that \n                is, only one node remains.  \n        \\\\Expl}\n        \\\\In{\n            Swap(A[n], A[1]) \\\\B 21\n            n <- n-1 \\\\B 22\n            DownHeap(A, 1, n)    \\\\Ref DownHeap1\n            \\\\Expl{  Now that the root node has been swapped to the end, A[1] may \n                    no longer be the largest element in the (reduced size) heap.\n                    Use the DownHeap operation to restore the heap condition. \n            \\\\Expl}\n        \\\\In}\n        // Done \\\\B 37\n        \\\\Code}\n        \n        \\\\Note{  This is very similar to DownHeapk.\n        \\\\Note}\n        \n        \\\\Code{\n        DownHeap1\n        // DownHeap(A, 1, n)\n        i <- 1 \\\\B 24\n        \\\\Expl{  Set index i to the root of the subtree that we are now going to \n                examine. \n        \\\\Expl}\n        heap <- False // 'heap' is a flag \\\\B 25\n        while not (IsLeaf(A[i]) or heap) do \\\\B 26\n        \\\\Expl{  Traverse down the heap until the current node A[i] is a leaf. \n                We also terminate the loop if the children of A[i] are in the \n                correct order relative to the parent, since we know that subtrees\n                lower down already meet the heap condition. We use the heap flag\n                to test the heap condition.  \n        \\\\Expl}\n        \\\\In{        \n            j <- IndexOfLargestChild(A, i, n)    \\\\Ref IndexOfLargest0 \n            \\\\Expl{  Find the larger of the two children of the node. \n            \\\\Expl}\n            if A[i] >= A[j]         // Parent is larger than the largest child \\\\B 32\n                                                                          \n            \\\\In{\n                heap <- True \\\\B 33\n                \\\\Expl{  The heap condition is satisfied, that is, the root is \n                        larger than both children, so we exit from the while loop.\n                \\\\Expl}\n            \\\\In}\n            else\n            \\\\In{\n                Swap(A[i], A[j])    // Swap root element with (larger) child \\\\B 35\n                i <- j \\\\B 36\n            \\\\In}\n        \\\\In}\n        \\\\Code}\n        \n        \\\\Note{  Same as IndexOfLargestk (could possible reuse that; it is duplicated \n                here because it might make linking with animation easier if each code \n                expansion is used from a single place).\n        \\\\Note}\n        \n        \\\\Code{\n        IndexOfLargest0\n        if 2*i < n and A[2*i] < A[2*i+1] \\\\B 28\n        \\\\Expl{  The left child of A[i] is A[2*i] and the right child (if there is\n                a right child) is A[2*i+1]; set j to the index of the larger child.\n        \\\\Expl}\n        \\\\In{\n            j <- 2*i+1 \\\\B 29\n        \\\\In}\n        else\n        \\\\In{\n            j <- 2*i \\\\B 31\n        \\\\In}\n        \\\\Code}    \n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Note{ REAL specification of quicksort (simple version) for animation\n\nNOTE: Ultimately it would be nice to support different versions (eg,\nmedian of three partitioning, etc), in AIA. Ideally the list of algorithms\npresented by AIA should just include a single occurrence of quicksort.\nDifferent versions could be selected via a menu in the quicksort animation\n(or perhaps a sub-menu at the top level).  This version should be the\ndefault/first listed. Currently this version plus M3 are supported and\nare listed separately at the top level.\n\\\\Note}\n\n\\\\Code{\nMain\n// Sort array A[left]..A[right] in ascending order\nQuicksort(A, left, right) \\\\B 1\n\\\\Expl{  We need left and right indices because the code is recursive\n        and both may be different for recursive calls.\n\\\\Expl}\n    if (left < right) \\\\B 2\n    \\\\Expl{  Terminating condition (if there are less than two\n            elements in the array segment do nothing).\n    \\\\Expl}\n    \\\\In{\n        Choose pivot    \\\\Ref ChoosePivot \n        \\\\Expl{  There are various ways to choose the \"pivot\", which\n                is used to distinguish (relatively) small elements\n                and (relatively) large elements in the partitioning\n                process.\n        \\\\Expl}\n        Partition array segment    \\\\Ref Partition \n        \\\\Expl{  This is where most of the work of Quicksort gets done.\n                We start with an unordered array segment, and finish\n                with an array segment containing the pivot in its final\n                place, A[i], and two partitions, one containing only\n                elements smaller than or equal to the pivot, and the other\n                containing only elements larger than or equal to the pivot.\n                There are various ways this can be coded, often with\n                some subtle points.\n        \\\\Expl}\n        Sort FirstPart   \\\\Ref QuicksortFirst\n        \\\\Expl{  Sort elements left of (smaller or equal to) the pivot, which is in A[i].\n        \\\\Expl}\n        Sort SecondPart  \\\\Ref QuicksortSecond\n        \\\\Expl{  Sort elements right of (greater or equal to) the pivot, which is in A[i].\n        \\\\Expl}\n    \\\\In}\n    // Done \\\\B 19\n\\\\Code}\n\n\\\\Code{\nQuicksortFirst\n// *Recursively* sort first part: \\\\B 300\nQuicksort(A, left, i - 1) \\\\B 3\n\\\\Code}\n\n\\\\Code{\nQuicksortSecond\n// *Recursively* sort second part: \\\\B 400\nQuicksort(A, i + 1, right) \\\\B 4\n\\\\Code}\n\n\\\\Code{\nChoosePivot\npivot <- A[right] \\\\B 5\n\\\\Expl{  This simple method of choosing a pivot just uses the rightmost \n        element of the array segment. Unfortunately it leads to very poor \n        performance in some common cases, such as when the array is almost \n        sorted already.\n\\\\Expl}\n\\\\Code}\n\n\\\\Code{\nPartition\nSet index i at left the of array segment and j at the right    \\\\Ref init_iAndj \n\\\\Expl{  i scans from left to right stopping at \"large\" elements\n(greater than or equal to the pivot) and j scans from right to left\nstopping at \"small\" elements (less than or equal to the pivot).\n\\\\Expl}\nwhile i < j \\\\B 6\n\\\\Expl{  When the indices cross, all the large elements at the left of\n        the array segment have been swapped with small elements from the\n        right of the array segment. The coding here can be simplified \n        if we use \"break\" or similar to exit from this loop.\n\\\\Expl}\n\\\\In{\n    Repeatedly increment i until A[i] >= pivot \\\\B 7\n    \\\\Expl{  Stopping at elements equal to the pivot results in better\n            performance when there are many equal elements and because \n            the pivot is in A[right] this also acts as a sentinel, so \n            we don't increment beyond the right of the array segment.\n    \\\\Expl}\n    Repeatedly decrement j until A[j] <= pivot or j < i \\\\B 8\n    \\\\Expl{  Stopping at elements equal to the pivot results in better\n            performance when there are many equal elements. If the \n            indices cross we exit the outer loop; this also stops us \n            decrementing beyond the left of the array segment.\n    \\\\Expl}\n    if j > i \\\\B 9\n    \\\\Expl{  If the indices cross, we exit the loop.\n    \\\\Expl}\n    \\\\In{\n        swap(A[i], A[j]) \\\\B 10\n        \\\\Expl{  Swap the larger element (A[i]) with the smaller\n                element (A[j]).\n        \\\\Expl}\n    \\\\In}\n\\\\In}\n// Put the pivot in its final place\nswap(A[i], A[right]) \\\\B 13\n\\\\Expl{  The pivot element, in A[right], is swapped with A[i]. All\n        elements to the left of A[i] must be less than or equal to\n        the pivot and A[i] plus all elements to its right must be\n        greater than or equal to the pivot, thus the pivot is now in its\n        final position and is not considered further.\n\\\\Expl}\n\\\\Code}\n\n\\\\Code{\ninit_iAndj\ni <- left - 1 \\\\B 11\n\\\\Expl{  The i pointer scans left to right with a preincrement, so\nit is set to left - 1 (this may be off the left end of the array but\nwe never access that element).\n\\\\Expl}\nj <- right \\\\B 12\n\\\\Expl{  The j pointer scans right to left with a predecrement and\nis set to right so the pivot element, in A[right], is skipped in the\nscanning (it is swapped into its correct position at the end).\n\\\\Expl}\n\\\\Code}\n\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\nMain\n// Sort array A[left]..A[right] in ascending order\nMergesort(A, left, right) \\\\B Main\n\\\\Expl{  We need left and right indices because the code is recursive\n        and both may be different for recursive calls.\n\\\\Expl}\n    if left < right \\\\B left<right\n    \\\\Expl{  Terminating condition (if there are less than two\n            elements in the array segment it's already sorted).\n    \\\\Expl}\n    \\\\In{\n        mid <- (left + right)/2 \\\\B mid\n        sort first half, A[left]..A[mid]    \\\\Ref MergesortL\n        \\\\Expl{ Sort elements in the first half of the array segment.\n        \\\\Expl}\n        \\\\Note{ This should be animated in one step if not expanded\n        \\\\Note}\n        sort second half, A[mid+1]..A[right]    \\\\Ref MergesortR\n        \\\\Expl{ Sort elements in the second half of the array segment.\n        \\\\Expl}\n        \\\\Note{ This should be animated in one step if not expanded\n        \\\\Note}\n        Merge the two sorted halves, with the result in A \\\\Ref MergeCopy\n    \\\\In}\n    // Done \\\\B Done\n    \\\\Note{ Good to have this as a step in animation to clarify recursion\n           (especially the base case), plus clean up stack display at end\n    \\\\Note}\n\n\n\\\\Code}\n\n\\\\Code{\nMergesortL\n    \\\\Note{ Recursive call should be animated if this is expanded, like\n      quicksort.  We add the comment below to pause the animation,\n      making recursion clearer, and the animation also needs an extra\n      \"chunk\" at the right recursion level if we hit the \"back\" button.\n    \\\\Note}\n    // *recursively* sort the first half \\\\B preSortL\n    Mergesort(A, left, mid) \\\\B sortL\n\\\\Code}\n\n\\\\Code{\nMergesortR\n    \\\\Note{ See MergesortL note\n    \\\\Note}\n    // *recursively* sort the second half \\\\B preSortR\n    Mergesort(A, mid + 1, right) \\\\B sortR\n\\\\Code}\n\n\\\\Code{\nMergeCopy\n    Merge(A, left, mid, right, B) \\\\Ref Merge\n    \\\\Expl{ Takes two sorted array segments, A[left..mid] and A[mid+1..right],\n        and merges them together to form a single sorted array segment\n        in temporary array B[left..right].\n        The animation shows values being deleted from A since they\n        are no longer needed (they are actually still there).\n    \\\\Expl}\n    Copy merged elements back to A \\\\B copyBA\n    \\\\Expl{ Copy elements from B[left..right] back to A[left..right].\n        Copying can be reduced by merging\n        from A to B and from B to A in alternate levels of recursion -\n        a slightly more tricky coding.\n        The animation shows values being deleted from B since they\n        are no longer needed (they are actually still there).\n    \\\\Expl}\n    \\\\Note{ Might be better to move above to overview.\n    \\\\Note}\n\\\\Code}\n\n\\\\Code{\nMerge\n    ap1 <- left \\\\B ap1\n    max1 <- mid \\\\B max1\n    \\\\Expl{ ap1 scans through the segment A[left..mid], \"pointing at\" or\n        indexing elements of this array segment we copy from.\n    \\\\Expl}\n    ap2 <- max1+1 \\\\B ap2\n    max2 <- right \\\\B max2\n    \\\\Expl{ ap2 scans through the segment A[mid+1..right], \"pointing at\" or\n        indexing elements of this array segment we copy from.\n    \\\\Expl}\n    bp <- ap1 \\\\B bp\n    \\\\Expl{ bp scans through the segment B[left..right], \"pointing at\" or\n        indexing elements of this array segment we copy to.\n    \\\\Expl}\n    while both A segments still have elements to copy \\\\Ref MergeWhile\n    \\\\Expl{ we scan through both A segments from left to right by \n        incrementing ap1 and ap2, copying to B as we go.\n        The animation shows values being deleted from A since they\n        are no longer needed (they are actually still there).\n    \\\\Expl}\n    \\\\In{\n        copy the smaller A element, increment its pointer and bp \\\\Ref CopySmaller\n        \\\\Expl{ The smaller of A[ap1] and A[ap2] is copied to B[bp].\n        \\\\Expl}\n    \\\\In}\n    copy any remaining elements from A to B \\\\Ref CopyRest\n    \\\\Expl{ One of the A segments will have been completely copied;\n        the other has uncopied elements.\n    \\\\Expl}\n\\\\Code}\n\n\\\\Code{\nMergeWhile\n    while ap1 <= max1 and ap2 <= max2 \\\\B MergeWhile\n    \\\\Expl{ Elements up to max1/max2 must be copied; those before\n        ap1/ap2 have been copied already.\n    \\\\Expl}\n\\\\Code}\n\n\\\\Code{\nCopySmaller\n    if A[ap1] < A[ap2] \\\\B findSmaller\n    \\\\In{\n        B[bp] <- A[ap1] \\\\B copyap1\n        \\\\Expl{ The animation shows the value being deleted from A[ap1] since it\n            is no longer needed (it is actually still there).\n        \\\\Expl}\n        ap1 <- ap1+1    \\\\B ap1++\n        bp <- bp+1      \\\\B bp++\n        \\\\Note{ Clearer to duplicate this in then and else branches(?)\n        \\\\Note}\n    \\\\In}\n    else\n    \\\\In{\n        B[bp] <- A[ap2] \\\\B copyap2\n        \\\\Expl{ The animation shows the value being deleted from A[ap2] since it\n            is no longer needed (it is actually still there).\n        \\\\Expl}\n        ap2 <- ap2+1    \\\\B ap2++\n        bp <- bp+1      \\\\B bp++_2\n    \\\\In}\n\\\\Code}\n\n\\\\Code{\nCopyRest\n    copy A[ap1..max1] to B[bp..] \\\\B CopyRest1\n    \\\\Note{ Need to expand this? I dont think so.\n    \\\\Note}\n    copy A[ap2..max2] to B[bp..] \\\\B CopyRest2\n    \\\\Expl{ One of these copy steps will do nothing because one of the\n        A segments will be empty. If ap2 is not shown in the animation\n        it is max2+1, off the end of the array.\n        The animation shows values being deleted from A since they\n        are no longer needed (they are actually still there).\n    \\\\Expl}\n\\\\Code}\n\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Note{ top down merge sort for lists.  Should be able to use identical\npsuedocode independently of list implementation.  Needs more bookmarks.\n\\\\Note}\n\\\\Code{\nMain\n// Sort list L of length len, in ascending order\nMergesort(L, len) \\\\B Main\n\\\\Expl{ We pass in len so we can find the middle of the list more\n    easily; it can be computed using a separate scan of the list at the top\n    level if unknown.\n\\\\Expl}\n    if len > 1 \\\\B len>1\n    \\\\Expl{  Terminating condition (if there are less than two\n            elements in the list it's already sorted).\n    \\\\Expl}\n    \\\\In{\n        split L at its mid point, giving lists L and R \\\\Ref split\n        sort L    \\\\Ref MergesortL\n        \\\\Note{ This should be animated in one step if not expanded\n        \\\\Note}\n        sort R    \\\\Ref MergesortR\n        \\\\Note{ This should be animated in one step if not expanded\n        \\\\Note}\n        M <- Merge of L and R \\\\Ref Merge\n        return M \\\\B returnM\n    \\\\In}\n    else\n    \\\\In{\n        return L // already sorted \\\\B returnL\n    \\\\In}\n\\\\Note{ Might want \"Done\" line+bookmark to clean up at end???\n\\\\Note}\n\\\\Code}\n\n\\\\Code{\nsplit\n    Mid <- mid point of L \\\\Ref scan\n    R <- tail(Mid)    // R starts after Mid\n    tail(Mid) <- Null // truncate L after Mid \\\\B tail(Mid)<-Null\n\\\\Code}\n\n\\\\Code{\nscan\n    Mid <- L \\\\B Mid\n    \\\\Expl{ Start at first element of L\n    \\\\Expl}\n    for i = 1 to len/2 - 1 // while not at middle\n    \\\\In{\n        Mid <- tail(Mid) \\\\B MidNext\n        \\\\Expl{ Skip to next element\n        \\\\Expl}\n    \\\\In}\n\\\\Code}\n\n\\\\Code{\nMergesortL\n    \\\\Note{ Recursive call should be animated if this is expanded, like\n      quicksort.  We add the comment below to pause the animation,\n      making recursion clearer, and the animation also needs an extra\n      \"chunk\" at the right recursion level if we hit the \"back\" button.\n    \\\\Note}\n    // *recursively* sort the first half \\\\B preSortL\n    L <- Mergesort(L, len/2) \\\\B sortL\n\\\\Code}\n\n\\\\Code{\nMergesortR\n    \\\\Note{ See MergesortL note\n    \\\\Note}\n    // *recursively* sort the second half \\\\B preSortR\n    R <- Mergesort(R, len - len/2) \\\\B sortR\n    \\\\Expl{ We don't use len/2 for the length due to truncation with\n      integer division.\n    \\\\Expl}\n\\\\Code}\n\n\\\\Code{\nMerge\n    Initialise M with minimum of L and R \\\\Ref initM\n    \\\\Expl{ Set M to the input list with the smallest first element and\n      skip over (delete) that element for that input list.\n    \\\\Expl}\n    E <- M // E is the end element of M \\\\B E\n    while L != Null && R != Null  \\\\B whileNotNull\n    \\\\Expl{ Scan through L and R, appending elements to M.  E is always the\n        end element of M, and L and R are the remaining inputs that have\n        not yet been appended.\n    \\\\Expl}\n    \\\\In{\n        append the smaller input element to M, advance pointers \\\\Ref CopySmaller\n        \\\\Expl{ The smaller of head(L) and head(R) is appended to M.\n        \\\\Expl}\n    \\\\In}\n    append any remaining elements onto M \\\\Ref CopyRest\n    \\\\Expl{ One of the input lists will have been completely appended;\n        the other will have remaining elements.\n    \\\\Expl}\n\\\\Code}\n\n\\\\Code{\ninitM\n    if head(L) < head(R)\n    \\\\In{\n        M <- L \\\\B M<-L\n        L <- tail(L) \\\\B L<-tail(L)\n        \\\\Expl{ M will contain the first element of L so we skip L to\n          its next element.\n        \\\\Expl}\n    \\\\In}\n    else\n    \\\\In{\n        M <- R \\\\B M<-R\n        R <- tail(R) \\\\B R<-tail(R)\n        \\\\Expl{ M will contain the first element of R so we skip R to\n          its next element.\n        \\\\Expl}\n    \\\\In}\n\\\\Code}\n\n\\\\Code{\nCopySmaller\n    if head(L) <= head(R) \\\\B findSmaller\n    \\\\In{\n        tail(E) <- L // append L element to M\n        E <- L       // E <- end element of M\n        L <- tail(L)     // skip element in L that has been appended \\\\B popL\n    \\\\In}\n    else\n    \\\\In{\n        tail(E) <- R // append R element to M\n        E <- R       // E <- end element of M\n        R <- tail(R)     // skip element in R that has been appended \\\\B popR\n    \\\\In}\n\\\\Code}\n\n\\\\Code{\nCopyRest\n    if L == Null\n    \\\\In{\n        tail(E) <- R // append extra R elements to M \\\\B appendR\n    \\\\In}\n    else\n    \\\\In{\n        tail(E) <- L // append extra L elements to M \\\\B appendL\n    \\\\In}\n\\\\Code}\n\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\n  Main\n  Warshall(A, n) // Compute the transitive closure of a graph \\\\B 1\n  \\\\Expl{  Compute the transitive closure of a directed graph\n    with nodes 1..n, represented by n x n adjacency matrix A \n  \\\\Expl}\n  \\\\In{\n    for k <- 1 to n  \\\\B 2\n    \\\\Expl{  Consider all possible nodes k that might be\n      used as stepping stones on the way from i to j.\n    \\\\Expl}  \n    \\\\In{\n      for i <- 1 to n   \\\\B 3\n      \\\\Expl{ Explore and try to add new paths from each source node i.\n      \\\\Expl} \n      \\\\In{\n        if A[i,k]  \\\\B 4\n        \\\\Expl{ When A[i,k] is 0 (that is, there is no path from i to k), k\n          cannot possibly be a stepping stone in the path from i to j,\n          so we do not explore whether there is a path from k to j.\n        \\\\Expl}  \n        // Consider all paths from i to j, either already reachable (using \n        // nodes 1 to k-1 as intermediates), or now reachable using k as an \n        // intermediate.   \n        Find all nodes reachable from i via k \\\\Ref Reachable\n        \\\\Expl{  Identify target nodes j that are reachable from \n        source node i, whether they were already reachable \n        before now, or whether they are now reachable using \n        node k as a stepping stone.\n        \\\\Expl}\n      \\\\In}\n    \\\\In}\n  \\\\In}\n  \\\\In{\n  return A  \\\\B 8\n  \\\\In}\n\\\\Code}\n\n\\\\Code{\n  Reachable\n  \\\\In{\n  for j <- 1 to n   \\\\B 5\n  \\\\Expl{ Consider paths to all possible target nodes j.\n  The effect of this innermost loop is to update row i\n  to become its binary \"or\" with row k.\n  \\\\Expl} \n  \\\\In{\n    if A[k,j]   \\\\B 6\n    \\\\Expl{  Check if there is a path from this intermediate \n    node k to target node j.\n    \\\\Expl} \n    \\\\In{\n      A[i,j] <- 1     \\\\B 7\n      \\\\Expl{  Record the new path from i to j (through k) in the \n      reachability matrix by setting A[i,j] to 1 (if there\n      was already a path from i to j in the reachability\n      matrix, then it remains there, whether or not that\n      path goes through k.\n      \\\\Expl} \n    \\\\In}\n  \\\\In}\n  \\\\In}\n\\\\Code}\n`);\n","import parse from '../../pseudocode/parse';\n\n// Older version of Prim's without common code structure\nexport default parse(`\n\\\\Note{  REAL specification of Prim's algorithm\n\\\\Note}\n\n\\\\Code{\nMain\nPrim(E, n, s) // Given a weighted connected graph G with nodes 1..n \\\\B 1\n\\\\In{\n\\\\In{\n           // and edges E, start at node s to find a minimum spanning tree for G.\n\\\\In}\n\\\\In}\n\\\\In{\n    PQ <- InitPriorityQueue(n, s) \\\\Ref InitPQ\n    \\\\Expl{  Nodes are put in a priority queue PQ according to their\n            Cost. Smaller cost means higher priority and initially \n            all nodes have the highest possible cost, except the start\n            node s, which has cost zero (we start building the tree from\n            s and it costs nothing to get from s to s).\n    \\\\Expl}\n\n    while PQ not Empty \\\\B 3\n    \\\\In{\n        i <- RemoveMin(PQ)  // i is now part of the spanning tree \\\\B 4\n        \\\\Expl{  Node i is closest to the tree constructed so far.\n                More precisely, for every node k inside the current \n                tree, and every node j outside of it, the weight of\n                (k,i) is smaller than (or possibly equal to) the weight\n                of (k,j) for all outside nodes j. So i is picked as \n                the next node to add to the tree. The array Parent keeps\n                track of the connections: Parent[i] is the spanning tree\n                node that i is connected to. Note that, unless i = 1, \n                Parent[i] has already been determined.\n        \\\\Expl}\n        update priority queue PQ    \\\\Ref Update\n        \\\\Expl{  Adding node i to the tree may reduce the costs of nodes\n                neighbouring i, affecting PQ. The node with minumum cost \n                may also change.\n        \\\\Expl}\n    \\\\In}\n\\\\In}\n\\\\Code}\n\n\\\\Code{\nInitPQ\n        for i <- 1 to n    \\\\B 2                                           \n        \\\\In{\n            Cost[i] <- Infinity                                     \n            \\\\Expl{  The Cost of each node is initially set to Infinity to\n                    indicate we do not (yet) know how node i can be added\n                    to the spanning tree\n            \\\\Expl}\n            Parent[i] <- Null\n            \\\\Expl{  The array Parent will be used to track how nodes are \n                    connected into the resulting spanning tree. Node s\n                    will be the root of the spanning tree and an edge (j,i)\n                    is added to the tree by setting Parent[i] to j.\n                    Eventually all nodes have a (non-Null) Parent,\n                    thus all nodes are in the spanning tree.\n            \\\\Expl}\n        \\\\In}\n        Cost[s] <- 0\n        Parent[s] <- s // the parent of the tree root s points to itself\n\\\\Code}\n\n\\\\Code{\nUpdate\n        for each (i,j) in E \\\\B 5\n        \\\\Expl{  Now that i gets included in the tree, we need to check the edge \n                to each of its neighbours j.\n        \\\\Expl}\n        \\\\In{\n        if j is in PQ and weight(i,j) < Cost[j] \\\\B 6\n        \\\\Expl{  The inclusion of i may have brought i's neighbour j closer \n            to the tree; if so, update the information we have about j.\n        \\\\Expl}\n        \\\\In{\n                Cost[j] <- weight(i,j) \\\\B 7                                 \n                \\\\Expl{  The new cost for j is its distance to i.\n                \\\\Expl}\n                Update(PQ, j, Cost[j]) \\\\B 8\n                \\\\Expl{  Rearrange PQ so the priority queue reflects j's new cost.\n                \\\\Expl}\n                Parent[j] <- i \\\\B 9                                          \n                \\\\Expl{  Record the fact that j's closest neighbour in the \n                        spanning tree (so far) was i.\n                \\\\Expl}\n        \\\\In}\n\\\\Code}\n`);\n","// Prim's MST algorithm - version with common code structure\nimport parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\nMain\nPrim(G, s) // Find a minimum spanning tree for graph G starting at node s \\\\B 1\n    \\\\Expl{ Given a weighted graph G, return a minimum spanning tree\n        for the graph component that includes s (with a different termination\n        condition a minimum spanning forest for all graph components could\n        be found). Nodes are numbered 1..nmax. Prim returns the Parent\n        array, which gives a path from each connected node back to\n        the root s (which has 0 as the parent).\n    \\\\Expl}\n        \\\\In{\n                initialise, with fontier={s}, stored in Nodes \\\\Ref Init\n                while Nodes is not empty \\\\B 2\n           \\\\Expl{ Nodes is the data structure used to represent the frontier.\n                For Prim's algorithm, Nodes is a priority queue, ordered on\n                Cost (the minumum edge weight found so far). Here we highlight the Min\n                value. The priority queue also contains nodes that have not been\n                seen, which have infinite Cost. The frontier nodes are those\n                shown with a finite Cost. Nodes with no Cost shown\n                have been finalised. The frontier and finalised nodes are also\n                highlighted in the graph display.\n            \\\\Expl}\n                \\\\In{\n                    remove next node n from Nodes and finalise it \\\\Ref Next_node\n                    // The Parent of n has now been determined\n                    if task_completed(n) \\\\Ref Completed\n                    \\\\Expl{ If we want a MST for just one component we may be able to\n                            finish here, otherwise we can skip this \"if\".\n                    \\\\Expl} \n                    \\\\In{\n                        return \\\\B 3\n                        \\\\Expl{ The Parent array has a MST for the component containing s.\n                           We reset the Nodes PQ etc to show the component more clearly.\n                        \\\\Expl} \n                    \\\\In} \n                    for each node m neighbouring n // G has edge from n to m \\\\B 4\n                    \\\\In{\n                        update Nodes, Parent etc with n & m \\\\Ref UpdateNodes\n                    \\\\In}\n                \\\\In}\n                return \\\\B 99\n                \\\\Expl{ A minimal spanning forest for the whole graph has been found.\n                \\\\Expl}\n            \\\\In}\n            \n\\\\Code}\n\n\\\\Code{\n        Init\n            initialise each element of array Parent to zero \\\\B 5\n            initialise each element of array Cost to infinity \\\\B 6\n            Cost[s] <- 0 \\\\B 7\n            Nodes <- PQ containing all nodes  // only s has finite cost \\\\B 8\n            //  Nodes in the PQ with finite cost are in the frontier; others are yet to be seen. \n\\\\Code}  \n\n\\\\Code{\n        Next_node\n            n <- PQRemoveMin(Nodes) // remove lowest cost element of Nodes PQ \\\\B 9\n            \\\\Expl{ n is the node in the frontier closest to a finalised\n                    node (if it has infinite cost it must be in a component not\n                    connected to s; not actually in the frontier).\n            \\\\Expl}\n        \\\\Code}\n        \n\n\\\\Code{\n        Completed\n            if Cost[n] = infinity \\\\B 10\n            \\\\Expl{ The MST of the component containing s has been found!\n                 If we just want a minimal spanning forest the whole graph\n                 we can skip this \"if\" and continue until Nodes is empty.\n            \\\\Expl}\n\\\\Code}\n\n\\\\Code{\n        UpdateNodes\n            if m is in Nodes PQ and weight(n,m) < Cost[m] \\\\B 11\n            \\\\Expl{ Adding n to the MST may have brought n's neighbour m closer\n                 to the tree. If so, update the information we have about m.\n                 If Cost[m] = infinity it will be replaced with a finite weight,\n                 implicitly moving m from the unseen nodes to the frontier.\n            \\\\Expl} \n            \\\\In{\n                Cost[m] <- weight(n,m) // new cost is distance from n \\\\B 12\n                PQUpdateCost(Nodes, m, Cost[m]) // update cost in Nodes PQ \\\\B 13\n                Parent[m] <- n \\\\B 14\n                \\\\Expl{ m's closest neighbour in the MST (so far) is n.\n                \\\\Expl}\n            \\\\In}\n\\\\Code}\n`);\n","// Kruskal's MST algorithm\n// XXX separate init code\nimport parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\nMain\nKruskal(G)  // Compute minimum spanning tree for graph G \\\\B Kruskal(G)\n    \\\\Expl{ Given a weighted graph G, return Selected, a set of edges.\n        If G is connected, Selected represents a minimal spanning tree\n        (there may be more than one tree with minimal weight).\n        In general it represents a minimal spanning forest (one MST for\n        each connected component of the graph).\n    \\\\Expl}\n\\\\In{\n    Initialise Edges, Selected (and Cost) and NodeSets \\\\Ref Init\n    while Edges is not empty and size(Selected) < size(G) - 1 \\\\B while\n    \\\\Expl{ size(G) is the number of nodes in G.\n        A tree with n nodes has n-1 edges, so if there are size(G)-1\n        selected edges, all nodes are in the same tree. It's not necessary\n        to perform this check but it can be made easy and can save time\n        for connected graphs with many edges.\n    \\\\Expl}\n    \\\\In{\n        (n1, n2) <- RemoveMin(Edges) // remove edge n1-n2 with minimum weight \\\\B RemoveMin\n        \\\\Expl{ The graph display highlights node n1 and all nodes\n            connected to it by selected edges in one colour.\n            If n1 and n2 are not already connected by selected edges the\n            same is done with n2, with a different colour.\n        \\\\Expl}\n        \\\\Note{highlight edge + trees for n1, n2?\n        \\\\Note}\n        if n1 and n2 are in different trees \\\\Ref DifferentTrees\n        \\\\In{\n            Add e to Selected \\\\B addSelected\n            \\\\Expl{ The counter used to keep track of size(Selected)\n                can be incremented here.\n            \\\\Expl}\n            union(NodeSets, n1, n2) // update NodeSets, combining n1&n2 \\\\B union\n            \\\\Expl{ This is a union-find operation that takes the union\n                of the sets containing n1 and n2, respectively, since\n                they are now connected by a selected edge.\n            \\\\Expl}\n        \\\\In}\n    \\\\In}\n    return Selected \\\\B return\n    \\\\Note{display total cost\n    \\\\Note}\n\\\\In}\n\\\\Code}\n\n\\\\Code{\nInit\n    Edges <- all edges in G // may involve sorting the edges \\\\B initEdges\n    \\\\Expl{ We display Edges as a list, sorted on weight. Other data\n        structures could be used but at each stage the edge with the\n        next lowest weight is removed and this should be efficient.\n        There may be (far) more edges than nodes; here we omit listing the\n        edges with higher weights if there are too many.\n    \\\\Expl}\n    Selected <- empty set of edges (Costs also shown) \\\\B SelectedEmpty\n    \\\\Expl{ The number of selected edges is always less than the number\n        of nodes so the display can list all of them. We also display\n        the cost (weight) of each selected edge.\n        Explicitly keeping track of the number of selected edges is\n        also beneficial, eg, with a simple counter initialised to zero\n        here. It is not necessary but allows us to exit\n        from the while loop significantly earlier in some cases.\n    \\\\Expl}\n    NodeSets <- set of singleton sets with each node in G \\\\B initNodeSets\n    \\\\Expl{ NodeSets is a set of sets of nodes that are connected by\n        selected edges (like a forest but without information about\n        which edges are used to connect the nodes of each tree).\n        Initially there are no selected edges so we have singleton sets.\n    \\\\Expl}\n\\\\Code}\n\n\\\\Code{\nDifferentTrees\n    \\\\Note{highlight find(n1), find(n2)?\n    \\\\Note}\n    if find(NodeSets, n1) != find(NodeSets, n2) \\\\B DifferentTrees\n    \\\\Expl{ Find is a union-find operation that returns a representative\n        element of a set containing a given element. If the elements\n        returned for n1 and n2 are not equal, it means they are not\n        in the same set, so they are not connected by selected edges.\n    \\\\Expl}\n\\\\Code}\n\n\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Note{ REAL specification of quicksort (median of 3 version) for animation\n\n\\\\Note}\n    \n\\\\Code{\nMain\n// Sort array A[left]..A[right] in ascending order\nQuicksort(A, left, right) \\\\B 1\n\\\\Expl{  We need left and right indices because the code is recursive\n        and both may be different for recursive calls.\n\\\\Expl}\n    if (left < right) \\\\B 2\n    \\\\Expl{  Terminating condition (if there are less than two\n            elements in the array segment do nothing).\n    \\\\Expl}\n    \\\\In{\n        Choose pivot    \\\\Ref ChoosePivot \n        \\\\Expl{  There are various ways to choose the \"pivot\", which is\n                used to distinguish (relatively) small elements and\n                (relatively) large elements in the partitioning process.\n        \\\\Expl}\n        Partition array segment    \\\\Ref Partition \n        \\\\Expl{  This is where most of the work of Quicksort gets done.\n                We start with an unordered array segment, and finish\n                with an array segment containing the pivot in its final\n                place, A[i], and two partitions, one containing only\n                elements smaller than or equal to the pivot, and the other\n                containing only elements larger than or equal to the pivot.\n                There are various ways this can be coded, often with\n                some subtle points.\n        \\\\Expl}\n        Sort FirstPart   \\\\Ref QuicksortFirst\n        \\\\Expl{  Sort elements left of (smaller or equal to) the pivot, which is in A[i].\n        \\\\Expl}\n        Sort SecondPart  \\\\Ref QuicksortSecond\n        \\\\Expl{  Sort elements right of (greater or equal to) the pivot, which is in A[i].\n        \\\\Expl}\n    \\\\In}\n    // Done \\\\B 19\n\\\\Code}\n\n\\\\Code{\nQuicksortFirst\n// *Recursively* sort first part: \\\\B 300\nQuicksort(A, left, i - 1) \\\\B 3\n\\\\Code}\n\n\\\\Code{\nQuicksortSecond\n// *Recursively* sort second part: \\\\B 400\nQuicksort(A, i + 1, right) \\\\B 4\n\\\\Code}\n\n\\\\Code{\nChoosePivot\nPut the left, right and middle elements in increasing order    \\\\Ref SortLMR\n\\\\Expl{  This method of choosing a pivot uses the median of the left,\n        right and middle elements of the array segment. Sorting the left,\n        middle and and right elements ensures the median is in the middle\n        plus A[left] and A[right] are in their correct partitions, so \n        they can be skipped in the rest of the partitioning.\n\\\\Expl}\nSwap(A[mid], A[right - 1]) // put median in A[right-1] \\\\B 18\n\npivot <- A[right - 1] \\\\B 5\n\\\\Expl{  Using the median of the left, right and middle elements for the\n        pivot leads to very good performance for sorted and reverse sorted\n        inputs, and the theoretical worse case is rarely encountered.\n\\\\Expl}\n\\\\Code}\n    \n\\\\Code{\nSortLMR\nmid <- (left + right) / 2 // index of middle element \\\\B 14\nif A[left] > A[mid] \\\\B 20\n\\\\In{\n    Swap(A[left], A[mid]) \\\\B 15\n\\\\In}\nif A[mid] > A[right] \\\\B 21\n\\\\In{\n    Swap(A[right], A[mid]) \\\\B 16\n    if A[left] > A[mid] \\\\B 22\n    \\\\In{\n        Swap(A[left], A[mid]) \\\\B 17\n    \\\\In}\n    // now A[left] <= A[mid] <= A[right]\n\\\\In}\n\\\\Code}\n    \n\\\\Code{\nPartition\nSet index i at left the of array segment and j at the right    \\\\Ref init_iAndj \n\\\\Expl{  i scans from left to right stopping at \"large\" elements\n(greater than or equal to the pivot) and j scans from right to left\nstopping at \"small\" elements (less than or equal to the pivot).\n\\\\Expl}\nwhile i < j \\\\B 6\n\\\\Expl{  When the indices cross, all the large elements at the left of\n        the array segment have been swapped with small elements from the\n        right of the array segment. The coding here can be simplified \n        if we use \"break\" or similar to exit from this loop.\n\\\\Expl}\n\\\\In{\n    Repeatedly increment i until A[i] >= pivot \\\\B 7\n    \\\\Expl{  Stopping at elements equal to the pivot results in better\n            performance when there are many equal elements and because\n            the pivot is in A[right] this also acts as a sentinel so we \n            don't increment beyond the right of the array segment.\n    \\\\Expl}\n    Repeatedly decrement j until A[j] <= pivot or j < i \\\\B 8\n    \\\\Expl{  Stopping at elements equal to the pivot results in better\n            performance when there are many equal elements. If the \n            indices cross we exit the outer loop; this also stops us \n            decrementing beyond the left of the array segment.\n    \\\\Expl}\n    if j > i \\\\B 9\n    \\\\Expl{  If the indices cross, we exit the loop.\n    \\\\Expl}\n    \\\\In{\n        swap(A[i], A[j]) \\\\B 10\n        \\\\Expl{  Swap the larger element (A[i]) with the smaller\n                element (A[j]).\n        \\\\Expl}\n    \\\\In}\n\\\\In}\n// Put the pivot in its final place\nswap(A[i], A[right - 1]) \\\\B 13\n\\\\Expl{  The pivot element, in A[right-1], is swapped with A[i]. All\n        elements to the left of A[i] must be less then or equal to\n        the pivot and A[i] plus all elements to its right must be\n        greater than or equal to the pivotC thus the pivot is now in its\n        final position and is not considered further.\n\\\\Expl}\n\\\\Code}\n    \n\\\\Code{\ninit_iAndj\ni <- left \\\\B 11\n\\\\Expl{  The i pointer scans left to right with a preincrement and\nis set to left (A[left] is known to be less than or equal to the\npivot).\n\\\\Expl}\nj <- right - 1 \\\\B 12\n\\\\Expl{  The j pointer scans right to left with a predecrement and\nis set to right-1. A[right] is known to be greater than or equal to the\npivot and the pivot, in A[right-1], is skipped in the\nscanning it is swapped into its correct position at the end).\n\\\\Expl}\n\\\\Code}\n    \n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Note{  REAL specification of brute-force string search\n    \\\\Note}\n    \\\\Code{\n    Main\n    BruteForceStringSearch(T, n, P, m)  \\\\B 1\n      // Look for pattern P (of length m) in text T (of length n).\n      // If found, return the index of P's first occurrence in T.\n      // Otherwise return -1.\n    \\\\Expl{  The pattern is P[0]..P[m-1] and the text is T[0]..T[n-1]. \n    \\\\Expl}\n    \\\\In{\n        i <- 0 \n        while i+m <= n \n        \\\\Expl{  If i plus the length of the pattern exceeds \n                the length of the text, no match is possible.\n        \\\\Expl}\n        \\\\In{\n                Look for a match starting from T[i]   \\\\Ref LookForMatch\n                i <- i+1 \\\\B 2\n                \\\\Expl{  We got here if there was no match starting at T[i],\n                        so we try starting from the next position, i+1, in T.\n                \\\\Expl}\n        \\\\In}\n        return (-1)  \\\\B 6\n        \\\\Expl{  We use -1 to indicate that there was no match.\n        \\\\Expl}\n    \\\\In}\n    \\\\Code}\n    \\\\Code{\n    LookForMatch\n    j <- 0 \n    while j < m and P[j] = T[i+j] \\\\B 3\n    \\\\Expl{  We keep progressing the search as long as we have not \n            exhausted the pattern (that is, j<m) and the pattern \n            checked so far matches the string starting from T[i].\n    \\\\Expl}\n    \\\\In{\n            j <- j+1 \\\\B 4\n    \\\\In}\n    if j = m \n    \\\\Expl{  If we have reached the end of the pattern, that means\n            we have matched T[i]..T[i+m-1].\n    \\\\Expl}\n    \\\\In{\n            return i \\\\B 5\n    \\\\In}\n    \\\\Code}\n    \\\\Note{  The following is an implementation in C:\n    #include<stdio.h>\n    #include<stdlib.h>\n    #include<string.h>\n    int\n    brute_force_string_search(char T[], int n, char P[], int m) {\n        int i, j;\n        i = 0;\n        while (i+m <= n) { // If i+m > n, no match is possible\n            j = 0;\n            while (j < m && P[j] == T[i+j]) // Until exhaustion or mismatch,\n                j = j+1;                    //   continue the matching\n            if (j == m)   // If we reached the end of the pattern\n                return i; //   we had a match T[i]..T[i+m-1]\n            i = i+1;\n        }\n        return (-1);  \n    }\n    int\n    main() {\n        int i, n, m;\n        char Text[TEXT_SIZE + 1];\n        char Pattern[PATTERN_SIZE + 1];\n        printf(\"String to search in:\\n\");\n        fgets(Text, TEXT_SIZE, stdin);\n        printf(\"String to search for:\\n\");\n        fgets(Pattern, PATTERN_SIZE, stdin);\n        n = strlen(Text);\n        m = strlen(Pattern);\n        if (Text[n-1] == '\\n') {\n            n = n-1;\n            Text[n] = '\\0';\n        }\n        if (Pattern[m-1] == '\\n') {\n            m = m-1;\n            Pattern[m] = '\\0';\n        }\n        i = brute_force_string_search(Text, n, Pattern, m);\n        if (i == -1)\n            printf(\"No match\\n\");\n        else\n            printf(\"Match from position %d\\n\", i);\n    }\n    \\\\Note}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Note{  REAL specification of Horspool's algorithm\nDraft Harald 15 Aug 2021\nEdited Linda 31 Aug 2021\nLinda added AlphabetSize explanation 1 Sept 2021\n\\\\Note}\n\n\\\\Note{  Provide a visualisation in which a \"shift table\" is first\n        constructed, and then the search is shown as the pattern P\n        being slid across the text T.\n\\\\Note}\n\n\\\\Overview{\n    Horspool's algorithm uses a preprocessing of the pattern P to limit\n    the number of partial matches attempted, compared to the brute-force\n    method. As with the brute-force method, we can think of P as \n    \"sliding along\" the text T. Horspool's method, however, matches the\n    pattern P from right to left. Its preprocessing generates a Shift\n    Table which gives, for each character, the number of places to shift\n    the pattern along, in case of a failed partial match. The shift table has a value\n    for every character in the alphabet, including characters that are not in pattern P, \n   but could be in text T. The alphabet contains all characters that might possibly be in the \n   text and pattern.  In this visualization, the alphabet contains all letters in the \n   Roman alphabet (A-Z) plus the Space character.  Alphabets might be smaller, e.g. for DNA \n   sequences the alphabet would be the four bases, or they might be larger, e.g. the characters\n   found in English literature, which would include both upper and lower case letters, space,\n   punctuation, numbers, etc.\n\n     As an example of how the Shift Table is used:\n    if the pattern is \"wally\" and matching fails (immediately) because the\n    'y' gets compared against an 'x' in the text, a character not found in the pattern,\n    the pattern can be slid 5 characters forward because there is not chance of a match.  So the value for \n   character 'x' in the shift table is 5.\n\\t \n    If the failure was due to comparing 'y' against an 'a', a character\n    that does appear in the pattern, the pattern can be slid \n    forward by 3 characters, to where the 'a' in the text is aligned with the last 'a' in the pattern. At this point \n    we need to start another attempted match from the rightmost end of the pattern. Where a\n    character appears repeatedly in the pattern, as 'l' does in the \"wally\"\n    example, it is the last occurrence that counts, so in this example\n    the shift therefore will be 1, not 2.\\t \n\\\\Overview}\n\n\\\\Code{\nMain\nHorspool(T, n, P, m)  \\\\B 1\n  // Look for pattern P (of length m) in text T (of length n).\n  // If found, return the index of P's first occurrence in T.\n\\\\Expl{  The pattern is P[1]..P[m] and the text is T[1]..T[n].\n\\\\Expl}\n\\\\In{\n    CreateShiftTable          \\t\\t\\t\\t \\\\Ref CreateShiftTable\n    Search \\t\\t                              \\\\Ref Search\n\\\\In}\n\\\\Code}\n\n\\\\Code{\nCreateShiftTable\nInitialize ShiftTable   \\\\Ref InitializeShiftTable\n\n//Put in values for characters in pattern P\nfor j <- 1 to m-1  \\\\B 4\n\\\\In{\n    Shift[P[j]] <- m - j  \\\\B 5\n    \\\\Expl{ For characters that are in pattern P, overwrite the default shift to something smaller.\n    \\\\Expl}\\t \\t\n\\\\In}\n\\\\Code}\n\n\\\\Code{\nSearch\ni <- m  \\\\B 6\nwhile i <= n  \\\\B 11\n\\\\Expl{ Until matching has gone beyond the length n of text T, start another attempted match. \n\\\\Expl}\n\\\\In{\n    j <- 0  \\\\B 13\n    while j < m and P[m-j] = T[i-j] \\\\B 8\n    \\\\Expl{ These characters match.\n    \\\\Expl} \\t\\t\n    \\\\In{\n        j <= j + 1 \\\\B 9\n    \\\\In}\n    \\\\Expl{  So move back one character and keep trying to match.\n    \\\\Expl} \n    if j = m  \\\\B 14\n    \\\\In{\n        // we have a match\n        return i - m + 1  // start of the match \\\\B 10\n    \\\\In}\n    else  \\\\B 15\n    \\\\In{\n    i <- i + Shift[T[i]] \\\\B 7\n    \\\\Expl{  Advance the pattern, consulting the shift table to see how\n            far, given the attempted match starting with T[i] failed.\n    \\\\Expl}\n    \\\\In}\n\\\\In}  \nreturn NOT FOUND  // Signal that there was no match   \\\\B 12\n\\\\Code}\n\\\\Code{\nInitializeShiftTable\nfor k <- 1 to AlphabetSize \\\\B 2\n\\\\Expl{  The Alphabet contains all characters from which the\ntext or pattern may be drawn, and AlphabetSize is the\nnumber of characters in the Alphabet.  \n\\\\Expl}        \n\\\\In{\n    Shift[k] <- m  \\\\B 3\n    \\\\Expl{  Set the default shift to be length m of pattern P.  That is, whenever\n     the current character in the text is not in the pattern at all, we do not have\n     to try any more possible matches that contain this character, so we make a large skip. \n    \\\\Expl}\n\\\\In}\n\\\\Code}\n\\\\Note{  The following is an implementation in C:\n\n// Horspool's string matching algorithm\n\n#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\n\n#define ALPHABET_SIZE 128\n#define TEXT_SIZE 41    // Allow for strings with up to 40 characters\n#define PATTERN_SIZE 21 // Allow for search strings with up to 20 characters\n\nint horspool_string_search(char T[], int n, char P[], int m);\nvoid findshifts(char P[], int m);\n\nchar Shift[ALPHABET_SIZE];\n\nint\nmain() {\n    int i, n, m;\n    char Text[TEXT_SIZE + 2];\n    char Pattern[PATTERN_SIZE + 2];\n\n    printf(\"String to search in:\\\\n\");\n    fgets(Text+1, TEXT_SIZE, stdin);        // Leave Text[0] unused\n    Text[0] = '\\\\0';\n\n    printf(\"String to search for:\\\\n\");\n    fgets(Pattern+1, PATTERN_SIZE, stdin);  // Leave Pattern[0] unused\n    Pattern[0] = '\\\\0';\n\n    n = strlen(Text+1);\n    m = strlen(Pattern+1);\n\n    // Remove a possible terminating newline character from Text\n    if (Text[n] == '\\\\n') {\n        Text[n] = '\\\\0';\n        n = n-1;\n    }\n\n    // Remove a possible terminating newline character from Pattern\n    if (Pattern[m] == '\\\\n') {\n        Pattern[m] = '\\\\0';\n        m = m-1;\n    }\n\n    i = horspool_string_search(Text, n, Pattern, m);\n    if (i == -1)\n        printf(\"No match\\\\n\");\n    else\n        printf(\"Match from position %d\\\\n\", i);\n}\n\nint\nhorspool_string_search(char T[], int n, char P[], int m) {\n    // Assume the strings of interest are T[1]..T[n] and P[1]..P[m]\n    int i, j;\n\n    findshifts(P, m);\n    i = m;\n    while (i <= n) {          // If i > n, no match is possible\n        j = 0;\n        while (j < m && P[m-j] == T[i-j]) // Until possible mismatch,\n            j = j+1;                      //   continue the matching\n        if (j == m)           // If we reached the end of the pattern\n            return i-m+1;     //   then we had a match T[i-m+1]..T[i]\n        i = i + Shift[(int) T[i]];\n    }\n    return (-1);              // There was no match\n}\n\nvoid\nfindshifts(char P[], int m) {\n    // Assume the pattern of interest is P[1]..P[m]\n    int j, k;\n    for (k = 0; k < ALPHABET_SIZE; k++)\n        Shift[k] = m;           // m is the default shift\n    for (j = 1; j < m; j++)\n        Shift[(int) P[j]] = m-j;\n    return;\n}\n\n\\\\Note}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Note{  REAL specification Union Find\n\\\\Note}\n\n\\\\Note{\nCurrent version uses Union by rank and path halving for Find due to\nsimple coding + its easy to separate path compression\n\nPlan is to provide button to disable path compression so\nstudents can explore what can happen without it.\n\nTentative idea for visualisation is to have array view, with rows for\nn, parent[n] and rank[n] (rank[n] can be blank for non-roots) plus\nforest view.  The forest could have fixed width columns with one number\nper column (plus rank for root nodes?). Union operation could shuffle\nrightmost tree to the left until its next to the tree to be merged with,\nthen one tree could be moved downwards one row and new edge added.\nRank information could be elided for some levels of abstraction.\n\\\\Note}\n\n\\\\Overview{\n\nUnion Find algorithms allow us to maintain and manipulate the partitioning\nof a set into (disjoint) subsets. There are two main operations supported:\nUnion and Find. Union takes two subsets and merges them together to form\na single subset.  Find takes and element and returns a representative\nelement of the subset it occurs in. It must be the case that Find(n) =\nFind(m) if and only if n and m are in the same subset, but which element\nis returned is left to the implementation (this flexibility allows for\nsimple, efficient solutions). There may also be an operation to add\nan additional element in a singleton subset; here we simply initialise\nthe data structure with a fixed number of elements, each in a singleton\nsubset. It is often convenient to number the elements 1, 2, 3,... allowing\nthe array-based solution we present here.\n\nUnion-Find has many and varied applications.  For example, to determine\nconnected components of an undirected graph, we can simply call Union(a,b)\nfor each edge a-b in the graph, then any two nodes in the same connected\ncomponent will have have the same result returned by Find.  Kruskal's\nalgorithm for finding minimum spanning trees is similar.\n\nTo represent a partitioning with N subsets we use N trees, each containing\nthe elements of the subset. Each tree node has a \"parent\" pointer and a\nnode can have many children pointing to it (there are no pointers from\nparents to children).  The root node points to itself (a bit of a trick\nthat makes code simpler).  Find returns the root node and Union joins two\ntrees together.  There are some subtle aspects to ensure the height of\nthe trees is kept small, so that finding the root can be done very quickly.\nExtra information is maintained for each subset so Union can reduce the\nheight and when Find traverses a path from a node to the root, we take\nthe opportunity to reduce the length of the path for future calls to Find\n(the tree height is reduced and the \"width\" is increased by having more\nchildren for some nodes).\n\nInterestingly, the extra information used to reduce the height is only\napproximate and the method used to reduce path lengths is not as thorough\nas some obvious alternatives. These shortcuts make the code quite short,\nbut it is still extremely effective at reducing the tree height - most\nnodes point directly to the root. It has been shown that no matter how\nlarge the set is, Find has takes very close to constant time on average\n(the inverse of the Ackerman function to be precise).  In this animation\nwe allow path compression to be disabled so you can experiment to see\nhow much this aspect of the algorithm reduces tree height.\n\n\\\\Overview}\n\n\\\\Note{n changed to k in pseudocode to reduce confusion but bookmarks\nstill use n\n\\\\Note}\n\\\\Code{\nShorten_path\n    parent[k] <- parent[parent[k]] (if enabled) // point to grandparent, not parent \\\\B parent[n] <- parent[parent[n]]\n    \\\\Expl{ By replacing the parent pointer by a pointer to the\n        grandparent at each step up the tree, the path length is\n        halved. This turns out to be sufficient to keep paths very\n        short. Note that the root node is its own parent.\n        The animation allows this path compression to be disabled so\n        you can compare the relative heights of the trees produced.\n    \\\\Expl} \n\\\\Code} \n\n\\\\Code{\nMain\nUnion(n, m) // merge/union the subsets containing n and m, respectively \\\\B Union(n, m)\n\\\\In{\n    n <- Find(n) \\\\B n <- Find(n)\n    m <- Find(m) \\\\B m <- Find(m)\n    if n == m // in same subset already - nothing to do \\\\B if n == m\n        \\\\In{\n        return \\\\B return\n        \\\\In}\n    swap n and m if needed to ensure m is the \"taller\" subtree \\\\Ref Maybe_swap\n    parent[n] = m // add the shorter subtree (n) to the taller one (m) \\\\B parent[n] = m\n    \\\\Expl{ This sometimes increases the height of the resulting tree but\n            if we added the taller to the shorter the height would always\n            increase.\n    \\\\Expl} \n    adjust the \"height\" measure of the taller subtree (m) \\\\Ref Adjust_rank\n    \\\\Expl{ The shorter subtree remains the same but the taller one\n            may have grown because it had had an extra subtree added.\n    \\\\Expl} \n\\\\In} \n\n//=======================================================\n\\\\Note{n changed to k in pseudocode to reduce confusion but bookmarks\nstill use n\n\\\\Note}\nFind(k) // return the root of tree containing k \\\\Ref Find(n)\n\\\\Code}\n\n\\\\Code{\nMaybe_swap\n    if rank[n] > rank[m] \\\\B if rank[n] > rank[m]\n        \\\\Expl{ We maintain a \"rank\" for each subset, which is an upper\n                bound on the height. The actual height may be less due\n                to paths being shortened in Find.\n        \\\\Expl} \n        \\\\In{\n        swap(n, m) \\\\B swap(n, m)\n        \\\\In}\n\\\\Code}\n\n\\\\Note{n changed to k in pseudocode to reduce confusion but bookmarks\nstill use n\n\\\\Note}\n\\\\Code{\n    Find(n)\n    \\\\In{\n        while k != parent[k]  // while we are not at the root \\\\B while n != parent[n]\n        \\\\In{\n            shorten path from k to root \\\\Ref Shorten_path\n            \\\\Expl{ There are several ways of shortening the path back to the\n                    root. The most obvious is to follow the path to the root\n                    then follow it again, making each element point to the\n                    root. The version here doesn't shorten the path as much\n                    but is simpler and overall it works e xtremely well.\n                    The animation allows path compression to be disabled so\n                    you can compare the relative heights of the trees produced.\n            \\\\Expl} \n            k <- parent[k]  // go up the tree one step \\\\B n <- parent[n]\n        \\\\In}\n        return k // return root \\\\B return n\n    \\\\In} \n    \\\\Code}\n\n\\\\Code{\n    Adjust_rank\n        if rank[n] == rank[m] \\\\B if rank[n] == rank[m]\n            \\\\Expl{  If we are adding a strictly shorter subtree to m the height\n                    doesn't change, but if the heights were equal the new height\n            \\\\Expl}\n            \\\\In{\n                rank[m] <- rank[m] + 1 \\\\B rank[m] <- rank[m] + 1\n                \\\\In}\n            \\\\Note{ Should we use ++ or \"increment\"???\n            \\\\Note}\n    \\\\Code}\n\n\\\\Code{\nInitialise\n    \\\\Note{ No need to animate this?? We just have this as the initial\n        state of the animation.\n    \\\\Note}\n      parent[i] = i and rank[i] = 0 for all elements i in the set \\\\B parent[i] = i and rank[i] = 0 for all elements i in the set\n    \\\\Expl{ Initially, each element i is in its own singleton subset. If\n            the array has free space, extra elements can be added and\n            initialised in the same way.\n    \\\\Expl} \n\\\\Code}\n\n\\\\Note{\n// Union Find: simple implementation for testing animation specification\n// Sample test:\n/*\n% cat << END > test1\nf 2\nu 2 3\nf 2\nu 1 3\np\nu 5 4\nu 3 4\nf 2\np\nu 1 0\np\nEND\n% ./a.out < test1\nFound 2 from 2\nMerged 2 and 3\nFound 3 from 2\nMerged 1 and 3\nn           0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19\nparent[n]   0  3  3  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19\nrank[n]     0  0  0  1  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0\nMerged 5 and 4\nMerged 3 and 4\nFound 4 from 2\nn           0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19\nparent[n]   0  3  4  4  4  4  6  7  8  9 10 11 12 13 14 15 16 17 18 19\nrank[n]     0  0  0  1  2  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0\nMerged 1 and 0\nn           0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19\nparent[n]   4  4  4  4  4  4  6  7  8  9 10 11 12 13 14 15 16 17 18 19\nrank[n]     0  0  0  1  2  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0\n\n*/\n#include<stdio.h>\n#include<stdlib.h>\n\n#define demand(fact, remark)\\\n    {   if (!(fact))\\\n        {   fprintf(stderr, \"%s\\n\", remark); exit(1);   }\\\n    }\n\n#define SIZE 20    // (max) size of set we are partitioning\nint parent[SIZE];  // parent for each node\nint rank[SIZE];    // rank for each node\n#ifdef NOCOMPRESS       \nint compresspaths = 0;\n#else\nint compresspaths = 1;\n#endif\n\n// add operation; here we add all the elements in the array\n// at the start, don't keep track whats in the set and don't\n// expand the array\n// Might be better to store max, and have int add(void)\nvoid\nadd(int n) {\n    demand(n < SIZE, \"too big!\");\n    parent[n] = n;\n    rank[n] = 0;\n}\n\n// find operation\nint\nfind(int n) {\n    while (parent[n] != n){\n        // we want to compress paths in some way, eg path halving as\n        // done here but might want the option of avoiding it so\n        // students can see what happens without it\n        if (compresspaths)\n                parent[n] = parent[parent[n]];\n        n = parent[n];\n    }\n    return n;\n}\n\n// union operation, called merge since union is a C keyword\nvoid\nmerge(int n, int m) {\n    n = find(n);\n    m = find(m);\n    if (n == m) // in same set - nothing to do\n        return;\n    if (rank[n] > rank[m]) { // if n a larger tree, swap n and m\n        int tmp = m;\n        m = n;\n        n = tmp;\n    }\n    parent[n] = m; // make smaller tree (n) a subtree of larger (m)\n    if (rank[n] == rank[m]) // adjust size (rank) of new root\n        rank[m]++;\n    return;\n}\n\nint\nmain() {\n    int c, n1, n2;\n    for (n1 = 0; n1 < SIZE; n1++)\n        add(n1);\n    // we have find, union + print commands\n    // could have add + toggle path compression\n    while ((c = getchar()) != EOF) {\n        if (c == 'f') {    // find element; print root\n            scanf(\"%d\", &n1);\n            demand(n1 < SIZE, \"too big!\");\n            n2 = find(n1);\n            printf(\"Found %d from %d\\n\", n2, n1);\n        } else if (c == 'u') { // union/merge two sets\n            scanf(\"%d %d\", &n1, &n2);\n            demand(n1 < SIZE, \"too big!\");\n            demand(n2 < SIZE, \"too big!\");\n            merge(n1, n2);\n            printf(\"Merged %d and %d\\n\", n1, n2);\n        } else if (c == 'p') { // print current state\n            printf(\"n         \");\n            for (n1 = 0; n1 < SIZE; n1++)\n                printf(\"%3d\", n1);\n            printf(\"\\n\");\n            printf(\"parent[n] \");\n            for (n1 = 0; n1 < SIZE; n1++)\n                printf(\"%3d\", parent[n1]);\n            printf(\"\\n\");\n            printf(\"rank[n]   \");\n            for (n1 = 0; n1 < SIZE; n1++)\n                printf(\"%3d\", rank[n1]);\n            printf(\"\\n\");\n        }\n    }\n    return 0;\n}\n\n/* Example of test\n\n\n*/\n\\\\Note} \n\n\\\\Note{\nHandy things to copy/paste in vim for editing this file:\n(mostly in my .exrc now)\n:set ts=4 et\n\n\\\\In{\n\\\\In}\n\n\\\\Note}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\n    Shorten_path\n        parent[n] <- parent[parent[n]] (if enabled) // point to grandparent, not parent \\\\B parent[n] <- parent[parent[n]]\n        \\\\Expl{ By replacing the parent pointer by a pointer to the\n            grandparent at each step up the tree, the path length is\n            halved. This turns out to be sufficient to keep paths very\n            short. Note that the root node is its own parent.\n            The animation allows this path compression to be disabled so\n            you can compare the relative heights of the trees produced.\n        \\\\Expl} \n\\\\Code} \n    \n\\\\Code{\n    Main\n    Find(n) // return root of tree containing n \\\\B Find(n)\n    \\\\In{\n        while n != parent[n]  // while we are not at the root \\\\B while n != parent[n]\n        \\\\In{\n            shorten path from n to root \\\\Ref Shorten_path\n            \\\\Expl{ There are several ways of shortening the path back to the\n                    root. The most obvious is to follow the path to the root\n                    then follow it again, making each element point to the\n                    root. The version here doesn't shorten the path as much\n                    but is simpler and overall it works extremely well.\n                    The animation allows path compression to be disabled so\n                    you can compare the relative heights of the trees produced.\n            \\\\Expl} \n            n <- parent[n]  // go up the tree one step \\\\B n <- parent[n]\n        \\\\In}\n        return n // return root \\\\B return n\n    \\\\In} \n    \\\\Code}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Note{  REAL specification of 234 tree insertion and search\n\\\\Note}\n    \n\\\\Note{  We would like the AIA representation of data structures for \n        search applications to share a certain format, allowing the \n        student to develop and use a structure (such as a BST) \n        through these operations: create a structure, search, insert, \n        and remove elements. This specification only covers \n        construction (using insertion) and search.\n\\\\Note}\n    \n\\\\Overview{\n\n\\\\Note{ Linda's changes 7/2023\npar 1 line 4 \"named for...\"\npar 2 line 3 \"made for a given tree\"\nMore later I didn't keep track of them\n  more explanation of why splitting, top down, bottom up\nLast paragraph end with B-trees\n\\\\Note}\n\nA 234 tree is a form of balanced search tree (and a simple instance\nof a B-tree).  All leaves are at the same level of the tree. The\ntree is made up of three kinds of nodes: two-nodes, three-nodes\nand four-nodes, named for the number of childred the node has.\nTwo-nodes are the same as binary search tree nodes,\ncontaining a left subtree (child1), a key (key1) and a right subtree\n(child2). Ordinarily they would also hold a data field, which the user\nwould like to find by searching for the key. Since this field has no\nimpact on how insertion and search take place, we disregard it here.\n\nThe tree is ordered so the keys in child1 are less than key1, which is\nless than the keys in child2.\nThree-nodes have two keys and three subtrees, named and\nordered child1, key1, child2, key2, child3.  Four-nodes have three keys\nand four subtrees, named and ordered child1, key1, child2, key2, child3,\nkey3, child4.  \n\nFor simplicity, equal keys have been ignored in this module. One way of handling duplicate\nkeys would be to have a linked list of records originating in the node. Alternatively an\napplication might not support records with equal keys, sending an error message if there\nis an attempt to insert a record whose key is already in the tree.  Another alternative might be\nto make an arbitrary choice beween storing equal keys in the left or the right subtree, and implement\na search function that finds all matching keys.\n\nNew items are always inserted in the leaves of the tree. Insertion into\ntwo-nodes and three-nodes is straightforward - just add the key and another pointer\nto the leaf node. However, if the search for the correct insertion point leads to a four-node,\nthe four-node\nmust be  split into two two-nodes, so as to make space for the insertion.\nBecause splitting,\nmight propagate up the tree, if the parent of the newly split four-node was also a four-node,\nit is simplest to implement the\n\"top down\" 234 tree insertion algorithm shown in this animation, which always splits four-nodes\nencountered as we traverse down the tree. There is a more complicated\n\"bottom up\" version that waits to split four-nodes until the split is actually needed.  The\n\"bottom-up\" version can slightly reduce the number of nodes in the\ntree in some cases, potentially improving efficiency.  \n\n---\n\nAlthough 234 trees\nare a bit cumbersome to code directly in many programming languages due\nto the multiple kind of nodes, they provide the idea behind red-black\ntrees.  Red-black trees can be seen as a representation of 234-trees\nusing a simpler data structure but a more complicated algorithm. Another\nvariation of 234-trees is to ensure all nodes as compact as possible,\nfor example, omitting child pointers from leaf nodes. This results in\nmore node types and more re-allocation of memory when node types change\nbut can be very space-efficient. Other variations of the 234-trees are the B-tree\nand the B+ tree, where each node has between M and M/2 children. The B- and B+-tree\nminimize memory accesses by setting M so that the node size is equal\nto the page of the file-system.\n\n\\\\Overview}\n  \n    \n\\\\Note{\n    Visualisation can use one, two or three boxes for nodes, with arrows for\n    subtrees originating from the bottom corner of the boxes. Ideally,\n    animation should be consistent with binary search tree animation where\n    possible.\n\\\\Note}\n    \n\\\\Code{\n    Main\n    T234_Insert(t, k) // Insert key k into 234 tree t \\\\B T234_Insert(t, k)\n    \\\\In{\n        if t = Empty \\\\B if t = Empty\n        \\\\In{\n            t <- a new two-node containing k and empty subtrees \\\\B t <- a new two-node containing k and empty subtrees\n        \\\\In}\n        else \\\\B else: T234_Insert(t, k)\n        \\\\In{\n            Traverse down to a leaf node p, transforming any four-nodes \\\\Ref Traverse \n            \\\\Expl{  Any four-node encountered is split into two two-nodes and the\n                    middle key (key2) is inserted into the parent node. Once this\n                    is done, we can be sure the leaf will have enough room for an\n                    extra key. The tree grows in height when the root node is\n                    split.\n            \\\\Expl}\n            Insert k into leaf p (changing the kind of node) \\\\Ref Insert \n            \\\\Expl{  A two-node will change to a three-node and a three-node\n                    will change to a four-node.\n            \\\\Expl}\n        \\\\In}\n    \\\\In}\n\\\\Code}\n    \n\\\\Code{\n    Insert\n    if p is a two-node \\\\B if p is a two-node\n    \\\\In{\n        Change p to a three-node, containing the old p.key1 and k \\\\B Change p to a three-node, containing the old p.key1 and k\n        \\\\Note{ Expand this????\n        \\\\Note}\n        \\\\Expl{ We must compare the keys and ensure they are in the right\n               order in the new node.  All subtrees are empty.\n        \\\\Expl}\n    \\\\In}\n    else // p is three-node (four-nodes have been split) \\\\B else: Insert\n        \\\\In{\n        Change p to a four-node, containing the old p.key1 and p.key2 and k \\\\B Change p to a four-node, containing the old p.key1 and p.key2 and k\n        \\\\Note{ Expand this????\n        \\\\Note}\n        \\\\Expl{ We must compare the keys and ensure they are in the right\n               order in the new node.  All subtrees are empty.\n        \\\\Expl}\n    \\\\In}\n\\\\Code}\n    \n\\\\Code{\n    Traverse\n    // Traverse down to a leaf where k gets inserted, splitting four-nodes\n    \\\\Note{\n    The code here stops when c becomes Empty.  This results in more\n    comparisons but slightly simpler code structure. We could break out of\n    the loop when c is a leaf instead. The low level details of the code and\n    its efficiency are not so important so I have gone for simple structure.\n    It's also more similar to the BST code to iterate until we fall off the\n    tree then repeat some comparison.\n    \\\\Note}\n    p <- Empty        // We keep track of the parent node, initially Empty \\\\B p <- Empty\n    c <- t            // c traverses the path from the root down to a leaf \\\\B c <- t\n    \\\\Expl{  c (and parent node p) will follow a path down to a leaf where new key\n            is to be inserted. We start from the root (t) and stop when p\n            reaches a leaf.\n    \\\\Expl}\n    repeat \\\\B repeat\n    \\\\In{\n        if c is a four-node \\\\B if c is a four-node\n        \\\\In{\n        Split c into two two-nodes and insert c.key2 into parent (p) \\\\Ref Split\n           \\\\Expl{  c is assigned the left or right node depending on comparison\n                   with k. If p is empty a new two-node is added as the root\n                   and the height of the tree increases by one.\n            \\\\Expl}\n        \\\\In} \n        p <- c \\\\B p <- c\n        \\\\Expl{  c will move down one level so the old c is the new p.\n        \\\\Expl}\n        c <- a child of c, dependent on key comparisons \\\\Ref MoveToChild\n    \\\\In}\n    until c is Empty (and p is a leaf node) \\\\B until c is Empty (and p is a leaf node)\n\\\\Code}\n    \n\\\\Code{\n    Split \n    c1 <- new two-node with c.child1, c.key1 and c.child2 \\\\B c1 <- new two-node with c.child1, c.key1 and c.child2\n    c2 <- new two-node with c.child3, c.key3 and c.child4 \\\\B c2 <- new two-node with c.child3, c.key3 and c.child4\n    Insert c1, c.key2 and c2 into parent node p, replacing c \\\\Ref InsertParent\n    \\\\Expl{\n        c1 and c2 will be children of p instead of c. p must be a two-node\n        or three-node so there will be room for expansion, because\n        four-nodes were split as we traversed down.\n    \\\\Expl}\n    if k < c.key2 \\\\B if k < c.key2: Split\n    \\\\In{\n        c <- c1 \\\\B c <- c1\n        \\\\Expl{ c is the new subtree that k belongs in\n        \\\\Expl}\n    \\\\In}\n    else \\\\B else: Split\n    \\\\In{\n        c <- c2 \\\\B c <- c2\n        \\\\Expl{ c is the new subtree that k belongs in\n        \\\\Expl}\n    \\\\In}\n    \\\\Code}\n    \n    \\\\Code{\n    InsertParent\n    if p = Empty \\\\B if p = Empty\n    \\\\In{\n        t <- new two-node with c1, c.key2 and c2 \\\\B t <- new two-node with c1, c.key2 and c2\n        \\\\Expl{  This is where the tree t grows by one level\n        \\\\Expl}\n        p <- t \\\\B p <- t\n    \\\\In}\n    else if p is a two-node \\\\B else if p is a two-node\n    \\\\In{\n        Change p to a three-node, with c1, c.key2 and c2 replacing c \\\\B Change p to a three-node, with c1, c.key2 and c2 replacing c\n        \\\\Note{ Expand this????\n        \\\\Note}\n        \\\\Expl{  If the old p.child1 = c the new node contains c1, c.key2, c2,\n                p.key1 and p.child2. If the old p.child2 = c the new node\n                contains p.child1, p.key1, c1, c.key2 and c2.\n        \\\\Expl}\n    \\\\In}\n    else // p is three-node (four-nodes have been split) \\\\B else: InsertParent\n    \\\\In{\n        Change p to a four-node, with c1, c.key2 and c2 replacing c \\\\B Change p to a four-node, with c1, c.key2 and c2 replacing c\n        \\\\Note{ Expand this????\n        \\\\Note}\n        \\\\Expl{  If the old p.child1 = c the new node contains c1, c.key2, c2,\n                p.key1, p.child2, p.key2 and p.child3. If the old p.child2 = c\n                the new node contains p.child1, p.key1, c1, c.key2, c2, p.key2\n                and p.child3. If the old p.child3 = c the new node contains\n                p.child1, p.key1, p.child2, p.key2, c1, c.key2 and c2.\n        \\\\Expl}\n    \\\\In}\n\\\\Code}\n    \n\\\\Code{\n    MoveToChild\n    if c is a two-node \\\\B if t is a two-node\n    \\\\In{\n        if k < c.key1 \\\\B if k < t.key1: if t is a two-node\n        \\\\In{\n            c <- c.child1 \\\\B c <- t.child1: if t is a two-node\n        \\\\In}\n        else \\\\B else: if t is a two-node\n        \\\\In{\n            c <- c.child2 \\\\B c <- t.child2: if t is a two-node\n        \\\\In}\n    \\\\In}\n    else // c is a three-node \\\\B else if t is a three-node\n    \\\\In{\n        if k < c.key1 \\\\B if k < t.key1: else if t is a three-node\n        \\\\In{\n            c <- c.child1 \\\\B c <- t.child1: else if t is a three-node\n        \\\\In}\n        else if k < c.key2 \\\\B else if k < t.key2: else if t is a three-node\n        \\\\In{\n            c <- c.child2 \\\\B c <- t.child2: else if t is a three-node\n        \\\\In}\n        else \\\\B else: else if t is a three-node\n        \\\\In{\n            c <- c.child3 \\\\B c <- t.child3: else if t is a three-node\n        \\\\In}\n    \\\\In}\n\\\\Code}\n\n\\\\Note{  This is an implementation in C:\n    // 234-tree implementation and simple testing based on two34tree.real\n    /*\n    echo 15 4 6 18 5 13 2 7 17 9 8 19 11 10 15 16    11 5 16 6 2 3 12 22 1 0 | ./a.out\n    \n    Inorder traversal yields:\n      (4.1)2\n      (4.2)4\n      (4.3)5\n     (2.1)6\n      (2.1)7\n    (2.1)8\n      (4.1)9\n      (4.2)10\n      (4.3)11\n     (3.1)13\n      (4.1)15\n      (4.2)16\n      (4.3)17\n     (3.2)18\n      (2.1)19\n    \n    Found  11\n    Found  5\n    Found  16\n    Found  6\n    Found  2\n    Missed 3\n    Missed 12\n    Missed 22\n    Missed 1\n    */\n    \n    #include<stdio.h>\n    #include<stdlib.h>\n    \n    typedef int k234;\n    typedef struct node234 {\n        int node_kind; // 2, 3 or 4\n        struct node234 *child1;\n        k234 key1;\n        struct node234 *child2;\n        k234 key2;\n        struct node234 *child3;\n        k234 key3;\n        struct node234 *child4;\n        } n234, *t234;\n    \n    #define NEW(type) (type *) malloc(sizeof(type))\n    #define demand(fact, remark)\\\n        {   if (!(fact))\\\n            {   fprintf(stderr, \"%s\\n\", remark); exit(1);   }\\\n        }\n    \n    #define SIZE 30      /* Allow for a tree with up to 30 keys */\n    \n    // list (and other) code from bst.c\n    typedef struct lnode {\n        int elt;\n        struct lnode *next;\n    } ELT;\n    \n    // change node to particular kind with given fields\n    // Braces used to avoid potential bugs with use in \"else\" so\n    // no \";\" needed/wanted.  Temp vars used in case arguments are fields of\n    // struct being updated (its a macro so call by name, not value)\n    #define mkThree(c, c1, k1, c2, k2, c3) \\\n        {t234 c1t=c1, c2t=c2, c3t=c3; k234 k1t=k1, k2t=k2; \\\n        c->node_kind = 3; c->child1 = c1t; c->key1 = k1t; c->child2 = c2t; \\\n        c->key2 = k2t; c->child3 = c3t;}\n    #define mkFour(c, c1, k1, c2, k2, c3, k3, c4) \\\n        {t234 c1t=c1, c2t=c2, c3t=c3, c4t=c4; k234 k1t=k1, k2t=k2, k3t=k3; \\\n        c->node_kind = 4; c->child1 = c1t; c->key1 = k1t; c->child2 = c2t; \\\n        c->key2 = k2t; c->child3 = c3t; c->key3 = k3t; c->child4 = c4t;}\n    \n    void build_t234(ELT *lst, t234 *tp);\n    t234 find_child(t234 c, k234 k);\n    t234 Two(t234 c1, k234 k1, t234 c2);\n    void t234_insert(t234 *tp, k234 k);\n    void inorder(t234 t, int indent);\n    \n    // create new two-node with given contents\n    t234\n    Two(t234 c1, k234 k1, t234 c2) {\n        t234 c;\n    \n        c = NEW(n234);\n        c->node_kind = 2;\n        c->child1 = c1;\n        c->key1 = k1;\n        c->child2 = c2;\n        return c;\n    }\n    \n    // 234-tree insertion.  We pass in pointer to tree so it can be modified\n    // and return void\n    void\n    t234_insert(t234 *tp, k234 k) {\n            // p is the parent of c and follows c down the tree to a leaf\n        t234 c, p;\n    \n        if (*tp == NULL) {  \n            c = Two(NULL, k, NULL);\n            *tp = c;\n        } else {\n            // Traverse\n            p = NULL;\n            c = *tp;\n            do {\n                if (c->node_kind == 4) {\n                    // Split\n                    t234 c1, c2;\n                    c1 = Two(c->child1, c->key1, c->child2);\n                    c2 = Two(c->child3, c->key3, c->child4);\n                    // InsertParent\n                    if (p == NULL)\n                        *tp = Two(c1, c->key2, c2); // add new root to tree\n                    else if (p->node_kind == 2)\n                        if (p->child1 == c)\n                            mkThree(p, c1, c->key2, c2, p->key1, p->child2)\n                        else\n                            mkThree(p, p->child1, p->key1, c1, c->key2, c2)\n                    else { // p->node_kind == 3\n                        if (p->child1 == c)\n                            mkFour(p, c1, c->key2, c2, p->key1, p->child2, p->key2, p->child3)\n                        else if (p->child2 == c)\n                            mkFour(p, p->child1, p->key1, c1, c->key2, c2, p->key2, p->child3)\n                        else\n                            mkFour(p, p->child1, p->key1, p->child2, p->key2, c1, c->key2, c2)\n                    }\n                    if (k < c->key2) {\n                        c = c1;\n                    } else {\n                        c = c2;\n                    }\n                }\n                p = c;\n                c = find_child(c, k);\n            } while (c);\n            // Insert\n            if (p->node_kind == 2)\n                if (k < p->key1)\n                    mkThree(p, NULL, k, NULL, p->key1, NULL)\n                else\n                    mkThree(p, NULL, p->key1, NULL, k, NULL)\n            else // p->node_kind == 3\n                if (k < p->key1)\n                    mkFour(p, NULL, k, NULL, p->key1, NULL, p->key2, NULL)\n                else if (k < p->key2)\n                    mkFour(p, NULL, p->key1, NULL, k, NULL, p->key2, NULL)\n                else\n                    mkFour(p, NULL, p->key1, NULL, p->key2, NULL, k, NULL)\n        }\n    }\n    \n    // return child of node that might contain k\n    t234\n    find_child(t234 c, k234 k) {\n        if (c->node_kind == 2)\n            if (k < c->key1)\n                return c->child1;\n            else\n                return c->child2;\n        else if (c->node_kind == 3)\n            if (k < c->key1)\n                return c->child1;\n            else if (k < c->key2)\n                return c->child2;\n            else\n                return c->child3;\n        else // c->node_kind == 4\n            if (k < c->key1)\n                return c->child1;\n            else if (k < c->key2)\n                return c->child2;\n            else if (k < c->key3)\n                return c->child3;\n            else\n                return c->child4;\n    }\n    \n    // insert list elements into tree\n    void\n    build_t234(ELT *lst, t234 *tp) {\n        while (lst) { \n            t234_insert(tp, lst->elt);\n            lst = lst->next;\n        }\n    } \n    \n    void search_t234(t234 t, k234 k) {\n        while (t) {\n            if (k == t->key1 || t->node_kind>1 && \n                    (k == t->key2 || t->node_kind>2 && k == t->key3)) {\n                printf(\"Found  %d\\n\", k);\n                return;\n            }\n            t = find_child(t, k);\n        }\n        printf(\"Missed %d\\n\", k);\n        return;\n    }\n    \n    void inorder(t234 t, int indent) {\n        int i;\n    \n        if (t) {\n            inorder(t->child1, indent+1);\n            for (i=0; i<indent; i++) printf(\" \");\n            printf(\"(%d.1)\", t->node_kind);\n            printf(\"%d\\n\", t->key1);\n            inorder(t->child2, indent+1);\n            if (t->node_kind>2) {\n                for (i=0; i<indent; i++) printf(\" \");\n                printf(\"(%d.2)\", t->node_kind);\n                printf(\"%d\\n\", t->key2);\n                inorder(t->child3, indent+1);\n                if (t->node_kind>3) {\n                    for (i=0; i<indent; i++) printf(\" \");\n                    printf(\"(%d.3)\", t->node_kind);\n                    printf(\"%d\\n\", t->key3);\n                    inorder(t->child4, indent+1);\n                }\n            }\n        }\n    }\n    \n    int main() {\n        t234 t=NULL;\n        int i, n, x;\n        ELT *e;\n        ELT *first;\n        ELT *last;\n        scanf(\"%d\", &n);\n        demand(n>0, \"n must be positive\");\n        first = NEW(ELT);\n        first->next = NULL;\n        scanf(\"%d\", &(first->elt));\n        last = first;\n        \n        for (i=1; i<n; i++) {\n            e = NEW(ELT);\n            e->next = NULL;\n            scanf(\"%d\", &(e->elt));\n            last->next = e;\n            last = e;\n        }\n        \n        build_t234(first, &t);\n    \n     /* For testing only : */\n        printf(\"\\nInorder traversal yields:\\n\");\n        inorder(t, 0);   \n        printf(\"\\n\");                         \n    /*  */\n        scanf(\"%d\", &x);\n        while (x > 0) {\n            search_t234(t, x);\n            scanf(\"%d\", &x);\n        } \n    \n        return 0;\n    }\n     \n    /* Example of test input with 15 keys (must be no more than 20):\n    \n    15\n    77  13  10  46  94  49  91  88  25  62  54  59  19  44  16\n    62\n    63\n    94\n    0\n    \n    This yields the following output:\n    \n    Found  62\n    Missed 63\n    Found  94\n    \n    */\n    \n    \\\\Note}\n    \\\\Note{\n    Handy things to copy/paste in vim for editing this file:\n    (mostly in my .exrc now)\n    :set ts=4 et\n    \n    \\\\In{\n    \\\\In}\n    \n    \\\\Note}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\n    Main\n    T234_Search(t, k) \\\\B T234_Search(t, k)\n    // return either a node containing key k or \n    // NotFound, if no such node is present\n    \\\\Note{  We separate comparison for equality with comparison for finding\n    the subtree to traverse down to next to simplify refinement\n    \\\\Note}\n    \\\\In{\n        while t not Empty \\\\B while t not Empty\n        \\\\In{\n            if the root of t contains k, return t \\\\Ref Return_if_key_in_node\n            \\\\Expl{  There can be different kinds of node and multiple keys per node.\n            \\\\Expl}\n            \\\\Note{  Refinement is messy due to different kinds of node so we\n                    include return here and avoid else\n            \\\\Note}\n            t <- the child of t that may contain k \\\\Ref Find_child\n            \\\\Expl{  There can be different kinds of node and multiple children.\n            \\\\Expl}\n        \\\\In}\n        return NotFound \\\\B return NotFound\n    \\\\In}\n    \\\\Code}\n    \n    \\\\Code{\n    Return_if_key_in_node \n    // Return node t if it contains key k\n    if t is a two-node \\\\B if t is a two-node: Return_if_key_in_node\n    \\\\In{\n        if t.key1 == k return t \\\\B if t.key1 == k return t\n    \\\\In}\n    else if t is a three-node \\\\B if t is a three-node: Return_if_key_in_node\n    \\\\In{\n        if t.key1 == k or t.key2 == k return t \\\\B if t.key1 == k or t.key2 == k return t\n    \\\\In}\n    else // t is a four-node \\\\B else: Return_if_key_in_node\n    \\\\In{\n        if t.key1 == k or t.key2 == k or t.key3 == k return t \\\\B if t.key1 == k or t.key2 == k or t.key3 == k return t\n    \\\\In}\n    \\\\Code}\n    \n    \\\\Code{\n    Find_child \n    // Find child c of root node t that may contain key k\n    if t is a two-node \\\\B if t is a two-node\n    \\\\In{\n        if k < t.key1 \\\\B if k < t.key1: if t is a two-node\n        \\\\In{\n            c <- t.child1 \\\\B c <- t.child1: if t is a two-node\n        \\\\In}\n        else \\\\B else: if t is a two-node\n        \\\\In{\n            c <- t.child2 \\\\B c <- t.child2: if t is a two-node\n        \\\\In}\n    \\\\In}\n    else if t is a three-node \\\\B else if t is a three-node\n    \\\\In{\n        if k < t.key1 \\\\B if k < t.key1: else if t is a three-node\n        \\\\In{\n            c <- t.child1 \\\\B c <- t.child1: else if t is a three-node\n        \\\\In}\n        else if k < t.key2 \\\\B else if k < t.key2: else if t is a three-node\n        \\\\In{\n            c <- t.child2 \\\\B c <- t.child2: else if t is a three-node\n        \\\\In}\n        else \\\\B else: else if t is a three-node\n        \\\\In{\n            c <- t.child3 \\\\B c <- t.child3: else if t is a three-node\n        \\\\In}\n    \\\\In}\n    else // t is a four-node \\\\B else: Find_child\n    \\\\Expl{ We could use nested if-then-else here so we always have two\n    key comparisons\n    \\\\Expl}\n    \\\\In{\n        if k < t.key1 \\\\B if k < t.key1: else: Find_child\n        \\\\In{\n            c <- t.child1 \\\\B c <- t.child1: else: Find_child\n        \\\\In}\n        else if k < t.key2 \\\\B else if k < t.key2: else: Find_child\n        \\\\In{\n            c <- t.child2 \\\\B c <- t.child2: else: Find_child\n        \\\\In}\n        else if k < t.key3 \\\\B else if k < t.key3\n        \\\\In{\n            c <- t.child3 \\\\B c <- t.child3: else: Find_child\n        \\\\In}\n        else \\\\B else: else: Find_child\n        \\\\In{\n            c <- t.child4 \\\\B c <- t.child4\n        \\\\In}\n    \\\\In}\n    \\\\Code}\n    \n`);","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\nMain\nShortest(G, s) // Find shortest path(s) from start node s in graph G \\\\B 1\n    \\\\Expl{ Given a graph G, find a shortest path from start node s\n        to an end node.  It is assumed the end node(s) are defined\n        separately; with no end nodes, shortest paths to all connected\n        nodes are found. Nodes are numbered 1..nmax. Returns the Parent\n        array, which gives the previous node in the path from s to the\n        node i (if one has been found; Parent[i] = 0 otherwise). \n    \\\\Expl}\n\n        \\\\In{\n                initialise, with fontier={s}, stored in Nodes \\\\Ref Init\n                while Nodes is not empty \\\\B 2\n            \\\\Expl{ Nodes is the data structure used to represent the frontier.\n                For Dijkstra's algorithm, Nodes is a priority queue, ordered on\n                Cost (the minumum path length found so far). Here we highlight the Min\n                value. The priority queue also contains nodes that have not been\n                seen, which have infinite Cost. The frontier nodes are those\n                shown with a finite Cost. Nodes with no Cost shown\n                have been finalised. The frontier and finalised nodes are also\n                highlighted in the graph display.\n            \\\\Expl}\n                \\\\In{\n                    remove next node n from Nodes and finalise it \\\\Ref Next_node\n                    // The Parent of n has now been determined\n                    if task_completed(n) \\\\Ref Completed\n                    \\\\Expl{ Have we found an end node or explored the\n                            whole graph component connected to s? \n                    \\\\Expl} \n                    \\\\In{\n                        return \\\\B 3\n                        \\\\Expl{ If there may be several end nodes we may want to\n                            return which one was found as well as the Parent\n                            array, and if we have explored the whole graph\n                            component that should be indicated. Here we\n                            highlight the path found in the Parent array,\n                            if successful, and the explored component otherwise.\n                        \\\\Expl} \n                    \\\\In} \n                    for each node m neighbouring n // G has edge from n to m \\\\B 4\n                    \\\\In{\n                        update Nodes, Parent etc with n & m \\\\Ref UpdateNodes\n                    \\\\In}\n                \\\\In}\n                return \\\\B 99\n                \\\\Expl{ The shortest path to every node connected to s has been found.\n                        If we were searching for an end node we have failed\n                        and some indication of this should be returned.\n                \\\\Expl}\n            \\\\In}\n            \n\\\\Code}\n\n\\\\Code{\n        Init\n            initialise each element of array Parent to zero \\\\B 5\n            initialise each element of array Cost to infinity \\\\B 6\n            Cost[s] <- 0 \\\\B 7\n            Nodes <- PQ containing all nodes  // only s has finite cost \\\\B 8\n            //  Nodes in the PQ with finite cost are in the frontier; others are yet to be seen. \n\\\\Code}  \n\n\\\\Code{\n        Next_node\n            n <- PQRemoveMin(Nodes) // remove lowest cost element of Nodes PQ \\\\B 9\n            \\\\Expl{ n is the node in the frontier with the shortest known path\n                    back to s (if it has infinite cost it must be in a component\n                    not connected to s; not actually in the frontier).\n            \\\\Expl}\n        \\\\Code}\n        \n\n\\\\Code{\n        Completed\n            if is_end_node(n) or Cost[n] = infinity \\\\B 10\n            \\\\Expl{ If the cost of n is infinite we have searched the whole component\n                (without finding an end node) and the Parent array has all shortest\n                paths.  Otherwise, n is an end node we have succeeded and\n                the Parent array has the shortest path.\n            \\\\Expl}\n\\\\Code}\n\n\\\\Code{\n        UpdateNodes\n            if m is in Nodes PQ and Cost[n] + weight(n,m) < Cost[m] \\\\B 11\n            \\\\Expl{ The path from s to n to m is shorter than the current\n                shortest known path from s to m. If Cost[m] = infinity\n                it will be replaced with a finite weight, implicitly moving\n                m from the unseen nodes to the frontier. If m has been\n                finalised, this test is guaranteed to fail.\n            \\\\Expl} \n            \\\\In{\n                Cost[m] <- Cost[n] + weight(n,m) // new cost is path length from s \\\\B 12\n                PQUpdateCost(Nodes, m, Cost[m]) // update cost in Nodes PQ \\\\B 13\n                Parent[m] <- n \\\\B 14\n                \\\\Expl{ The shortest known path to m now goes via n.\n                \\\\Expl}\n            \\\\In}\n\\\\Code}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\n    Main\n    Astar(G, s, e) // Heuristic search for node e from node s in graph G \\\\B 1\n    \\\\Expl{ Given a graph G, find a path from start node s\n            to the end node e.  Nodes are numbered 1..nmax. Returns the\n            Parent array, which gives the previous node in the path from s\n            to the node i (if one has been found; Parent[i] = 0 otherwise).\n            A heuristic function is used to guide the search (here it is\n            a measure of the distance from each node to e, based on\n            the Euclidiean coordinates of each node). If the\n            heuristic is \"admissible\", the shortest path will be found.\n    \\\\Expl}\n\n     \\\\In{\n          initialise, with fontier={s}, stored in Nodes \\\\Ref Init\n            while Nodes is not empty \\\\B 2\n            \\\\Expl{ Nodes is the data structure used to represent the frontier.\n\t\tFor A*, Nodes is a priority queue, ordered on Length (the minumum\n                found so far) plus the heuristic value. Here we highlight the Min\n                value. The priority queue also contains nodes that have not been\n                seen, which have infinite Length. The frontier nodes are those\n                shown with a finite Length so far. Nodes with no Length shown\n                have been finalised. The frontier and finalised nodes are also\n                highlighted in the graph display.\n            \\\\Expl}\n            \\\\In{\n                remove next node n from Nodes and finalise it \\\\Ref Next_node\n                // The Parent of n has now been determined\n                if task_completed(n) \\\\Ref Completed\n                \\\\Expl{ Have we found the end node, or explored the\n                        whole connected component of the graph?\n                \\\\Expl}\n                \\\\In{\n                    return \\\\B 3\n                    \\\\Expl{ If we have explored the whole graph component without\n                        finding the end node that should be indicated, otherwise\n                        the Parent array has the desired path information.  Here we\n                        highlight the path found in the Parent array,\n                        if successful, and the explored component otherwise.\n                    \\\\Expl}\n                \\\\In}\n                for each node m neighbouring n // G has edge from n to m \\\\B 4\n                \\\\In{\n                    update Nodes, Parent etc with n & m \\\\Ref UpdateNodes\n                \\\\In}\n            \\\\In}\n            return \\\\B 99\n            \\\\Expl{ We have failed to find e and some indication of\n                    this should be returned. In this animation we\n                    restrict e to be some node in the graph so this\n                    line is never reached.\n            \\\\Expl}\n        \\\\In}\n\\\\Code}\n\n\\\\Code{\n    Init\n        initialise each element of array Parent to zero \\\\B 5\n        initialise each element of array Length to infinity \\\\B 6\n        Length[s] <- 0 \\\\B 7\n        Nodes <- PQ containing all nodes // only s has finite cost \\\\B 8\n        \\\\Note{ Nodes in the PQ with finite cost are in the frontier; others\n            are yet to be seen.\n        \\\\Note}\n\\\\Code}\n\n\\\\Code{\n    Next_node \n        n <- PQRemoveMin(Nodes) // remove lowest cost element of Nodes PQ \\\\B 9\n        \\\\Expl{ n is the node in the frontier with the shortest known path\n                length back to s plus heuristic value (if it has infinite\n                cost it must be in a component not connected to s; not\n                actually in the frontier).\n        \\\\Expl}\n    \n\\\\Code}\n\n\\\\Code{\n    Completed\n        if n = e or Length[n] = infinity \\\\B 10\n        \\\\Expl{ If the Length of n is infinite we have searched the whole\n                component (without finding the end node) and we should\n                return a failure indication.\n                Otherwise, if n is the end node we have succeeded and\n                the Parent array has the path.\n        \\\\Expl}\n\\\\Code}\n    \n    \n\\\\Code{\n    UpdateNodes\n        if m is in Nodes PQ and Length[n] + weight(n,m) < Length[m] \\\\B 11\n        \\\\Expl{ The path from s to n to m is shorter than the current\n            shortest known path from s to m. If Length[m] == infinity\n            it will be replaced with a finite weight, implicitly moving\n            m from the unseen nodes to the frontier.\n        \\\\Expl} \n        \\\\In{\n            Length[m] <- Length[n] + weight(n,m) // smaller path length from s \\\\B 12\n            PQUpdateCost(Nodes, m, Length[m]+heur(m)) // update cost in Nodes PQ \\\\B 13\n            Parent[m] <- n \\\\B 14\n            \\\\Expl{ The shortest known path to m now goes via n.\n            \\\\Expl}\n        \\\\In}\n\\\\Code}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\n    Main\n    BFS(G, s) // Breadth first search of graph G from start node s \\\\B 1\n    \\\\Expl{ Given a graph G, find a path from the start node s to an\n            end node.  It is assumed the end node(s) are defined\n            separately; if there are no end nodes, paths to all connected\n            nodes are found. Nodes are numbered 1..nmax. Returns the Parent\n            array, which gives the previous node in the path from s to the\n            node i (if one has been found; Parent[i] = 0 otherwise).\n    \\\\Expl}\n    \\\\In{\n        initialise, with fontier={s}, stored in Nodes \\\\Ref Init\n        while Nodes is not empty \\\\B 2\n            \\\\Expl{ Nodes is the data structure used to represent the frontier.\n                For BFS, Nodes is a queue, shown below the arrays.  The frontier\n                nodes are simply those in the queue (they are also marked as\n                Seen). The Seen nodes that are no longer in the queue are\n                finalised.  The frontier and finalised nodes are also highlighted\n                in the graph display.\n            \\\\Expl}\n        \\\\In{\n            remove next node n from Nodes and finalise it \\\\Ref Next_node \n            // The Parent of n has now been determined\n            if task_completed(n) \\\\Ref Completed \n            \\\\Expl{ If there are no end nodes the whole connected component\n                   of G will be explored and we can skip this \"if\".\n            \\\\Expl}\n            \\\\In{\n                return \\\\B 3\n                \\\\Expl{ If there can be several end nodes we may want to\n                       return which one is found as well as the Parent array.\n                       Here we highlight the path found in the Parent array.\n                \\\\Expl}\n            \\\\In}\n            for each node m neighbouring n // G has edge from n to m \\\\B 4\n            \\\\In{\n                update Nodes, Parent etc with n & m \\\\Ref UpdateNodes \n            \\\\In}\n        \\\\In}\n        return \\\\B 5\n        \\\\Expl{ A path to every node connected to s has been found.\n                If we were searching for an end node we have failed\n                and some indication of this should be returned.\n        \\\\Expl}\n    \\\\In}\n    \\\\Code}\n    \n    \\\\Code{\n    Init\n        initialise each element of array Parent to zero \\\\B 6\n        initialise each element of array Seen to False \\\\B 7\n        Seen[s] <- True      // Initially we have seen only the start node \\\\B 8\n        Nodes <- queue containing just s \\\\B 9\n    \\\\Code}\n    \n    \\\\Code{\n    Next_node\n        n <- dequeue(Nodes) // remove the front element of the Nodes queue \\\\B 10\n        \\\\Expl{ Finalised nodes are implicit: they are nodes that are in\n                Seen but not in the Nodes queue. Frontier nodes are\n                those than are in Seen and in Nodes. By removing n from\n                Nodes we remove it from the frontier and finalise it.\n        \\\\Expl}\n    \\\\Code}\n    \n    \\\\Code{\n    Completed\n        if is_end_node(n) \\\\B 11\n        \\\\Expl{ If we were searching for an end node we have succeeded!\n            If we just want to traverse the whole graph component connected\n            to s, we can skip this \"if\".\n        \\\\Expl}\n    \\\\Code}\n    \n    \\\\Code{\n    UpdateNodes\n        if not Seen[m] \\\\B 12\n        \\\\In{\n            Seen[m] <- True \\\\B 13\n            Parent[m] <- n \\\\B 14\n            enqueue(Nodes, m) // add m to back of Nodes queue \\\\B 15\n        \\\\In}\n    \\\\Code}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Code{\n    Main\n    DFS(G, s) // Depth first search of graph G from start node s \\\\B 1\n    \\\\Expl{ Given a graph G, find a path from the start node s to an\n            end node.  It is assumed the end node(s) are defined\n            separately; if there are no end nodes, paths to all connected\n            nodes are found. Nodes are numbered 1..nmax. Returns the Parent\n            array, which gives the previous node in the path from s to the\n            node i (if one has been found; Parent[i] = 0 otherwise).\n    \\\\Expl}\n    \\\\In{\n        initialise, with fontier={s}, stored in Nodes \\\\Ref Init\n        while Nodes is not empty \\\\B 2\n            \\\\Expl{ Nodes is the data structure used to represent the frontier.\n                For DFS, Nodes is a stack, shown below the arrays.\n                The stack can have repeated elements and when we pop a node off\n                the stack it is ignored if it has already been finalised.\n                The frontier nodes are those in the stack that are not finalised.\n                The frontier and finalised nodes are also highlighted in the\n                graph display.\n            \\\\Expl}\n        \\\\In{\n            remove next node n from Nodes and finalise it \\\\Ref Next_node\n            // The Parent of n has now been determined\n            if task_completed(n) \\\\Ref Completed\n            \\\\Expl{ If there are no end nodes the whole connected component\n                   of G will be explored and we can skip this \"if\".\n            \\\\Expl}\n            \\\\In{\n                return \\\\B 3\n                \\\\Expl{ If there can be several end nodes we may want to\n                       return which one is found as well as the Parent array.\n                       Here we highlight the path found in the Parent array.\n                \\\\Expl}\n            \\\\In}\n            for each node m neighbouring n // G has edge from n to m \\\\B 4\n            \\\\In{\n                update Nodes, Parent etc with n & m \\\\Ref UpdateNodes\n            \\\\In}\n        \\\\In}\n        return \\\\B 5\n        \\\\Expl{ A path to every node connected to s has been found.\n                If we were searching for an end node we have failed\n                and some indication of this should be returned.\n        \\\\Expl}\n    \\\\In}\n    \\\\Code}\n    \n    \\\\Code{\n    Init\n        initialise each element of array Parent to zero \\\\B 6\n        initialise each element of Finalised to False \\\\B 7\n        Nodes <- stack containing just s \\\\B 8\n    \\\\Code}\n    \n    \\\\Code{\n    Next_node\n\\\\Note{ XXX could re-code this as follows (not sure if its and more\nclear but worth considering). Current coding emphasises we pop a node\nthen have to deal with \"special\" cases.\n        repeat\n            n <- pop(Nodes)\n        until !Finalised[n] || Nodes is empty\n        if Nodes is empty\n            return\n\\\\Note}\n        n <- pop(Nodes) // pop n from the top of the Nodes stack \\\\B 9\n        while Finalised[n] // ignore finalised nodes \\\\B 10\n        \\\\Expl{ The Nodes stack can have finalised nodes, which must be\n            ignored to avoid repeated search. The frontier is implicit:\n            it is everything in the Nodes stack that is not in Finalised.\n        \\\\Expl}\n        \\\\In{\n            if Nodes is empty // need to check this before popping a node \\\\B 11\n            \\\\In{\n                return \\\\B 12\n                \\\\Expl{ A path to every node connected to s has been found.\n                    If we were searching for an end node we have failed\n                    and some indication of this should be returned.\n                \\\\Expl}\n            \\\\In}\n            n <- pop(Nodes) // pop n from the top of the Nodes stack \\\\B 13\n        \\\\In}\n        Finalised[n] <- True  // n is now finalised \\\\B 14\n    \\\\Code}\n    \n    \\\\Code{\n    Completed\n        if is_end_node(n) \\\\B 15\n        \\\\Expl{ If we were searching for an end node we have succeeded!\n            If we just want to traverse the whole graph component connected\n            to s, we can skip this \"if\".\n        \\\\Expl}\n    \\\\Code}\n    \n    \n    \\\\Code{\n    UpdateNodes\n        if not Finalised[m] \\\\B 16\n        \\\\Expl{ This is not strictly necessary but it saves pushing finalised\n            nodes onto the Nodes stack and ignoring them later.\n        \\\\Expl}\n        \\\\In{\n            Parent[m] <- n \\\\B 17\n            push(Nodes, m) // add m to top of Nodes stack \\\\B 18\n        \\\\In}\n    \\\\Code}\n`);\n","import parse from '../../pseudocode/parse';\n\nexport default parse(`\n\\\\Note{  REAL specification of depth first search of graphs, recursive\nversion\n\\\\Note}\n\n\\\\Note{ There are several graph search algorithms that lead up to A*\nand we present them in a consistent way to show their similarities.\nIt includes an iterative DFS coding; this recursive coding is somewhat\nsimpler but visualisation should emphasise similarities with the\niterative version as much as possible.\n\\\\Note}\n\n\\\\Note{\nVisualisation: same as iterative version without Finalised + call stack\nmade explicit\n\n    i            1      2      3      ...\n    Parent[i]\n\n    Call stack (n,p):\n\n\\\\Note}\n\n\n\\\\Code{\nMain\nDFS(G, n) // Depth first search of graph G from start node n \\\\B start\n    \\\\Expl{ Given a graph G, find a path from the start node n to an\n            end node.  It is assumed the end node(s) are defined\n            separately; if there are no end nodes, paths to all connected\n            nodes are found. Nodes are numbered 1..nmax. Returns the Parent\n            array, which gives the previous node in the path from s to the\n            node i (if one has been found; Parent[i] = 0 otherwise).\n    \\\\Expl}\n\n\\\\In{\n    initialise all parents to null \\\\B init\n    \\\\Expl{ We initialise to some special value so we can later check if a\n        parent has been assigned (we display null as an empty cell).\n        The start node is the implicit \"frontier\" for the top level DFS1\n        call. It is not\n        necessary to understand the frontier.  We mention it just for\n        comparison with the iterative version of DFS and related graph\n        search algorithms.\n    \\\\Expl}\n    result <- DFS1(G, n, 0) // recursive DFS with zero as parent node \\\\B top_call\n    return result \\\\B finish\n    \\\\Expl{ If there can be several end nodes we may want to\n        return which one is found as well as the Parent array for\n        successful searches (it defines a path from the end node back to\n        the start node).  Here we highlight the path found in\n        the Parent array.\n    \\\\Expl}\n\\\\In}\n//======================================================================\n\\\\Note{\n    Whenever DFS1 is called, we should push (n,p) onto the stack displayed\n    in the animation; pop stack on return.\n\\\\Note}\nDFS1(G, n, p) // Search from node n using parent node p. This visits all \\\\B dfs1\n        // nodes connected to n, ignoring nodes with parents already\n        // assigned (as if these nodes have been removed from G).\n\\\\In{\n    if Parent[n] == null // Ignore n if Parent[n] has been assigned \\\\B check_parent\n    \\\\In{\n        Parent[n] <- p \\\\B assign_parent\n        \\\\Expl{ Node n is now finalised.\n        \\\\Expl}\n        if is_end_node(n) \\\\B check_end\n        \\\\In{\n            return FOUND // Success! \\\\B found\n            \\\\Expl{ If there can be several end nodes we may want to\n                return which one is found as well as the Parent array,\n                which defined the path from the end node back to the start.\n            \\\\Expl}\n        \\\\In}\n        // The neighbouring nodes are now part of the (implicit) frontier \\\\B frontier\n        \\\\Expl{ It is not necessary to understand the frontier.\n            We mention it just for comparison with the iterative version\n            of DFS and related graph search algorithms. The neighbouring nodes\n            will be checked via a recursive call in the loop below (finalised\n            nodes will be ignored).\n        \\\\Expl}\n        for each node m neighbouring n // G has edge from n to m \\\\B neighbours\n        \\\\Note{ When this is first reached, all neighbouring nodes\n            should change to the \"frontier\" colour (see iterative DFS)\n            unless they are already finalised (have parent assigned)\n            and whenever this line is reached the n-m edge should be\n            highlighted. For iterative DFS, the m nodes are all pushed onto\n            the stack then the last one is popped off and visited if\n            required. For this recursive version we don't have an\n            explicit stack but have an implicit stack that has a\n            \"continuation\" that will look at the subsequent m nodes.\n        \\\\Note}\n        \\\\Expl{ Any order of considering the nodes is ok.  Here we\n            consider the largest node numbers first, which gives the\n            same traversal order as the iterative coding.\n        \\\\Expl}\n        \\\\In{\n            search G starting from m, with n as the parent \\\\Ref RECDFS\n        \\\\In}\n    \\\\In}\n    return NOTFOUND  // no end node found \\\\B not_found\n\\\\In}\n\\\\Code}\n\\\\Code{\nRECDFS\n    // *recursively* call DFS1 and return if successful \\\\B rec_dfs1\n    if DFS1(G, m, n) = FOUND \\\\B rec_dfs1_done\n    \\\\In{\n        return FOUND // return if end node found, otherwise continue \\\\B rec_found\n    \\\\In}\n\\\\Code}\n\n\n\n`);\n","const KEY_CODE = 'CODE';\nconst KEY_INSERT = 'INSERT';\nconst KEY_PLAY = 'PLAY';\nconst KEY_PAUSE = 'PAUSE';\nconst KEY_BACK = 'BACK';\nconst KEY_FORWARD = 'FORWARD';\nconst KEY_SEARCH = 'SEARCH';\nconst KEY_PROGRESS = 'PROGRESS';\nconst KEY_SORT = 'SORT';\nconst KEY_LOAD = 'START';\nconst KEY_FIND = 'FIND STRING';\nconst KEY_UF_UNION = 'UNION';\nconst KEY_UF_FIND = 'FIND';\nconst KEY_UF_PC_ON = 'ON';\nconst KEY_UF_PC_OFF = 'OFF';\n\nexport const KEY_WORDS = [\n  KEY_CODE, KEY_INSERT, KEY_PLAY, KEY_SEARCH, KEY_SORT, KEY_LOAD,\n];\n\nconst bstInstructions = [\n  {\n    title: 'Insert Mode', // Specify BST Insertion as Insert mode\n    content: [\n      `Click on ${KEY_CODE} on the right panel`,\n      'Enter a list of nodes in the insert parameter.',\n      `Click on ${KEY_INSERT} to enter insert mode and load the algorithm.`,\n      `Click on ${KEY_PLAY} to watch the algorithm run.`,\n    ],\n  },\n  {\n    title: 'Search Mode', // Specify BST Searching as Search mode\n    content: [\n      `Click on ${KEY_CODE} on the right panel`,\n      'Enter a node in the search parameter.',\n      `Click on ${KEY_SEARCH} to enter search mode and load the algorithm.`,\n      `Click on ${KEY_PLAY} to watch the algorithm run.`,\n    ],\n  },\n];\n\n\n\nconst stringInstructions = [{\n  title: 'Searching Strings',\n  content: [\n    `Click on ${KEY_CODE} on the right panel`,\n    'Enter a string to search followed by a string to search for, seperated by a comma',\n    `Click on ${KEY_FIND} to load the algorithm.`,\n    `Click on ${KEY_PLAY} to watch the algorithm run.`,\n  ],\n}];\n\nconst sortInstructions = [{\n  title: 'Sorting Numbers',\n  content: [\n    `Click on ${KEY_CODE} on the right panel`,\n    'Enter a list of numbers in the sort parameter.',\n    `Click on ${KEY_SORT} to load the algorithm.`,\n    `Click on ${KEY_PLAY} to watch the algorithm run.`,\n  ],\n}];\n\nconst graphInstructions = [\n  { title: 'To Run Animation',\n  content: [\n    `Click on ${KEY_CODE} at the top of the right-hand panel`,\n    `Either step through the algorithm (click on ${KEY_FORWARD}) or play continuously (click on ${KEY_PLAY}). Code and animation will follow in lockstep.`,\n    `The graph can be chosen (see below; default Graph 1 is shown initially)`,\n    `Athoer algorithm parameters can be chosen below the\n${KEY_PROGRESS} bar; this will reset the animation to the start`,\n    `Screen layout can be altered (depending on your browser/platform):\nthe left panel can be rendered invisible by clicking\non the arrow in its middle, the right and bottom panels can be enlarged or shrunk by dragging the ellipsis (\"...\"), and you can zoom in/out and drag elements in the animation panel`,\n  ]},\n  { title: 'To Choose Graph',\n  content: [\n    `The graph input panel is at the bottom and may need to be revealed\nby dragging the \"...\" up temporarily`,\n    `Under the ${KEY_PLAY} button, toggle between sample graphs (eg Graph 1) and random graphs, or`,\n    'edit text for X-Y node coordinates (this can change the graph size) and edges/weights (weights are ignored for unweighted graph algorithms), or',\n    'enter X-Y node coordinates and edges/weights in tables below, or',\n    'change X-Y node coordinates by selecting a node with the mouse and dragging it.',\n    `The graph size can also be explicitly increased/decreased - this generates a new random graph.`,\n    `Edge weights (for weighted graph algorithms) can be toggled between Euclidean, Manhattan and as defined explicitly in the input.`,\n  ]},\n];\n\nconst graphInstructionsTC = [{\n  title: 'Create Graph ',\n  content: [\n    `Click on ${KEY_CODE} on the right panel`,\n    'Enter a graph in the transition matrix',\n    `Click on ${KEY_LOAD} to load the algorithm.`,\n    `Click on ${KEY_PLAY} to watch the algorithm run.`,\n    'All nodes are SELF-REACHABLE => All diagonal elements are ones and NOT allowed to be edited.',\n  ],\n}];\n\nconst unionFindInstructions = [{\n  title: ' ',\n  content: [\n    `Open the right ${KEY_CODE} panel to view the algorithm code as it runs.`,\n    `Use the panel in the lower centre of the screen to control the algorithm visualisation:`,\n    `Select nodes to union by entering a list of union operations in the left input box and click ${KEY_UF_UNION}.`,\n    `Click ${KEY_UF_PC_ON} or ${KEY_UF_PC_OFF} to toggle path compression.`,\n    `Click on ${KEY_PLAY}, ${KEY_PAUSE}, or the ${KEY_BACK} and ${KEY_FORWARD} arrows to watch the algorithm run.`,\n    `Enter a node in the right input box and click ${KEY_UF_FIND} and then ${KEY_PLAY} to search for the node's set representative.`,\n  ]\n}];\n\nexport const BSTInstruction = bstInstructions;\nexport const HSInstruction = sortInstructions;\nexport const QSInstruction = sortInstructions;\nexport const msort_arr_td = sortInstructions;\nexport const msort_lista_td = sortInstructions;\nexport const TCInstruction = graphInstructionsTC;\nexport const Prims_oldInstruction = graphInstructions;\nexport const PrimsInstruction = graphInstructions;\nexport const KruskalInstruction = graphInstructions;\nexport const BFSSInstruction = stringInstructions;\nexport const HSSInstruction = stringInstructions;\nexport const UFInstruction = unionFindInstructions;\nexport const TTFInstruction = bstInstructions;\nexport const DIJKInstruction = graphInstructions;\nexport const ASTARInstruction = graphInstructions;\nexport const BFSInstruction = graphInstructions;\nexport const DFSInstruction = graphInstructions;\nexport const DFSrecInstruction = graphInstructions;\n","/* eslint quote-props: 0 */\nimport React from 'react';\nimport * as Explanation from './explanations';\nimport * as Param from './parameters';\nimport * as ExtraInfo from './extra-info';\nimport * as Controller from './controllers';\nimport * as Pseudocode from './pseudocode';\nimport * as Instructions from './instructions';\n\n/*\n This file lists all the algorithms in the program, and imports\n them from the relevant file. Follow the example below for how to\n add new algorithms. There are two versions of this: allalgs\n is all algorithms, whatever the quality etc, and algorithms is the\n subset that are selected to be made visible and can be run. The idea is\n that during development we can merge all algorithms into a single\n branch of the repository but only deploy some of them to the users.\n For developers etc we can change a single line of code below where\n algorithms is defined to deploy all algorithms. For allalgs we use a\n noDeploy flag for each entry; if it is missing the default is the\n algorithm is deployed. Note that the DEFAULT_ALGORITHM from\n src/context/actions.js had better be deployed!\n XXX Design of noDeploy stuff was done with the aim of minimal code change\n and could be re-thought when there are fewer merges going on.\n XXX we could export and use allalgs in key places in the system,\n eg src/context/actions.js so we can still access them via the URL, but\n not have them appear in the index.\n\n Each imported algorithm is expected to be an object of the form:\n { pseudocode: String, explanation: String, run: Function }\n */\n\n// Very Important: The key for each algorithm MUST be unique!\n// Also: the key for the algorithm MUST be the same as the \"name\"\n// of the top level Param block returned by the parameter function.\n// Eg, parameters/msort_arr_td.js has\n// \n// function MergesortParam() {\n// ...\n// return (\n//     // <>\n//       <div className=\"form\">\n//         <ListParam\n//           name=\"msort_arr_td\"  <---- ****SAME AS KEY****\n// ...\n// export default MergesortParam\n\nconst allalgs = {\n\n  'heapSort': {\n    name: 'Heapsort',\n    category: 'Sort',\n    explanation: Explanation.HSExp,\n    param: <Param.HSParam />,\n    instructions: Instructions.HSInstruction,\n    extraInfo: ExtraInfo.HSInfo,\n    pseudocode: {\n      sort: Pseudocode.heapSort,\n    },\n    controller: {\n      sort: Controller.heapSort,\n    },\n  },\n  'quickSort': {\n    name: 'Quicksort',\n    category: 'Sort',\n    explanation: Explanation.QSExp,\n    param: <Param.QSParam />,\n    instructions: Instructions.QSInstruction,\n    extraInfo: ExtraInfo.QSInfo,\n    pseudocode: {\n      sort: Pseudocode.quickSort,\n    },\n    controller: {\n      sort: Controller.quickSort,\n    },\n  },\n  'quickSortM3': {\n    name: 'Quicksort (Median of 3)',\n    category: 'Sort',\n    explanation: Explanation.QSM3Exp,\n    param: <Param.QSM3Param />,\n    instructions: Instructions.QSInstruction,\n    extraInfo: ExtraInfo.QSM3Info,\n    pseudocode: {\n      sort: Pseudocode.quickSortM3,\n    },\n    controller: {\n      sort: Controller.quickSortM3,\n    },\n  },\n  'msort_arr_td': {\n    name: 'Merge Sort',\n    noDeploy: false,\n    category: 'Sort',\n    explanation: Explanation.msort_arr_td,\n    param: <Param.msort_arr_td />,\n    instructions: Instructions.msort_arr_td,\n    extraInfo: ExtraInfo.msort_arr_td,\n    pseudocode: {\n      sort: Pseudocode.msort_arr_td,\n    },\n    controller: {\n      sort: Controller.msort_arr_td,\n    },\n  },\n  'msort_lista_td': {\n    name: 'Merge Sort (lists)',\n    category: 'Sort',\n    explanation: Explanation.msort_lista_td,\n    param: <Param.msort_lista_td />,\n    instructions: Instructions.msort_lista_td,\n    extraInfo: ExtraInfo.msort_lista_td,\n    pseudocode: {\n      sort: Pseudocode.msort_lista_td,\n    },\n    controller: {\n      sort: Controller.msort_lista_td,\n    },\n  },\n\n  'binarySearchTree': {\n    noDeploy: false,\n    name: 'Binary Search Tree',\n    category: 'Insert/Search',\n    param: <Param.BSTParam />,\n    instructions: Instructions.BSTInstruction,\n    explanation: Explanation.BSTExp,\n    extraInfo: ExtraInfo.BSTInfo,\n    pseudocode: {\n      insertion: Pseudocode.binaryTreeInsertion,\n      search: Pseudocode.binaryTreeSearch,\n    },\n    controller: {\n      insertion: Controller.binaryTreeInsertion,\n      search: Controller.binaryTreeSearch,\n    },\n  },\n  'TTFTree': {\n    name: '2-3-4 Tree',\n    category: 'Insert/Search',\n    param: <Param.TTFTreeParam/>,\n    instructions: Instructions.TTFInstruction,\n    explanation: Explanation.TTFExp,\n    extraInfo: ExtraInfo.TTFInfo,\n    pseudocode: {\n      insertion: Pseudocode.TTFTreeInsertion,\n      search: Pseudocode.TTFTreeSearch,\n    },\n    controller: {\n      insertion: Controller.TTFTreeInsertion,\n      search: Controller.TTFTreeSearch,\n    },\n  },\n\n  'DFSrec': {\n    name: 'Depth First Search',\n    category: 'Graph',\n    param: <Param.DFSrecParam />,\n    instructions: Instructions.DFSrecInstruction,\n    explanation: Explanation.DFSrecExp,\n    extraInfo: ExtraInfo.DFSrecInfo,\n    pseudocode: {\n      find: Pseudocode.DFSrec,\n    },\n    controller: {\n      find: Controller.DFSrec,\n    },\n  },\n  'DFS': {\n    name: 'DFS (iterative)',\n    category: 'Graph',\n    param: <Param.DFSParam />,\n    instructions: Instructions.DFSInstruction,\n    explanation: Explanation.DFSExp,\n    extraInfo: ExtraInfo.DFSInfo,\n    pseudocode: {\n      find: Pseudocode.DFS,\n    },\n    controller: {\n      find: Controller.DFS,\n    },\n  },\n  'BFS': {\n    \n    name: 'Breadth First Search',\n    category: 'Graph',\n    param: <Param.BFSParam/>,\n    instructions: Instructions.BFSInstruction,\n    explanation: Explanation.BFSExp,\n    extraInfo: ExtraInfo.BFSInfo,\n    pseudocode: {\n      find: Pseudocode.BFS,\n    },\n    controller: {\n      find: Controller.BFS,\n    },\n  },\n  'dijkstra': {\n    name: 'Dijkstra\\'s (shortest path)',\n    category: 'Graph',\n    param: <Param.DIJKParam />,\n    instructions: Instructions.DIJKInstruction,\n    explanation: Explanation.DIJKExp,\n    extraInfo: ExtraInfo.DIJKInfo,\n    pseudocode: {\n      find: Pseudocode.dijkstra,\n    },\n    controller: {\n      find: Controller.dijkstra,\n\n    },\n  }, \n   'aStar': {\n    name: 'A* (heuristic search)',\n    category: 'Graph',\n    param: <Param.ASTARParam />,\n    instructions: Instructions.ASTARInstruction,\n    explanation: Explanation.ASTARExp,\n    extraInfo: ExtraInfo.ASTARInfo,\n    pseudocode: {\n      find: Pseudocode.AStar,\n    },\n    controller: {\n      find: Controller.AStar,\n\n    },\n  }, \n  'prim': {\n    noDeploy: false,\n    name: 'Prim\\'s (min. spanning tree)',\n    category: 'Graph',\n    explanation: Explanation.PrimsExp,\n    param: <Param.PrimsParam />,\n    instructions: Instructions.PrimsInstruction,\n    extraInfo: ExtraInfo.PrimsInfo,\n    pseudocode: {\n      find: Pseudocode.prim,\n    },\n    controller: {\n      find: Controller.prim,\n    },\n  },\n  'prim_old': {\n    noDeploy: false,\n    name: 'Prim\\'s (simpler code)',\n    category: 'Graph',\n    explanation: Explanation.Prims_oldExp,\n    param: <Param.Prims_oldParam />,\n    instructions: Instructions.Prims_oldInstruction,\n    extraInfo: ExtraInfo.Prims_oldInfo,\n    pseudocode: {\n      find: Pseudocode.prim_old,\n    },\n    controller: {\n      find: Controller.prim_old,\n    },\n  },\n  'kruskal': {\n    noDeploy: false,\n    name: 'Kruskal\\'s (min. spanning tree)',\n    category: 'Graph',\n    explanation: Explanation.KruskalExp,\n    param: <Param.KruskalParam />,\n    instructions: Instructions.KruskalInstruction,\n    extraInfo: ExtraInfo.KruskalInfo,\n    pseudocode: {\n      find: Pseudocode.kruskal,\n    },\n    controller: {\n      find: Controller.kruskal,\n    },\n  },\n  'transitiveClosure': {\n    name: 'Warshall\\'s (transitive closure)',\n    category: 'Graph',\n    explanation: Explanation.TCExp,\n    param: <Param.TCParam />,\n    instructions: Instructions.TCInstruction,\n    extraInfo: ExtraInfo.TCInfo,\n    pseudocode: {\n      tc: Pseudocode.transitiveClosure,\n    },\n    controller: {\n      tc: Controller.transitiveClosure,\n    },\n  },\n\n  'unionFind': {\n    name: 'Union Find',\n    category: 'Set',\n    param: <Param.UFParam />,\n    instructions: Instructions.UFInstruction,\n    explanation: Explanation.UFExp,\n    extraInfo: ExtraInfo.UFInfo,\n    pseudocode: {\n      union: Pseudocode.unionFindUnion,\n      find: Pseudocode.unionFindFind,\n    },\n    controller: {\n      union: Controller.unionFindUnion,\n      find: Controller.unionFindFind,\n    },\n  },\n\n  'bruteForceStringSearch': {\n    noDeploy: false,\n    name: 'Brute Force',\n    category: 'String Search',\n    explanation: Explanation.BFSSExp,\n    param: <Param.BFSSParam />,\n    instructions: Instructions.BFSSInstruction,\n    extraInfo: ExtraInfo.BFSSInfo,\n    pseudocode: {\n      search: Pseudocode.bruteForceStringSearch,\n    },\n    controller: {\n      search: Controller.bruteForceStringSearch,\n    },\n  },\n  'horspoolStringSearch': {\n    noDeploy: false,\n    name: 'Horspool\\'s',\n    category: 'String Search',\n    /*\n    Todo:\n     1. Add explanation and extra info markdown contents\n     2. Implement controller (check bookmark)\n    */\n    explanation: Explanation.HSSExp,\n    param: <Param.HSSParam />,\n    instructions: Instructions.HSSInstruction,\n    extraInfo: ExtraInfo.HSSInfo,\n    pseudocode: {\n      search: Pseudocode.horspoolStringSearching,\n    },\n    controller: {\n      search: Controller.horspoolStringSearch,\n    },\n  },\n\n};\n\nconst algorithms =\n  // Use next line for a version that includes all the algorithms:\n  // allalgs;\n  // Use next line for the deployed version:\n  Object.fromEntries(Object.entries(allalgs).filter(a => !a[1].noDeploy));\n\n/**\n * Get the first mode of an algorithm\n * @param {string} key algorithm's name\n */\nconst getDefaultMode = (key) => Object.keys(algorithms[key].pseudocode)[0];\n\n// This function generates a list of algorithms classed by categories\nconst generateAlgorithmCategoryList = () => {\n  const alCatList = [];\n  let categoryNum = 0;\n\n  // Get all the categories\n  // eslint-disable-next-line no-unused-vars\n  for (const [key, value] of Object.entries(algorithms)) {\n    if (!alCatList.some((al) => al.category === value.category)) {\n      alCatList.push({\n        category: value.category,\n        id: categoryNum,\n        algorithms: [],\n      });\n      categoryNum += 1;\n    }\n  }\n\n  // For every category, get all the algorithms\n  for (const [key, value] of Object.entries(algorithms)) {\n    const algo = alCatList.find((al) => al.category === value.category);\n    algo.algorithms.push({\n      name: value.name,\n      shorthand: key,\n      mode: getDefaultMode(key),\n    });\n  }\n\n  return alCatList;\n};\n\n// This function generates a list of algorithms classed by categories\nconst generateAlgorithmList = () => {\n  const alList = [];\n  let alNum = 0;\n\n  // For every category, get all the algorithms\n  for (const [key, value] of Object.entries(algorithms)) {\n    alList.push({\n      name: value.name,\n      shorthand: key,\n      id: alNum,\n      mode: getDefaultMode(key),\n    });\n    alNum += 1;\n  }\n\n  return alList;\n};\n\nexport default algorithms;\nexport const AlgorithmCategoryList = generateAlgorithmCategoryList();\nexport const AlgorithmList = generateAlgorithmList();\nexport const AlgorithmNum = generateAlgorithmList().length;\n","const clone = require('rfdc')();\n/*\nA chunk is a delta from one state of animation to the next. It consists primarily of\na function that, when applied, mutates one state into the next.\n */\n\n/* Because of javascript's lexical scoping in closures and lack of block scope,\n   this function allows us to save the value of a variable and provide it to the mutator\n   even if the original variable in the algorithm has changed.\n   Furthermore, it always expects the visualisers as a first implicit argument.\n */\nfunction defer(f, v) {\n  const args = v || [];\n  if (!f) {\n    return () => undefined;\n  }\n  return (visualisers) => {\n    const result = f(visualisers, ...args);\n    return result;\n  };\n}\n\nexport default class {\n  constructor(initfn) {\n    this.chunks = [];\n    this.visualisers = {};\n    this.init = initfn;\n    this.currentChunk = null;\n  }\n\n  // values is a list of arguments passed to func when it is called to perform its task.\n  // bookmark relates to the number directly after the \\\\B notation in the psuedocode\n  // recursionLevel used for recursive algorithms so we can skip over\n  // collapsed recursive calls\n  add(bookmark, func, values, recursionLevel=0) {\n    let bookmarkValue = '';\n    let pauseInCollapse = false;\n    if (typeof bookmark === 'object') {\n      bookmarkValue = bookmark.bookmark;\n      pauseInCollapse = bookmark.pauseInCollapse;\n    } else {\n      bookmarkValue = bookmark;\n    }\n    this.chunks.push({\n      bookmark: String(bookmarkValue),\n      mutator: defer(func, clone(values)),\n      pauseInCollapse,\n      recursionLevel,\n    });\n  }\n\n  isValidChunk(currentChunk) {\n    return currentChunk >= 0 && currentChunk <= this.chunks.length;\n  }\n\n  // Returns sorted array of visualizer instances\n  getVisualisers() {\n    return Object.values(this.visualisers)\n      .sort((a, b) => a.order - b.order)\n      .map((o) => o.instance);\n  }\n\n  // Applies chunk at index, this applies its mutation to the visualisers, updating them\n  doChunk(index) {\n    // Previous bug in Warshall's fixed\n    this.chunks[index].mutator(\n      Object.fromEntries(\n        Object.entries(this.visualisers).map(([k, v]) => [k, v.instance])\n      )\n    );\n  }\n\n  checkChunkPause() {\n    let nextIndex = -1;\n    if (this.currentChunk === null) {\n      nextIndex = 0;\n    } else if (\n      this.currentChunk >= 0 &&\n      this.currentChunk <= this.chunks.length - 2\n    ) {\n      nextIndex = this.currentChunk + 1;\n    } else if (this.currentChunk === this.chunks.length - 1) {\n      nextIndex = this.currentChunk + 1;\n    }\n    if (nextIndex === -1) return false;\n    if (!this.chunks[nextIndex]) return false;\n    return this.chunks[nextIndex].pauseInCollapse;\n  }\n\n  // Applies next chunks mutation\n  next(triggerPauseInCollapse = false) {\n    const pauseInCollapse = this.checkChunkPause();\n    if (!pauseInCollapse) {\n      if (this.currentChunk === null) {\n        this.visualisers = this.init();\n        this.doChunk(0);\n        this.currentChunk = 0;\n      } else if (\n        this.currentChunk >= 0 &&\n        this.currentChunk <= this.chunks.length - 2\n      ) {\n        this.doChunk(this.currentChunk + 1);\n        this.currentChunk += 1;\n      } else if (this.currentChunk === this.chunks.length - 1) {\n        // XXX do we really want to get out of range??? It's used\n        // to trigger finished for some reason but caused other\n        // potential problems we needed to work around.\n        this.currentChunk += 1;\n      }\n    } else if (!triggerPauseInCollapse) {\n      this.doChunk(this.currentChunk + 1);\n      this.currentChunk += 1;\n    }\n    if (this.currentChunk < this.chunks.length) {\n      return {\n        bookmark: this.chunks[this.currentChunk].bookmark,\n        finished: false,\n        pauseInCollapse,\n      };\n    }\n    return {\n      bookmark: this.chunks[this.currentChunk - 1].bookmark,\n      finished: true,\n      pauseInCollapse,\n    };\n  }\n\n  // Goes back one chunk, undoing last mutation\n  // Better to have a gotoChunk(c) function - prev() gets\n  // called repeatedly for collapsed code, resulting on O(N^2)\n  // complexity; Maybe goBackTo() and goForwardTo() due to _inPrevState\n  // flag (used in controllers/transitiveClosureCollapseChunkPlugin.js\n  // for some mysterious reason) DONE\n/*\n  prev() {\n    this._inPrevState = true;\n    if (this.currentChunk > 0) {\n      this.visualisers = this.init();\n      // console.log(['prev()', this.currentChunk]);\n      for (let i = 0; i <= this.currentChunk - 1; i += 1) {\n        this.doChunk(i);\n      }\n      this.currentChunk -= 1;\n    }\n    this._inPrevState = false;\n    return {\n      bookmark: this.chunks[this.currentChunk].bookmark,\n      finished: false,\n    };\n  }\n*/\n\n  // Returns previous chunk, but doesn't undo last mutation\n  prevChunk(currentChunk) {\n    const chunkNum = (currentChunk > 0? currentChunk-1 : 0);\n    return {\n      bookmark: this.chunks[chunkNum].bookmark,\n      chunk: chunkNum,\n    };\n  }\n\n  // Goes back to given chunk, undoing mutations\n  goBackTo(chunkNum) {\n    this._inPrevState = true;\n    this.visualisers = this.init();\n    for (let i = 0; i <= chunkNum; i += 1) {\n      this.doChunk(i);\n    }\n    this.currentChunk = chunkNum;\n    this._inPrevState = false;\n    return {\n      bookmark: this.chunks[this.currentChunk].bookmark,\n      finished: false,\n    };\n  }\n\n  refresh() {\n    // if we have gone to the end, currentChunk needs adjusting\n    if (this.currentChunk >= this.chunks.length-1) {\n      this.currentChunk = this.chunks.length-1;\n    }\n    // want to refresh even if we are at the start because init may\n    // depend on what is collapsed\n    // if (this.currentChunk > 0) {\n      this.visualisers = this.init();\n      for (let i = 0; i <= this.currentChunk; i += 1) {\n        this.doChunk(i);\n      }\n      // this.currentChunk -= 1; // WTF ?????\n    // }\n  }\n}\n","/* eslint-disable no-nested-ternary */\n/* eslint-disable dot-notation */\n/* eslint-disable max-len */\nimport algorithms from '../algorithms';\nimport Chunker from './chunker';\nimport findBookmark from '../pseudocode/findBookmark';\n// generic version of collapseChunkPlugin - could probably adapt code and\n// delete some others XXX\nimport { onCollapseChange } from '../algorithms/controllers/collapseChunkPlugin';\nimport { onCollapseStateChange } from '../algorithms/controllers/transitiveClosureCollapseChunkPlugin';\nimport { unionFindToggleRank } from '../algorithms/controllers/unionFindUnion';\n\nconst DEFAULT_ALGORITHM = 'heapSort';\nconst DEFAULT_MODE = 'sort';\n// const DEFAULT_ALGORITHM = 'binarySearchTree';\n// const DEFAULT_MODE = 'insertion';\n\n// Return block name for bookmark\nfunction bookmarkBlock(bookmark, pseudocode) {\n  // Need to search through the blocks to find the bookmark:( - would be\n  // nice if there were more data structures built when pseudocode was read\n  // to assist in operations such as this, and navigating the tree\n  // structure of blocks XXX\n  for (const blockName of Object.keys(pseudocode)) {\n    for (let i = 0; i < pseudocode[blockName].length; i += 1) {\n      // looking at all the pseudocode elements\n      if (pseudocode[blockName][i].bookmark === bookmark) {\n        return blockName;\n      }\n    }\n  }\n  throw new Error(`Cannot find bookmark ${bookmark}`);\n}\n\n// Returns list of ancestors blocks, from Main (first) down to blockName\nfunction ancestorBlocks(blockName, pseudocode) {\n  if (blockName === 'Main') {\n    return ['Main'];\n  }\n  for (const name of Object.keys(pseudocode)) {\n    for (let i = 0; i < pseudocode[name].length; i += 1) {\n      if (\n        // is such a complex mess required? If so, it reeks of poor design:(\n        Object.prototype.hasOwnProperty.call(pseudocode[name][i], 'ref') !==\n          undefined &&\n        pseudocode[name][i].ref === blockName\n      ) {\n        return ancestorBlocks(name, pseudocode).concat([blockName]);\n      }\n    }\n  }\n  // couldn't find ref to block - should be Main but maybe top level is\n  // called something else (or it's an error)\n  return [blockName];\n}\n\n// Find the chunk number to step to next, dependent on what is collapsed etc\n// Coded added for recursive algorithms not tested - need to re-code\n// quicksort\nfunction findNext(chunks, chunkNum, pseudocode, collapse) {\n  if (chunkNum >= chunks.length-1) { // if at end, don't move\n    return chunkNum;\n  }\n  chunkNum += 1; // go to next chunk\n  let bookmark = chunks[chunkNum].bookmark;\n  let block = bookmarkBlock(bookmark, pseudocode);\n  if (collapse[block]) { // code line is fully expanded -> stop at this chunk\n    return chunkNum;\n  }\n  // If we want to skip over recursive calls, we should have a chunk\n  // before the recursion, even if no state is changed, eg have\n  // pseudocode \"recursively solve sub-problem\" which has a chunk, and\n  // the expanded code \"foo(args)\". If we are at an expanded line before the\n  // recursive call then skip forward one block, we will be at the same\n  // recursion level (callRecLevel).  If the previous chunk is at the\n  // end of a recursive computation and but the code is collapsed, the\n  // recursionLevel of that chunk will be greater, thats why we need to\n  // get recursionLevel after chunkNum += 1 and make sure there is a\n  // chunk before we get into the next recursive cal\n  let callRecLevel = chunks[chunkNum].recursionLevel;\n  // console.log(['findNext', chunkNum, bookmark, block, callRecLevel]);\n  // find the outermost ancestor of 'block' where collapse===false\n  // - this will block of the pseudocode line that is displayed\n  // Eg, for a fully collapsed Heapsort we will find BuildHeap, and the code\n  // of Main has a call to BuildHeap\n  let ancestors = ancestorBlocks(block, pseudocode);\n  let index = ancestors.findIndex(\n          (currentValue, index, arr) => !collapse[currentValue]);\n  // This is the block we need to skip to the end of\n  let blockToSkip = ancestors[index];\n  // console.log(ancestors.concat([blockToSkip]));\n  // console.log(ancestors.map(i => collapse[i]));\n  // We skip forward until we find a chunk that is not in this ancestor\n  // block, then go back one step (we want the last chunk in this block)\n  // eg, we search until we find a point which doesn't have BuildHeap as an\n  // ancestor and return the block immediately before that - the last step\n  // of BuildHeap.  We also keep going if the recursion level is\n  // greater than callRecLevel\n  do {\n    if (chunkNum >= chunks.length-1) { // check we don't run off the end\n      return chunks.length-1;\n    }\n    chunkNum += 1;\n    bookmark = chunks[chunkNum].bookmark;\n    block = bookmarkBlock(bookmark, pseudocode);\n    ancestors = ancestorBlocks(block, pseudocode);\n    // console.log(ancestors.concat([chunkNum, bookmark, block, callRecLevel, chunks[chunkNum].recursionLevel]));\n  } while (chunks[chunkNum].recursionLevel > callRecLevel\n            || ancestors.includes(blockToSkip));\n  return chunkNum-1;\n}\n\n// Find the chunk number to step back to, dependent on what is collapsed etc\n// Coded added for recursive algorithms not tested - need to re-code\n// quicksort\nfunction findPrev(chunks, chunkNum, pseudocode, collapse) {\n  if (chunkNum <= 0) { // if at start, don't move\n    return 0;\n  }\n  // chunkNum gets out of range at the end - have to check for that\n  if (chunkNum >= chunks.length) {\n   chunkNum = chunks.length - 1;\n  }\n  // We need to add a chunk at the end of tail-recursive functions, eg\n  // \"// Done\" in order to keep track of recursion level in the chunks,\n  // otherwise the last chunk in a recursive computation could be at\n  // some deep recursion level and there is no way of knowing what level\n  // we came from (multiple levels end with the same chunk with tail\n  // recursion). callRecLevel will be the level of this last chunk.\n  let callRecLevel = chunks[chunkNum].recursionLevel;\n  let bookmark = chunks[chunkNum].bookmark;\n  let block = bookmarkBlock(bookmark, pseudocode);\n  // console.log([\"findPrev\", chunkNum, bookmark, block]);\n  if (collapse[block]) { // code line is fully expanded -> back 1 step\n    return chunkNum-1;\n  }\n  // find the outermost ancestor of 'block' where collapse===false\n  // - this will block of the pseudocode line that is displayed\n  // Eg, for a fully collapsed Heapsort we will find SortHeap, and the code of\n  // Main has a call to SortHeap\n  let ancestors = ancestorBlocks(block, pseudocode);\n  let index = ancestors.findIndex(\n          (currentValue, index, arr) => !collapse[currentValue]);\n  // This is the block we need skip over (SortHeap in the example above)\n  let blockToSkip = ancestors[index];\n  // console.log(ancestors.concat([blockToSkip]));\n  // We skip back until we find a chunk that is not in this ancestor\n  // block\n  // eg, we search until we find a point which doesn't have SortHeap as an\n  // ancestor - the last step of BuildHeap\n  // We check recursion depth also - keep going if recursion\n  // depth is greater than saved depth\n  do {\n    if (chunkNum <= 0) { // check we don't run off the end\n      return 0;\n    }\n    chunkNum -= 1;\n    bookmark = chunks[chunkNum].bookmark;\n    block = bookmarkBlock(bookmark, pseudocode);\n    ancestors = ancestorBlocks(block, pseudocode);\n    // console.log(ancestors.concat([chunkNum, bookmark, block]));\n  } while (chunks[chunkNum].recursionLevel > callRecLevel\n           || ancestors.includes(blockToSkip));\n  return chunkNum;\n}\n\n\n/**\n * Setup initial collapse state for each pseudocode\n * @param {object} procedurePseudocode\n */\nfunction getCollapseControllerForSinglePseudocode(procedurePseudocode) {\n  const collapseController = {};\n  for (const codeBlockName of Object.keys(procedurePseudocode)) {\n    if (codeBlockName === 'Main') {\n      collapseController[codeBlockName] = true;\n    } else {\n      collapseController[codeBlockName] = false;\n    }\n  }\n  return collapseController;\n}\n\n// get the collapse controller for all the algorithms and all the modes\nfunction getCollapseController(procedureAlgorithms) {\n  const collapseController = {};\n  for (const algorithmName of Object.keys(procedureAlgorithms)) {\n    const algorithmCollapseController = {};\n    for (const modeName of Object.keys(\n      procedureAlgorithms[algorithmName].pseudocode\n    )) {\n      algorithmCollapseController[modeName] =\n        getCollapseControllerForSinglePseudocode(\n          procedureAlgorithms[algorithmName].pseudocode[modeName]\n        );\n    }\n    collapseController[algorithmName] = algorithmCollapseController;\n  }\n  return collapseController;\n}\n\nfunction addLineExplanation(procedurePseudocode) {\n  let index = 0;\n  for (const codeBlockName of Object.keys(procedurePseudocode)) {\n    for (const line of procedurePseudocode[codeBlockName]) {\n      if (line.explanation.length > 0) {\n        line['lineExplanButton'] = { id: index, state: false };\n        index += 1;\n      }\n    }\n  }\n}\n\n// At any time the app may call dispatch(action, params), which will trigger one of\n// the following functions. Each comment shows the expected properties in the\n// params argument.\nexport const GlobalActions = {\n  // load an algorithm by returning its relevant components\n  LOAD_ALGORITHM: (state, params) => {\n    const data = algorithms[params.name];\n    const { param, name, explanation, extraInfo, pseudocode, instructions } =\n      data;\n    const procedurePseudocode = pseudocode[params.mode];\n    addLineExplanation(procedurePseudocode);\n\n    return {\n      id: params,\n      name,\n      explanation,\n      instructions,\n      extraInfo,\n      param,\n      pseudocode: procedurePseudocode,\n      collapse:\n        state === undefined || state.collapse === undefined\n          ? getCollapseController(algorithms)\n          : state.collapse,\n      lineExplanation: '',\n    };\n  },\n\n  // run an algorithm by executing the algorithm\n  RUN_ALGORITHM: (state, params) => {\n    const data = algorithms[params.name];\n    const {\n      param,\n      controller,\n      name,\n      explanation,\n      extraInfo,\n      pseudocode,\n      instructions,\n    } = data;\n    const procedurePseudocode = pseudocode[params.mode];\n\n    // Previously if we switched modes from insert to search, the search\n    // code had no in-line explanations built.\n    // XXX It seems a bit of overkill to redo the explanations whenever\n    // the algorithm is re-run (changing mode probable should LOAD the\n    // algorithm then separately RUN it) but this works for now...\n    addLineExplanation(procedurePseudocode);\n\n    // here we pass a function reference to Chunker() because we may want to initialise\n    // a visualiser using a previous one\n    const chunker = new Chunker(() =>\n      controller[params.mode].initVisualisers(params)\n    );\n    controller[params.mode].run(chunker, params);\n    const bookmarkInfo = chunker.next();\n    //const firstLineExplan = findBookmark(procedurePseudocode, bookmarkInfo.bookmark).explanation;\n    const firstLineExplan = null;\n\n    return {\n      ...state,\n      id: params,\n      name,\n      explanation,\n      extraInfo,\n      instructions,\n      param,\n      pseudocode: procedurePseudocode,\n      ...bookmarkInfo, // sets bookmark & finished fields\n      chunker,\n      visualisers: chunker.visualisers,\n      collapse:\n        state === undefined || state.collapse === undefined\n          ? getCollapseController(algorithms)\n          : state.collapse,\n      playing: false,\n      lineExplanation: firstLineExplan,\n    };\n  },\n\n  // run next line of code\n  // We want to step forward one line if next\n  // line of code is expanded.  If it is not, we want to step until the\n  // *last* line of execution of that collapsed block (old code did\n  // *first* line). If next chunk's block is collapsed, we want to find\n  // the outermost collapsed block B containing it and pick the last\n  // chunk in that block or a block contained (transitively) in that block.\n  // Not sure about the triggerPauseInCollapse stuff (was added for\n  // transitiveClosure code which has bugs anyway, though not as many as\n  // previously)\n  // Not sure about playing either - just pass it through as before\n  NEXT_LINE: (state, playing) => {\n    let result;\n\n    let triggerPauseInCollapse = false;\n    if (typeof playing === 'object') {\n      triggerPauseInCollapse = playing.triggerPauseInCollapse;\n      playing = playing.playing;\n    }\n\n    // console.log(['NEXT_LINE', playing, triggerPauseInCollapse]);\n    // figure out what chunk we need to stop at\n    let stopAt = findNext(state.chunker.chunks, state.chunker.currentChunk, state.pseudocode, state.collapse[state.id.name][state.id.mode]);\n    // step forward until we are at stopAt, or last chunk, or some weird\n    // pauseInCollapse stuff (for Warshall's?) I don't really understand:( XXX\n    do {\n      result = state.chunker.next(triggerPauseInCollapse);\n      if (!triggerPauseInCollapse) {\n        result.pauseInCollapse = false;\n      }\n      // console.log(['chunker.next', state.chunker.currentChunk, result.pauseInCollapse, result.finished, state.id.name, state.id.mode, result.bookmark]);\n    } while (\n      !result.pauseInCollapse &&\n      !result.finished &&\n      state.chunker.currentChunk < stopAt\n    );\n    // const lineExplan = findBookmark(state.pseudocode, result.bookmark).explanation;\n\n    // if playing, currentChunk gets out of range at the end. For single\n    // step, if we are at the end, we fake an extra \"next\" so hopefully\n    // we are in the same state as if we had done \"play\" to the end, and\n    // we haven't missed doing anything.  Not sure how everything worked\n    // in the past... XXX\n    if (state.chunker.currentChunk === state.chunker.chunks.length-1) {\n      state.chunker.currentChunk += 1;\n      result.finished = true;\n      // console.log('fake next');\n    }\n    // console.log('NEXT_LINE DONE');\n    return {\n      ...state,\n      ...result,\n      playing,\n      // lineExplanation: lineExplan,\n    };\n  },\n\n  // run previous line of code\n  // BUG with collapsed code.  We want to step back one line if current\n  // line of code is expanded.  If it is not, we want to step until the\n  // first line of execution before that collapsed block; ie, the first\n  // line not (transitively) in that block.\n  // Not sure about the triggerPauseInCollapse stuff (was added for\n  // transitiveClosure code which has bugs anyway)\n  PREV_LINE: (state, playing) => {\n    // \"finished\" is triggered when state.chunker.currentChunk gets out\n    // of range (perhaps should change this XXX); we need check for\n    // that here\n    // console.log(['PREV_LINE', state.chunker.currentChunk, state.chunker.chunks.length]);\n    if (state.chunker.currentChunk > state.chunker.chunks.length ) {\n      state.chunker.currentChunk = state.chunker.chunks.length - 1;\n    }\n    let stopAt = findPrev(state.chunker.chunks, state.chunker.currentChunk, state.pseudocode, state.collapse[state.id.name][state.id.mode])\n    let result1 = {bookmark:\"\", chunk: state.chunker.currentChunk};\n    const result = state.chunker.goBackTo(stopAt); // changes state\n\n    // const lineExplan = findBookmark(state.pseudocode, result.bookmark).explanation;\n\n    return {\n      ...state,\n      ...result,\n      playing,\n      // lineExplanation: lineExplan,\n    };\n  },\n\n  TOGGLE_PLAY: (state, playing) => ({\n    ...state,\n    playing,\n  }),\n\n  COLLAPSE: (state, { codeblockname, expandOrCollapase }) => {\n    // for (const k of Object.keys(state.pseudocode)) {\n      // console.log([\"COLLAPSE\", k, state.collapse[state.id.name][state.id.mode][k]]);\n    // }\n    const result = state.collapse;\n\n    if (expandOrCollapase === undefined) {\n      result[state.id.name][state.id.mode][codeblockname] =\n        !result[state.id.name][state.id.mode][codeblockname];\n    } else if (expandOrCollapase) {\n      result[state.id.name][state.id.mode][codeblockname] = true; // expand\n    } else {\n      result[state.id.name][state.id.mode][codeblockname] = false; // collapse\n    }\n\n    onCollapseChange(state.chunker); // generic plugin for expand/collapse\n    onCollapseStateChange(); // Transitive closure plugin\n    unionFindToggleRank(state);\n\n    return {\n      ...state,\n      collapse: result,\n    };\n  },\n\n  LineExplan: (state, updateLineExplan) => ({\n    ...state,\n    lineExplanation: updateLineExplan,\n  }),\n};\n\nexport function dispatcher(state, setState) {\n  return (action, params) => {\n    setState(action(state, params));\n  };\n}\n\nexport function initialState() {\n  // experimenting with specifying algorithm etc using URL\n  // eg, from https://dev-aia.vercel.app/?alg=heapSort;mode=sort\n  // we extract the 'search' part, convert to\n  // [[\"alg\", \"heapSort\"], [\"mode\", \"sort\"]], extract the alg+mode\n  // and (if they exist) use them for the default.\n  const currentUrl = new URL(window.location.href);\n  let search = currentUrl.search.substring(1);\n  const param_vals = search.split(';').map(s => s.split('='));\n  const alg_spec = param_vals.find(a => a[0] === \"alg\");\n  const alg = (alg_spec? alg_spec[1]: undefined);\n  const mode_spec = param_vals.find(a => a[0] === \"mode\");\n  const mode = (mode_spec? mode_spec[1]: undefined);\n  // XXX could import+use allalgs instead of algorithms throughout this\n  // file so we can access algorithms with the noDeploy flag set, even\n  // though they are not in the menu\n  if (alg && mode && alg in algorithms && mode in algorithms[alg].pseudocode)\n    return GlobalActions.LOAD_ALGORITHM(undefined, {\n      name: alg,\n      mode: mode,\n    });\n  return GlobalActions.LOAD_ALGORITHM(undefined, {\n    name: DEFAULT_ALGORITHM,\n    mode: DEFAULT_MODE,\n  });\n}\n","// Stuff to access what chunks are collapsed, so animation can depend on\n// that (eg show less/more information). There was an accumulation\n// of different versions of this for different algorithms. This is a\n// more generic one that requires some extra some code in algorithm files.\n// Possibly should be put elsewhere, eg, src/context/\n// NOTE: any algorithm controller file that imports this must be listed\n// below, otherwise hooks into what happens when blocks are expanded or\n// contracted are not enabled.\nconst importsThis = ['quickSort', 'quickSortM3', 'msort_arr_td',\n  'transitiveClosure', 'heapSort', 'msort_lista_td'];\n\n// eslint-disable-next-line import/no-cycle\n// See also accompanying mods/hooks in src/context/GlobalState.js and\n// src/context/actions.js \nimport { GlobalActions } from '../../context/actions';\n\n// not sure if finding the running algorithm needs such complex code, but this\n// seems to work...\nlet algorithmGetter = () => null;\n\nfunction getGlobalAlgorithm() {\n  return algorithmGetter();\n}\n\nwindow.getGlobalAlgorithm = getGlobalAlgorithm;\nexport function initGlobalAlgorithmGetter(getter) {\n  algorithmGetter = getter;\n}\n\n// Checks if list of pseudocode blocks are all currently expanded.  Note\n// that \"inner\" blocks can be expanded even when \"outer\" ones are not, eg,\n// for msort_arr_td has block Merge inside MergeCopy.  To check if Merge\n// code is visible (so certain variables should be displayed), we should\n// check both Merge and MergeCopy are expanded.  Hopefully, using a list\n// of blocks in this interface will help remind programmers to include the\n// block we are interested in *plus enclosing blocks* (Main is always\n// expanded so that is not needed).\nexport function areExpanded(blocks) {\n  const algorithm = getGlobalAlgorithm();\n  const alg_name = algorithm.id.name;\n  const { bookmark, pseudocode, collapse } = algorithm;\n  return blocks.reduce((acc, curr) =>\n     (acc && collapse[alg_name].sort[curr]), true);\n}\n\n// Trigger refresh of display when code is expanded/collapsed.\n// Not so efficient - runs through all the chunks from the start. XXX\n// However, it seems to work fine and is pretty general.\n// Added a shortcut for algorithms that never change display\n// depending on what blocks are collapsedi, which requires algorithms\n// that use this code to be explicitly listed at the start of this file\n// (could invert the selection and list tose that don't need it, to be\n// more robust).\nexport function onCollapseChange(chunker) {\n  const algorithm = getGlobalAlgorithm();\n  const alg_name = algorithm.id.name;\n  if (!importsThis.includes(alg_name)) return;\n  chunker.refresh();\n}\n\n","import React, { createContext, useState } from 'react';\n// generic version of collapseChunkPlugin - could probably adapt code and\n// delete some others XXX\nimport { initGlobalAlgorithmGetter } from '../algorithms/controllers/collapseChunkPlugin';\nimport { initGlobalAlgotithmGetter } from '../algorithms/controllers/transitiveClosureCollapseChunkPlugin';\nimport { dispatcher, initialState } from './actions';\n\n/* What's going on here?\n * We maintain a global state to hold info about the currently executing algorithm.\n *\n * The GlobalContext is an object that can be referenced by any component that needs\n * access to the global state. They can then modify that state by calling the dispatch\n * function with a particular action and any extra information the action needs.\n *\n * The magic is that when the state is changed, React re-renders components so we can\n * see the new state reflected on screen.\n */\n\n// Create context\nexport const GlobalContext = createContext();\n// only call this function once\nconst init = initialState();\n\n// Provider components\n// eslint-disable-next-line react/prop-types\nexport const GlobalProvider = ({ children }) => {\n  const [state, setState] = useState(init);\n  // Think of this as partial function application to get state & setState in scope\n  // for later calls from elsewhere in the app.\n  const dispatch = dispatcher(state, setState);\n\n  const globalState = {\n    algorithm: state,\n    dispatch,\n  };\n\n  initGlobalAlgorithmGetter(\n    () => globalState.algorithm,\n  );\n  initGlobalAlgotithmGetter(\n    () => globalState.algorithm,\n  );\n\n  return (\n    <GlobalContext.Provider value={globalState}>\n      {children}\n    </GlobalContext.Provider>\n  );\n};\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Tabs, Tab, Paper } from \"@mui/material\";\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { makeStyles } from '@mui/styles';\n\n\nfunction HeaderButton({ value, onChange }) {\n  const [state, setState] = useState(0);\n  const handleChange = (event, newValue) => {\n    setState(newValue);\n    onChange(newValue);\n  };\n\n  const globalTheme = createTheme({\n    palette: {\n      primary: {\n        main: \"#027AFF\",\n      },\n    },\n  });\n\n  const tabHeight = \"42px\"; // default: '48px'\n  const useStyles = makeStyles(() => ({\n    tabsRoot: {\n      minHeight: tabHeight,\n      height: tabHeight,\n      width: \"100%\",\n    },\n    tabRoot: {\n      minHeight: tabHeight,\n      height: tabHeight,\n      width: \"30px\",\n    },\n  }));\n\n  const classes = useStyles();\n\n  return (\n    <>\n      <ThemeProvider theme={globalTheme}>\n        <Paper square elevation={0} className=\"rightPanelButtons\">\n          <Tabs\n            value={state}\n            onChange={handleChange}\n            variant=\"scrollable\"\n            scrollButtons=\"auto\"\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            aria-label=\"tabs button\"\n            classes={{\n              root: classes.tabsRoot,\n            }}\n          >\n            {value.map((item) => (\n              <Tab\n                key={item.id}\n                label={item.label}\n                disableRipple\n                value={item.id}\n                classes={{\n                  root: classes.tabRoot,\n                }}\n              />\n            ))}\n          </Tabs>\n        </Paper>\n      </ThemeProvider>\n    </>\n  );\n}\n\nHeaderButton.propTypes = {\n  value: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      label: PropTypes.string,\n      display: PropTypes.element,\n    })\n  ).isRequired,\n  onChange: PropTypes.func.isRequired,\n};\nexport default HeaderButton;\n","/* eslint-disable react/destructuring-assignment */\nconst React = require('react');\n\nconst PropTypes = require('prop-types');\n\n// eslint-disable-next-line prefer-destructuring\nconst hljs = window.hljs;\n\nclass CodeBlock extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.setRef = this.setRef.bind(this);\n  }\n\n  componentDidMount() {\n    this.highlightCode();\n  }\n\n  componentDidUpdate() {\n    this.highlightCode();\n  }\n\n  setRef(el) {\n    this.codeEl = el;\n  }\n\n  highlightCode() {\n    hljs.highlightBlock(this.codeEl);\n  }\n\n  render() {\n    return (\n      <pre>\n        <code ref={this.setRef} className={`language-${this.props.language}`}>\n          {this.props.value}\n        </code>\n      </pre>\n    );\n  }\n}\n\nCodeBlock.defaultProps = {\n  language: '',\n};\n\nCodeBlock.propTypes = {\n  value: PropTypes.string.isRequired,\n  language: PropTypes.string,\n};\n\nexport default CodeBlock;\n","import React, { useContext, useEffect, useState } from 'react';\nimport ReactMarkDown from 'react-markdown/with-html';\nimport toc from 'remark-toc';\n\nimport PropTypes from 'prop-types';\nimport CodeBlock from '../../markdown/code-block';\nimport { GlobalContext } from '../../context/GlobalState';\n\nimport { increaseFontSize, setFontSize } from '../top/helper';\n\n\nfunction Explanation({ fontSize, fontSizeIncrement }) {\n  const { algorithm } = useContext(GlobalContext);\n  const [explanation, setExplanation] = useState('');\n  const fontID = 'textAreaExplanation';\n\n\n  useEffect(() => {\n    fetch(algorithm.explanation).then((res) => res.text()).then((text) => setExplanation(text));\n    setFontSize(fontID, fontSize);\n    increaseFontSize(fontID, fontSizeIncrement);\n  }, [algorithm.explanation, fontSizeIncrement, fontSize]);\n\n\n  return (\n    <div className=\"textArea\" id={fontID}>\n      <ReactMarkDown\n        source={explanation}\n        escapeHtml={false}\n        renderers={{ code: CodeBlock }}\n        plugins={[toc]}\n      />\n    </div>\n  );\n}\n\nexport default Explanation;\nExplanation.propTypes = {\n  fontSize: PropTypes.number.isRequired,\n  fontSizeIncrement: PropTypes.number.isRequired,\n};\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCancel(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512.001 512.001\",\n    style: {\n      enableBackground: \"new 0 0 512.001 512.001\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717 L34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859 c-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287 l221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285 L284.286,256.002z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCancel);\nexport default __webpack_public_path__ + \"static/media/cancel.da5c4222.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { GlobalContext } from '../../context/GlobalState';\nimport { GlobalActions } from '../../context/actions';\nimport ControlButton from '../common/ControlButton';\nimport { ReactComponent as Cancel } from '../../assets/icons/cancel.svg';\nimport { setFontSize, increaseFontSize } from '../top/helper';\n\n\nfunction LineExplanation({ explanation, fontSize, fontSizeIncrement }) {\n  const { dispatch } = useContext(GlobalContext);\n  const fontID = 'lineExplanation';\n\n  useEffect(() => {\n    setFontSize(fontID, fontSize);\n    increaseFontSize(fontID, fontSizeIncrement);\n  }, [fontSizeIncrement, fontSize]);\n\n  return (\n    <div className=\"lineExplanation\" id={fontID}>\n      <div className=\"lEHeader\">\n        <div className=\"lEtitle\">Explanation</div>\n        <ControlButton\n          icon={<Cancel />}\n          className=\"greyRoundBtn\"\n          id=\"cancelLineExplainBtn\"\n          onClick={() => {\n            dispatch(GlobalActions.LineExplan, '');\n          }}\n        />\n      </div>\n      <div className=\"lEDesc\">\n        {explanation}\n      </div>\n    </div>\n  );\n}\n\nexport default LineExplanation;\n\nLineExplanation.propTypes = {\n  explanation: PropTypes.string.isRequired,\n  fontSize: PropTypes.number.isRequired,\n  fontSizeIncrement: PropTypes.number.isRequired,\n};\n","/* eslint-disable import/prefer-default-export */\nexport const markdownKeywords = {\n  keyword: ['for', 'while', 'if', 'else', 'in', 'each', 'do',\n    'repeat', 'until', 'Empty', 'Locate', 'of', 'not', 'downto', 'and', 'or', 'return', 'NotFound'],\n  operator: ['<', '>', '+', '-'],\n  arrow: ['<-'],\n};\n","/* eslint-disable no-restricted-syntax */\n/* eslint-disable max-len */\n/* eslint-disable operator-linebreak */\n/* eslint-disable react/jsx-indent */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-loop-func */\n/* eslint-disable react/button-has-type */\n/* eslint-disable dot-notation */\n/* eslint-disable linebreak-style */\nimport React, { useContext, useEffect } from 'react';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport HelpIcon from '@mui/icons-material/Help';\nimport PropTypes from 'prop-types';\nimport { GlobalContext } from '../../context/GlobalState';\nimport { GlobalActions } from '../../context/actions';\nimport '../../styles/LineNumHighLight.scss';\nimport LineExplanation from './LineExplanation';\nimport { setFontSize, increaseFontSize } from '../top/helper';\nimport { markdownKeywords } from './MarkdownKeywords';\n\n\nfunction blockContainsBookmark(algorithm, block) {\n  for (const line of algorithm.pseudocode[block]) {\n    if ((line.bookmark !== undefined && line.bookmark === algorithm.bookmark)\n      || (line.ref && blockContainsBookmark(algorithm, line.ref, algorithm.bookmark))) {\n      if (algorithm.name === 'Quicksort' && line.bookmark && parseInt(line.bookmark, 10) === 5) {\n        sessionStorage.setItem('isPivot', true);\n        sessionStorage.setItem('quicksortPlay', true);\n      }\n      return true;\n    } if (line.bookmark !== undefined && algorithm.name === 'Quicksort' && algorithm.bookmark === '5' && line.bookmark === '13') {\n      sessionStorage.setItem('isPivot', true);\n      sessionStorage.setItem('quicksortPlay', true);\n      return false;\n    }\n  }\n  return false;\n}\n\nfunction codeFormatting(codeArray) {\n  let spanItem;\n  let codeItem;\n  const codeRexItem = [];\n  let key = 0;\n  for (codeItem of codeArray) {\n    let flag = true;\n    let arrayIndex = 0;\n    key++;\n    const arrayLength = codeArray.length;\n    for (const markdownKeyword of Object.keys(markdownKeywords)) {\n      if (markdownKeywords[markdownKeyword].includes(codeItem.trim())) {\n        if (arrayIndex < arrayLength - 1) {\n          codeItem += '\\xa0';\n        }\n        spanItem = <span key={key} className={markdownKeyword}>{codeItem}</span>;\n        codeRexItem.push(spanItem);\n        flag = false;\n        break;\n      }\n    }\n    if (flag) {\n      if (codeItem.indexOf('(') !== -1) {\n        let func = codeItem;\n        while (func.indexOf('(') !== -1) {\n          key++;\n          const funcName = func.substring(0, func.indexOf('('));\n          spanItem = <span key={key} className=\"function\">{funcName}</span>;\n          codeRexItem.push(spanItem);\n          key++;\n          spanItem = <span key={key}>(</span>;\n          codeRexItem.push(spanItem);\n          const funcContent = func.substring(func.indexOf('(') + 1);\n          func = funcContent;\n        }\n        if (arrayIndex < arrayLength - 1) {\n          func += '\\xa0';\n        }\n        key++;\n        spanItem = <span key={key}>{func}</span>;\n        codeRexItem.push(spanItem);\n      } else {\n        if (arrayIndex < arrayLength - 1) {\n          codeItem += '\\xa0';\n        }\n        key++;\n        spanItem = <span key={key}>{codeItem}</span>;\n        codeRexItem.push(spanItem);\n      }\n    }\n    arrayIndex += 1;\n  }\n  return codeRexItem;\n}\n\n\nfunction getAllBlocksToCollapse(algorithm, parent) {\n  if (parent) {\n    let results = [parent];\n    const line = algorithm.pseudocode[parent];\n    for (let i = 0; i < line.length; i++) {\n      const result = getAllBlocksToCollapse(algorithm, line[i]['ref']);\n      if (result) {\n        results = results.concat(result);\n      }\n    }\n    return results;\n  }\n  return null;\n}\n\n\nfunction pseudocodeBlock(algorithm, dispatch, blockName, lineNum) {\n  let i = lineNum;\n  let codeLines = [];\n  const key = 0;\n  for (const line of algorithm.pseudocode[blockName]) {\n    i += 1;\n    // Pseudocode Formatting\n    const explaIndex = line.code.indexOf('//');\n    let pseudoceArary = [];\n    if (explaIndex === -1) {\n      if (line.ref && algorithm.collapse[algorithm.id.name][algorithm.id.mode][line.ref]) {\n        const spanItem = <span key={key} className=\"explanation\">{`//${line.code}`}</span>;\n        pseudoceArary.push(spanItem);\n      } else {\n        const codeItemArray = line.code.split(' ');\n        pseudoceArary = [...codeFormatting(codeItemArray)];\n      }\n    } else if (explaIndex === 0) {\n      const spanItem = <span key={key} className=\"explanation\">{line.code}</span>;\n      pseudoceArary.push(spanItem);\n    } else {\n      const code = line.code.substring(0, explaIndex);\n      const codeItemArray = code.split(' ');\n      pseudoceArary = [...codeFormatting(codeItemArray)];\n      const expla = line.code.substring(explaIndex);\n      const spanItem = <span key={key} className=\"explanation\">{expla}</span>;\n      pseudoceArary.push(spanItem);\n    }\n\n    let lineExplanButton = null;\n    if (algorithm.collapse[algorithm.id.name][algorithm.id.mode][blockName] && line.lineExplanButton !== undefined) {\n      lineExplanButton =\n        <button\n          id={\"buttonexpl\" + i}\n          className={line.explanation === algorithm.lineExplanation ? 'line-explanation-button-active' : 'line-explanation-button-negative'}\n          onClick={() => { dispatch(GlobalActions.LineExplan, line.explanation); }}\n        >\n          <HelpIcon style={{ color: '#f7c679', fontSize: 'small' }} />\n        </button>;\n    }\n    if (line.ref) {\n      codeLines.push(\n        <p\n          key={i}\n          className={(!algorithm.collapse[algorithm.id.name][algorithm.id.mode][line.ref]\n            && blockContainsBookmark(algorithm, line.ref)) ? 'active' : ''}\n          role=\"presentation\"\n        //onClick={() => { dispatch(GlobalActions.LineExplan, line.explanation); }}\n        >\n          <span>{i}</span>\n          <span>\n            <button\n              className={algorithm.collapse[algorithm.id.name][algorithm.id.mode][line.ref] ? 'expand-collapse-button-active' : 'expand-collopse-button'}\n              onClick={() => {\n                // If the block needs to collapse, get reference for all sub-blocks (recursively) and collapse the sub-blocks\n                if (algorithm.collapse[algorithm.id.name][algorithm.id.mode][line.ref]) {\n                  const blocksToCollapse = getAllBlocksToCollapse(algorithm, line.ref);\n                  for (let l = 0; l < blocksToCollapse.length; l++) {\n                    dispatch(GlobalActions.COLLAPSE, { codeblockname: blocksToCollapse[l], expandOrCollapase: false });\n                  }\n                } else {\n                  dispatch(GlobalActions.COLLAPSE, { codeblockname: line.ref });\n                }\n              }}\n            >\n              {algorithm.collapse[algorithm.id.name][algorithm.id.mode][line.ref]\n                ? <ExpandMoreIcon style={{ fontSize: 12 }} />\n                : <ChevronRightIcon style={{ fontSize: 12 }} />}\n            </button>\n          </span>\n          <span\n            id={(line.bookmark !== undefined && algorithm.bookmark === line.bookmark) ? 'activebtn' : ''}>\n            {lineExplanButton}</span>\n          {pseudoceArary}\n        </p>,\n      );\n      if (algorithm.collapse[algorithm.id.name][algorithm.id.mode][line.ref]) {\n        const subblock = pseudocodeBlock(algorithm, dispatch, line.ref, i);\n        i = subblock.index;\n        codeLines = codeLines.concat(subblock.cl);\n      }\n    } else {\n      codeLines.push(\n        <p\n          key={i}\n          className={(line.bookmark !== undefined && algorithm.bookmark === line.bookmark) ? 'active' : ''}\n          role=\"presentation\"\n        //onClick={() => { dispatch(GlobalActions.LineExplan, line.explanation); }}\n        >\n          <span>{i}</span>\n          <span>{null}</span>\n          <span id={(line.bookmark !== undefined && algorithm.bookmark === line.bookmark) ? 'activebtn' : ''}>\n            {lineExplanButton}</span>\n          {pseudoceArary}\n        </p>,\n      );\n    }\n  }\n  return { index: i, cl: codeLines };\n}\n\nconst pseudoCodePadding = (lineNum, limit) => {\n  const codeLines = [];\n\n  for (let i = lineNum; i < (lineNum + limit); i++) {\n    codeLines.push(\n      <p\n        key={i}\n        role=\"presentation\"\n      >\n        <span>{i}</span>\n      </p>,\n    );\n  }\n  return codeLines;\n};\n\nconst PADDING_LINE = 2;\n\nconst LineNumHighLight = ({ fontSize, fontSizeIncrement }) => {\n  const { algorithm, dispatch } = useContext(GlobalContext);\n  const fontID = 'code-container';\n\n  useEffect(() => {\n    setFontSize(fontID, fontSize);\n    increaseFontSize(fontID, fontSizeIncrement);\n  }, [fontSizeIncrement, fontSize]);\n\n  const { index, cl } = pseudocodeBlock(algorithm, dispatch, 'Main', 0);\n  const pseudoCodePad = pseudoCodePadding(index + 1, PADDING_LINE);\n\n  return (\n    <div className=\"line-light\">\n      <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300&display=swap\" rel=\"stylesheet\" />\n      <div className=\"code-container\" id={fontID}>\n        {cl}\n        {pseudoCodePad}\n      </div>\n      {algorithm.lineExplanation ? (\n        <LineExplanation\n          explanation={algorithm.lineExplanation}\n          fontSize={fontSize}\n          fontSizeIncrement={fontSizeIncrement}\n        />\n      ) : ''}\n    </div>\n  );\n};\n\nexport default LineNumHighLight;\nLineNumHighLight.propTypes = {\n  fontSize: PropTypes.number.isRequired,\n  fontSizeIncrement: PropTypes.number.isRequired,\n};\n","import React from 'react';\n\nimport '../../styles/RightPanel.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonPanel({ onClick, name }) {\n  return (\n    <button className=\"bottomBtn\" type=\"button\" onClick={onClick}>\n      {name}\n    </button>\n\n  );\n}\n\nexport default ButtonPanel;\nButtonPanel.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n};\n","/* eslint-disable no-prototype-builtins */\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { GlobalContext } from '../../context/GlobalState';\nimport { GlobalActions } from '../../context/actions';\nimport LineNumHighLight from './LineNumHighLight';\nimport BottomButton from './BottomButton';\nimport LineExplanation from './LineExplanation';\n\nfunction Pseudocode({ fontSize, fontSizeIncrement }) {\n  const { algorithm, dispatch } = useContext(GlobalContext);\n  const show = !!algorithm.hasOwnProperty('pseudocode');\n  var explanation = \"\";\n\n  const onExpand = () => {\n    Object.keys(algorithm.pseudocode).forEach((key) => {\n      dispatch(GlobalActions.COLLAPSE, { codeblockname: key, expandOrCollapase: true });\n    });\n  };\n\n  const onCollapse = () => {\n    Object.keys(algorithm.pseudocode).forEach((key) => {\n      if (key !== 'Main') {\n        dispatch(GlobalActions.COLLAPSE, { codeblockname: key, expandOrCollapase: false });\n      }\n    });\n  };\n\n  return (\n    show ? (\n      <>\n        <LineNumHighLight fontSize={fontSize} fontSizeIncrement={fontSizeIncrement} />\n        <div className=\"btnPanel\">\n          <BottomButton onClick={onExpand} name=\"Expand All\" />\n          <BottomButton onClick={onCollapse} name=\"Collapse All\" />\n        </div>\n        { explanation ? (\n        <LineExplanation explanation={explanation} fontSize={fontSize} fontSizeIncrement={fontSizeIncrement}/>\n        ) : ''}\n      </>\n    ) : null\n  );\n}\n\nexport default Pseudocode;\nPseudocode.propTypes = {\n  fontSize: PropTypes.number.isRequired,\n  fontSizeIncrement: PropTypes.number.isRequired,\n};\n","import React, { useContext, useEffect, useState } from 'react';\nimport ReactMarkDown from 'react-markdown/with-html';\nimport toc from 'remark-toc';\nimport PropTypes from 'prop-types';\n\nimport CodeBlock from '../../markdown/code-block';\nimport { GlobalContext } from '../../context/GlobalState';\n\nimport { increaseFontSize, setFontSize } from '../top/helper';\n\n\nfunction MoreInfo({ fontSize, fontSizeIncrement }) {\n  const { algorithm } = useContext(GlobalContext);\n  const [explanation, setExplanation] = useState('');\n  const fontID = 'textAreaExtra';\n\n\n  useEffect(() => {\n    fetch(algorithm.extraInfo).then((res) => res.text()).then((text) => setExplanation(text));\n    setFontSize(fontID, fontSize);\n    increaseFontSize(fontID, fontSizeIncrement);\n  }, [algorithm.extraInfo, fontSize, fontSizeIncrement]);\n\n  return (\n    <div className=\"textArea\" id={fontID}>\n      <ReactMarkDown\n        source={explanation}\n        escapeHtml={false}\n        renderers={{ code: CodeBlock }}\n        plugins={[toc]}\n      />\n    </div>\n  );\n}\n\nexport default MoreInfo;\nMoreInfo.propTypes = {\n  fontSize: PropTypes.number.isRequired,\n  fontSizeIncrement: PropTypes.number.isRequired,\n};\n","import React, { useContext, useEffect, useState } from 'react';\nimport ReactMarkDown from 'react-markdown/with-html';\nimport toc from 'remark-toc';\n\nimport PropTypes from 'prop-types';\nimport CodeBlock from '../../markdown/code-block';\nimport { GlobalContext } from '../../context/GlobalState';\n\nimport { increaseFontSize, setFontSize } from '../top/helper';\n\n\nfunction Instruction({ fontSize, fontSizeIncrement }) {\n  const { algorithm } = useContext(GlobalContext);\n  const [explanation, setExplanation] = useState('');\n  const fontID = 'textAreaExplanation';\n\n\n  useEffect(() => {\n    var text = '# Instructions \\n\\n\\n';\n    for(var i=0;i<algorithm.instructions.length;i++){\n      text = text+\"## \"+algorithm.instructions[i].title+\"\\n\\n\\n\";\n      for(var j=0;j<algorithm.instructions[i].content.length;j++){\n        text = text +(j+1)+\".\\t\"+algorithm.instructions[i].content[j]+\"\\n\\n\";\n      }\n    }\n    \n    setExplanation(text);\n    setFontSize(fontID, fontSize);\n    increaseFontSize(fontID, fontSizeIncrement);\n  }, [algorithm.instructions,fontSizeIncrement, fontSize]);\n\n\n  return (\n    <div className=\"textArea\" id={fontID}>\n      <ReactMarkDown\n        source={explanation}\n        escapeHtml={false}\n        renderers={{ code: CodeBlock }}\n        plugins={[toc]}\n      />\n    </div>\n  );\n}\n\nexport default Instruction;\nInstruction.propTypes = {\n  fontSize: PropTypes.number.isRequired,\n  fontSizeIncrement: PropTypes.number.isRequired,\n};\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport '../../styles/RightPanel.scss'\nimport HeaderButton from './HeaderButton'\nimport Explanation from './Explanation'\nimport Pseudocode from './Pseudocode'\nimport ExtraInfo from './ExtraInfo'\nimport Instruction from './Instructions'\n\nfunction RightPanel({ fontSize, fontSizeIncrement }) {\n  const buttons = [\n    {\n      id: 0,\n      label: 'Code',\n      display: (\n        <Pseudocode fontSize={fontSize} fontSizeIncrement={fontSizeIncrement} />\n      ),\n    },\n    {\n      id: 1,\n      label: 'Background',\n      display: (\n        <Explanation\n          fontSize={fontSize}\n          fontSizeIncrement={fontSizeIncrement}\n        />\n      ),\n    },\n    {\n      id: 2,\n      label: 'More',\n      display: (\n        <ExtraInfo fontSize={fontSize} fontSizeIncrement={fontSizeIncrement} />\n      ),\n    },\n    {\n      id: 3,\n      label: 'Instructions',\n      display: (\n        <Instruction\n          fontSize={fontSize}\n          fontSizeIncrement={fontSizeIncrement}\n        />\n      ),\n    },\n  ]\n\n  const [state, setState] = React.useState(0)\n\n  const getBtnState = (val) => {\n    setState(val)\n  }\n  return (\n    <>\n      <HeaderButton value={buttons} onChange={getBtnState} />\n      {buttons[state].display}\n    </>\n  )\n}\n\nexport default RightPanel\nRightPanel.propTypes = {\n  fontSize: PropTypes.number.isRequired,\n  fontSizeIncrement: PropTypes.number.isRequired,\n}\n","/* eslint-disable no-shadow */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable max-len */\nimport React, {\n  useContext, useState, useEffect, useRef,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { GlobalContext } from '../../context/GlobalState';\nimport { GlobalActions } from '../../context/actions';\nimport '../../styles/LeftPanel.scss';\nimport { AlgorithmCategoryList, AlgorithmList } from '../../algorithms';\nimport { setFontSize } from '../top/helper';\nimport openInstructions from '../mid-panel/helper';\n\nconst LIST_COLLAPSE = true;\n\nfunction LeftPanel({ fontSize, fontSizeIncrement }) {\n  const { dispatch, algorithm } = useContext(GlobalContext);\n  const [displaySearch, setDisplaySearch] = useState(null);\n\n  // Search Function Component\n  const searchAlgorithm = (e) => {\n    const inputContent = e.target.value.trim().toLowerCase();\n    let algorithmListChosen = null;\n    if (inputContent.length > 0) {\n      algorithmListChosen = AlgorithmList.filter((i) => i.name.toLowerCase().match(inputContent));\n    }\n    setDisplaySearch(algorithmListChosen);\n  };\n\n  // if the search input field is empty, Display the main list.\n  // if the search input field has the value, Display the search list.\n\n  const onCollapse = (event) => {\n    const content = event.target.nextElementSibling;\n    if (content.style.maxHeight) {\n      content.style.maxHeight = null;\n    } else {\n      content.style.maxHeight = `${content.scrollHeight}px`;\n    }\n  };\n\n  const initCollapseStat = () => {\n    AlgorithmCategoryList.forEach((stat, index) => {\n      const obj = document.getElementById(`category-${index}`);\n      if (LIST_COLLAPSE) {\n        obj.click();\n      }\n    });\n  };\n\n  const mounted = useRef();\n  useEffect(() => {\n    if (!mounted.current) {\n    // do componentDidMount logic\n      initCollapseStat();\n      mounted.current = true;\n    } else {\n    // do componentDidUpdate logic\n\n    }\n  });\n\n  const itemFontID = 'itemList';\n  const catFontID = 'catList';\n  useEffect(() => {\n    setFontSize(catFontID, fontSize);\n    setFontSize(itemFontID, fontSize);\n    // increaseFontSize(catFontID, fontSizeIncrement);\n    // increaseFontSize(itemFontID, fontSizeIncrement);\n  }, [fontSize, fontSizeIncrement]);\n\n  const mouseEvs = ['mousedown', 'click', 'mouseup'];\n  let startButtonClick = null;\n  useEffect(() => {\n    // eslint-disable-next-line no-use-before-define\n    startButtonClick();\n  }, [startButtonClick]);\n  startButtonClick = () => {\n    const startButton = document.getElementById('startBtnGrp');\n    if (startButton !== null) {\n      mouseEvs.forEach(\n        (mouseEventType) => startButton.dispatchEvent(\n          new MouseEvent(mouseEventType,\n            {\n              view: window, bubbles: true, cancelable: true, buttons: 1,\n            }),\n        ),\n      );\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <span>\n        <input\n          className=\"searchInput\"\n          placeholder=\"Search...\"\n          data-testid=\"searchInput\"\n          onChange={searchAlgorithm}\n        />\n      </span>\n\n      <div\n        className=\"algorithmList\"\n        id={catFontID}\n      >\n        {\n          (displaySearch === null)\n            ? AlgorithmCategoryList.map((cat, index) => (\n              <div key={cat.id}>\n                <button\n                  key={cat.id}\n                  id={`category-${index}`}\n                  className=\"algoCat\"\n                  type=\"button\"\n                  onClick={(event) => { onCollapse(event); }}\n                >\n                  {cat.category}\n                </button>\n                <div\n                  className=\"algoItemContainer content\"\n                  id={itemFontID}\n                  // key={cat.id}\n                >\n                  {\n                    cat.algorithms.map((algo, index) => (\n                      <button\n                        key={index}\n                        className={algorithm.name === algo.name ? 'algoItem active' : 'algoItem'}\n                        type=\"button\"\n                        id={`algo-${algo.name}`}\n                        onClick={algorithm.name === algo.name ? () => {\n                          document.getElementById('startBtnGrp');\n                        }\n                          : () => {\n                            openInstructions();\n                            dispatch(GlobalActions.LOAD_ALGORITHM, { name: algo.shorthand, mode: algo.mode });\n                          }}\n                      >\n                        <div key={algo.id} className=\"algoItemContent\">{algo.name}</div>\n                      </button>\n                    ))\n                  }\n                </div>\n              </div>\n            ))\n            : displaySearch.map((algo) => (\n              <button\n                key={algo.id}\n                type=\"button\"\n                className={algorithm.name === algo.name ? 'algoItem active' : 'algoItem'}\n                onClick={() => {\n                  dispatch(GlobalActions.LOAD_ALGORITHM, { name: algo.shorthand, mode: algo.mode });\n                }}\n              >\n                <div className=\"algoItemContent\">{algo.name}</div>\n              </button>\n            ))\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default LeftPanel;\nLeftPanel.propTypes = {\n  fontSize: PropTypes.number.isRequired,\n  fontSizeIncrement: PropTypes.number.isRequired,\n};\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n// eslint-disable-next-line import/order\nimport { GlobalContext } from '../../context/GlobalState';\nimport '../../styles/MidPanel.scss';\n/* eslint-disable-next-line import/no-named-as-default */\nimport Popup from 'reactjs-popup';\nimport ReactMarkDown from 'react-markdown/with-html';\nimport toc from 'remark-toc';\nimport HelpIcon from '@mui/icons-material/Help';\nimport CodeBlock from '../../markdown/code-block';\nimport { increaseFontSize, setFontSize } from '../top/helper';\nimport ControlButton from '../common/ControlButton';\n\nfunction MidPanel({ fontSize, fontSizeIncrement }) {\n  const { algorithm } = useContext(GlobalContext);\n  const fontID = 'algorithmTitle';\n  const [open, setOpen] = useState(false);\n  const closeModal = () => setOpen(false);\n  const [explanation, setExplanation] = useState('');\n\n  useEffect(() => {\n    setFontSize(fontID, fontSize);\n    increaseFontSize(fontID, fontSizeIncrement);\n  }, [fontSize, fontSizeIncrement]);\n\n  useEffect(() => {\n    let text = '# Instructions \\n\\n\\n';\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < algorithm.instructions.length; i++) {\n      text = `${text}## ${algorithm.instructions[i].title}\\n\\n\\n`;\n      // eslint-disable-next-line no-plusplus\n      for (let j = 0; j < algorithm.instructions[i].content.length; j++) {\n        text = `${text + (j + 1)}.\\t${algorithm.instructions[i].content[j]}\\n\\n`;\n      }\n    }\n\n    setExplanation(text);\n  }, [algorithm.instructions]);\n\n  return (\n    <div className=\"midPanelContainer\">\n      <div className=\"midPanelHeader\">\n        <div>\n          <ControlButton icon={<HelpIcon />} onClick={() => setOpen((o) => !o)} />\n          <Popup open={open} closeOnDocumentClick onClose={closeModal}>\n            <div className=\"textArea\">\n              {/* eslint-disable-next-line jsx-a11y/anchor-is-valid, jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */}\n              <a className=\"close\" onClick={closeModal}>\n                &times;\n              </a>\n              {/* eslint-disable-next-line max-len */}\n              <ReactMarkDown source={explanation} escapeHtml={false} renderers={{ code: CodeBlock }} plugins={[toc]} />\n            </div>\n          </Popup>\n        </div>\n\n        <div className=\"algorithmTitle\" id={fontID}>{algorithm.name}</div>\n\n      </div>\n      <div className=\"midPanelBody\">\n        {algorithm.chunker\n          && algorithm.chunker.getVisualisers().map((o) => o.render())}\n      </div>\n    </div>\n  );\n}\n\nexport default MidPanel;\nMidPanel.propTypes = {\n  fontSize: PropTypes.number.isRequired,\n  fontSizeIncrement: PropTypes.number.isRequired,\n};\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport '../../styles/ProgressBar.scss';\n\nfunction ProgressBar({ current, max }) {\n  const node = {\n    rectPrimary: document.querySelector('.mux-lpi-rect--primary'),\n    buffer: document.querySelector('.mux-lpi-buffer'),\n  };\n\n  function setTransform(ref, value) {\n    if (ref !== null) {\n      const { style } = ref;\n      style.transform = value;\n      style.WebkitTransform = value;\n      style.MozTransform = value;\n      style.OTransform = value;\n      style.MSTransform = value;\n    }\n  }\n\n  useEffect(() => {\n    function setProgress(ref, val) {\n      setTransform(ref, `scaleX(${val})`);\n    }\n\n    function setBuffer(ref, val) {\n      setTransform(ref, `scaleX(${val})`);\n    }\n\n    setProgress(node.rectPrimary, parseFloat(current / max, 10));\n    setBuffer(node.buffer, 1);\n  }, [node, current, max]);\n\n\n  return (\n      <div role=\"progressbar\" className=\"mux-lpi\">\n        <div className=\"progressLable\" id=\"progressLabel\">\n          <div className=\"innerText\">\n            {\n              // if the user enters a valid input and clicks on LOAD\n              // the progress bar displays the percentage of progress\n              // convert the lines of code to percentge by multiplying the division by 100\n              `Progress: ${Math.round((current / max) * 100, 2)} %`\n              // if the user does not enter a valid input, initialise the progress bar as not loaded\n            }\n          </div>\n        </div>\n        <div className=\"mux-lpi-buffer\" />\n        <div className=\"mux-lpi-rect mux-lpi-rect--primary\">\n          <span className=\"mux-lpi-rect-inner\" />\n        </div>\n      </div>\n  );\n}\n\nexport default ProgressBar;\nProgressBar.propTypes = {\n  current: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired,\n};\n","/* eslint-disable consistent-return */\nimport { useEffect, useRef } from 'react';\n\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // after every render, save the latest callback into ref\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // when delay changes, start a new timer\n  useEffect(() => {\n    function f() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setInterval(f, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\nexport default useInterval;\n","var _path, _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgPlay(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 320.001 320.001\",\n    style: {\n      enableBackground: \"new 0 0 320.001 320.001\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M295.84,146.049l-256-144c-4.96-2.784-11.008-2.72-15.904,0.128C19.008,5.057,16,10.305,16,16.001v288 c0,5.696,3.008,10.944,7.936,13.824c2.496,1.44,5.28,2.176,8.064,2.176c2.688,0,5.408-0.672,7.84-2.048l256-144 c5.024-2.848,8.16-8.16,8.16-13.952S300.864,148.897,295.84,146.049z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlay);\nexport default __webpack_public_path__ + \"static/media/play.1b4fe477.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16, _g17;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgPause(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 477.867 477.867\",\n    style: {\n      enableBackground: \"new 0 0 477.867 477.867\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M187.733,0H51.2c-9.426,0-17.067,7.641-17.067,17.067V460.8c0,9.426,7.641,17.067,17.067,17.067h136.533 c9.426,0,17.067-7.641,17.067-17.067V17.067C204.8,7.641,197.159,0,187.733,0z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M426.667,0H290.133c-9.426,0-17.067,7.641-17.067,17.067V460.8c0,9.426,7.641,17.067,17.067,17.067h136.533 c9.426,0,17.067-7.641,17.067-17.067V17.067C443.733,7.641,436.092,0,426.667,0z\"\n  })))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)), _g17 || (_g17 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgPause);\nexport default __webpack_public_path__ + \"static/media/pause.17441c19.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgArrow(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512.171 512.171\",\n    style: {\n      enableBackground: \"new 0 0 512.171 512.171\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M479.046,283.925c-1.664-3.989-5.547-6.592-9.856-6.592H352.305V10.667C352.305,4.779,347.526,0,341.638,0H170.971 c-5.888,0-10.667,4.779-10.667,10.667v266.667H42.971c-4.309,0-8.192,2.603-9.856,6.571c-1.643,3.989-0.747,8.576,2.304,11.627 l212.8,213.504c2.005,2.005,4.715,3.136,7.552,3.136s5.547-1.131,7.552-3.115l213.419-213.504 C479.793,292.501,480.71,287.915,479.046,283.925z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrow);\nexport default __webpack_public_path__ + \"static/media/arrow.b7990345.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable no-prototype-builtins */\n/* eslint-disable import/no-named-as-default */\nimport React, { useContext, useState, useEffect } from 'react';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport Slider from '@mui/material/Slider';\nimport Grid from '@mui/material/Grid';\nimport Popup from 'reactjs-popup';\nimport ReactMarkDown from 'react-markdown/with-html';\nimport toc from 'remark-toc';\nimport ControlButton from '../common/ControlButton';\nimport ProgressBar from './ProgressBar';\nimport useInterval from '../../context/useInterval';\nimport { ReactComponent as PlayIcon } from '../../assets/icons/play.svg';\nimport { ReactComponent as PauseIcon } from '../../assets/icons/pause.svg';\nimport { ReactComponent as PrevIcon, ReactComponent as NextIcon } from '../../assets/icons/arrow.svg';\nimport { GlobalContext } from '../../context/GlobalState';\nimport { GlobalActions } from '../../context/actions';\nimport '../../styles/ControlPanel.scss';\nimport 'reactjs-popup/dist/index.css';\nimport CodeBlock from '../../markdown/code-block';\n\nconst muiTheme = createTheme({\n  overrides: {\n    MuiSlider: {\n      thumb: {\n        color: '#027AFF',\n      },\n      track: {\n        color: '#3392FF',\n      },\n      rail: {\n        color: '#B5B5B5',\n      },\n      mark: {\n        color: '#F7F7F7',\n      },\n      markActive: {\n        color: '#F7F7F7',\n      },\n    },\n  },\n});\n\nconst DEFAULT_SPEED = 50;\n\nfunction ControlPanel() {\n  // eslint-disable-next-line\n  const { algorithm, dispatch } = useContext(GlobalContext);\n  const { chunker } = algorithm;\n  const currentChunk = chunker ? chunker.currentChunk : -1;\n  const chunkerLength = chunker ? chunker.chunks.length : -1;\n\n  const [speed, setSpeed] = useState(DEFAULT_SPEED);\n  const [playing, setPlaying] = useState(false);\n  const [explanation, setExplanation] = useState('');\n\n  const [open, setOpen] = useState(false);\n  const closeModal = () => setOpen(false);\n\n  const prev = (isPlaying = false) => {\n    dispatch(GlobalActions.PREV_LINE, isPlaying);\n  };\n\n  const next = (isPlaying = false) => {\n    dispatch(GlobalActions.NEXT_LINE, isPlaying);\n  };\n\n  const pause = () => {\n    dispatch(GlobalActions.TOGGLE_PLAY, false);\n    setPlaying(false);\n  };\n\n  // needs to check if there any chunks left first\n  const play = () => {\n    const canPlay = chunker && chunker.isValidChunk(currentChunk + 1);\n    if (canPlay) {\n      // dispatch(GlobalActions.TOGGLE_PLAY, true);\n      // I could have used this to update the global state that the animation is playing,\n      // however this means we will call two dispatches (TOGGLE_PLAY and NEXT_LINE) in a\n      // very short interval, but setState() updates asynchronously, so state does not change\n      // as expected.\n      next(true);\n      setPlaying(true);\n    } else {\n      pause();\n    }\n  };\n\n  const handleClickPlay = () => {\n    play();\n    if (algorithm.name === 'Quicksort') {\n      // setQuicksortPlay(true)\n      sessionStorage.setItem('quicksortPlay', true);\n    }\n  };\n\n  useEffect(() => {\n    let text = '# Instructions \\n\\n\\n';\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < algorithm.instructions.length; i++) {\n      text = `${text}## ${algorithm.instructions[i].title}\\n\\n\\n`;\n      // eslint-disable-next-line no-plusplus\n      for (let j = 0; j < algorithm.instructions[i].content.length; j++) {\n        text = `${text + (j + 1)}.\\t${algorithm.instructions[i].content[j]}\\n\\n`;\n      }\n    }\n\n    setExplanation(text);\n  }, [algorithm.explanation, algorithm.instructions]);\n\n  /**\n   * when click play button, calling play() based on the slider speed.\n   * Using useInterval, play() now can read fresh states, otherwise play() will\n   * stuck in the closure when this component first mount.\n   * (e.g. currentChunk will always be 1)\n   * @param {function} callback function that will be called in each interval\n   * @param {number} delay millisecond delay between next call\n   */\n  useInterval(() => {\n    play();\n  }, playing ? 2000 - (19 * speed) : null);\n  const handleSliderChange = (event, newSpeed) => {\n    setSpeed(newSpeed);\n  };\n\n  return (\n    <div className=\"controlContainer\">\n      <div className=\"controlPanel\">\n        <div className=\"rightControl\">\n          <div className=\"controlButtons\">\n            {/* Prev Button */}\n            <ControlButton\n              icon={<PrevIcon />}\n              type=\"prev\"\n              disabled={!(chunker && chunker.isValidChunk(currentChunk - 1))}\n              onClick={() => prev()}\n            />\n            {/* Play/Pause Button */}\n            {playing ? (\n              <ControlButton icon={<PauseIcon />} type=\"pause\" onClick={() => pause()} />\n            ) : (\n              <ControlButton\n                icon={<PlayIcon />}\n                type=\"play\"\n                disabled={!(chunker && chunker.isValidChunk(currentChunk + 1))}\n                onClick={handleClickPlay}\n              />\n            )}\n            {/* Next Button */}\n            <ControlButton\n              icon={<NextIcon />}\n              type=\"next\"\n              disabled={!(chunker && chunker.isValidChunk(currentChunk + 1))}\n              onClick={() => next()}\n            />\n          </div>\n        </div>\n        {/* Speed Slider */}\n        <div className=\"speed\">\n          <div className=\"innerSpeed\">\n            {/* Label the speed slider as SPEED */}\n            SPEED\n          </div>\n        </div>\n        <div className=\"sliderContainer\">\n          <div className=\"slider\">\n            <ThemeProvider theme={muiTheme}>\n              <Grid container spacing={2}>\n                <Grid item xs>\n                  <Slider\n                    value={speed}\n                    onChange={handleSliderChange}\n                    aria-labelledby=\"continuous-slider\"\n                  />\n                </Grid>\n              </Grid>\n            </ThemeProvider>\n          </div>\n        </div>\n        <div className=\"prcessbar\">\n          {/* Progress Status Bar */}\n          <ProgressBar\n            current={currentChunk}\n            max={chunkerLength}\n          />\n        </div>\n\n      </div>\n      <div className=\"parameterPanel\">\n        {algorithm.param}\n      </div>\n\n      <div className=\"InstructionPanel\">\n\n        <Popup open={open} closeOnDocumentClick onClose={closeModal}>\n          <div className=\"modal\">\n            {/* eslint-disable-next-line jsx-a11y/anchor-is-valid, jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */}\n            <a className=\"close\" onClick={closeModal}>\n              &times;\n            </a>\n            {/* eslint-disable-next-line max-len */}\n            <ReactMarkDown source={explanation} escapeHtml={false} renderers={{ code: CodeBlock }} plugins={[toc]} />\n          </div>\n        </Popup>\n      </div>\n    </div>\n  );\n  // eslint-disable-next-line no-unreachable\n  return (\n    <div className=\"controlContainer\">\n      <div className=\"controlPanel\">\n        {/* Speed Slider */}\n        <div className=\"speed\">\n          <div className=\"innerSpeed\">\n            {/* Label the speed slider as SPEED */}\n            SPEED\n          </div>\n        </div>\n        <div className=\"sliderContainer\">\n          <div className=\"slider\">\n            <ThemeProvider theme={muiTheme}>\n              <Grid container spacing={2}>\n                <Grid item xs>\n                  <Slider\n                    value={speed}\n                    onChange={handleSliderChange}\n                    aria-labelledby=\"continuous-slider\"\n                  />\n                </Grid>\n              </Grid>\n            </ThemeProvider>\n          </div>\n        </div>\n        <div className=\"rightControl\">\n          {/* Progress Status Bar */}\n          <ProgressBar\n            current={currentChunk}\n            max={chunkerLength}\n          />\n          <div className=\"controlButtons\">\n            {/* Prev Button */}\n            <ControlButton\n              icon={<PrevIcon />}\n              type=\"prev\"\n              disabled={!(chunker && chunker.isValidChunk(currentChunk - 1))}\n              onClick={() => prev()}\n            />\n            {/* Play/Pause Button */}\n            {playing ? (\n              <ControlButton icon={<PauseIcon />} type=\"pause\" onClick={() => pause()} />\n            ) : (\n              <ControlButton\n                icon={<PlayIcon />}\n                type=\"play\"\n                disabled={!(chunker && chunker.isValidChunk(currentChunk + 1))}\n                onClick={handleClickPlay}\n              />\n            )}\n            {/* Next Button */}\n            <ControlButton\n              icon={<NextIcon />}\n              type=\"next\"\n              disabled={!(chunker && chunker.isValidChunk(currentChunk + 1))}\n              onClick={() => next()}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"parameterPanel\">\n        {algorithm.param}\n      </div>\n    </div>\n  );\n}\n\nexport default ControlPanel;\n","/* eslint-disable max-len */\nlet isLeftDragging = false;\nlet isRightDragging = false;\nlet isBottomDragging = false;\n\n// Resizing internal border\nconst ROW_INTERNAL = 0;\nconst COL_INTERNAL = 1;\n\n// Resizing external (window)\nconst ROW_EXTERNAL = 2;\nconst COL_EXTERNAL = 3;\n\n// Collapsing each internal border\nconst COLLAPSE_LEFT = 4;\nconst COLLAPSE_RIGHT = 5;\nconst COLLAPSE_BOTTOM = 6;\n\n// Expanding from collapsed internal border\nconst EXPAND_LEFT = 7;\nconst EXPAND_RIGHT = 8;\nconst EXPAND_BOTTOM = 9;\n\nexport const setCursor = (cursor) => {\n  const page = document.getElementById('page');\n  page.style.cursor = cursor;\n};\n\n// This section pertains to resizing internal borders with dragbars\nexport const startLeftDrag = () => {\n  isLeftDragging = true;\n  setCursor('col-resize');\n};\n\nexport const startRightDrag = () => {\n  isRightDragging = true;\n  setCursor('col-resize');\n};\n\nexport const startBottomDrag = () => {\n  isBottomDragging = true;\n  setCursor('row-resize');\n};\n\nexport const endDrag = () => {\n  isLeftDragging = false;\n  isRightDragging = false;\n  isBottomDragging = false;\n  setCursor('auto');\n};\n\nconst addUnitToList = (list, unit) => list.map((c) => `${c.toString()}${unit}`).join(' ');\nconst addUnitToNum = (num, unit) => `${num.toString()}${unit}`;\n\nconst EXPAND_COL_RIGHT_SIZE = 360;\nconst EXPAND_COL_LEFT_SIZE = 190;\nconst EXPAND_ROW_BOTTOM_SIZE = 190;\n\nconst getDefn = (page, list, status) => {\n  let tempList = addUnitToList(list, 'px');\n  const leftdraghandle = document.getElementById('leftdraghandle');\n  switch (status) {\n    case ROW_INTERNAL:\n      break;\n    case COL_INTERNAL:\n      break;\n    case ROW_EXTERNAL:\n      tempList = addUnitToList([\n        addUnitToNum(list[0], 'px'),\n        addUnitToNum([list[1] / (list[1] + list[3])], 'fr'),\n        addUnitToNum(list[2], 'px'),\n        addUnitToNum([list[3] / (list[1] + list[3])], 'fr'),\n      ], '');\n\n      break;\n    case COL_EXTERNAL:\n      tempList = addUnitToList([\n        addUnitToNum(list[0] / (list[0] + list[2] + list[4]), 'fr'),\n        addUnitToNum(list[1], 'px'),\n        addUnitToNum(list[2] / (list[0] + list[2] + list[4]), 'fr'),\n        addUnitToNum(list[3], 'px'),\n        addUnitToNum(list[4] / (list[0] + list[2] + list[4]), 'fr'),\n      ], '');\n      break;\n    case COLLAPSE_LEFT:\n      tempList = addUnitToList([\n        addUnitToNum(0, 'px'),\n        addUnitToNum(list[1], 'px'),\n        addUnitToNum(list[2] / (list[2] + list[4]), 'fr'),\n        addUnitToNum(list[3], 'px'),\n        addUnitToNum(list[4] / (list[2] + list[4]), 'fr'),\n      ], '');\n      leftdraghandle.style.transform = 'rotate(180deg)';\n      break;\n    case COLLAPSE_RIGHT:\n      tempList = addUnitToList([\n        addUnitToNum(list[0] / (list[0] + list[2]), 'fr'),\n        addUnitToNum(list[1], 'px'),\n        addUnitToNum(list[2] / (list[0] + list[2]), 'fr'),\n        addUnitToNum(list[3], 'px'),\n        addUnitToNum(0, 'px'),\n      ], '');\n      break;\n    case COLLAPSE_BOTTOM:\n      tempList = addUnitToList([\n        addUnitToNum(list[0], 'px'),\n        addUnitToNum(list[1] / list[1], 'fr'),\n        addUnitToNum(list[2], 'px'),\n        addUnitToNum(0, 'px'),\n      ], '');\n      break;\n    case EXPAND_LEFT:\n      tempList = addUnitToList([\n        addUnitToNum(EXPAND_COL_LEFT_SIZE, 'px'),\n        addUnitToNum(list[1], 'px'),\n        addUnitToNum(list[2] / (list[2] + list[4]), 'fr'),\n        addUnitToNum(list[3], 'px'),\n        addUnitToNum(list[4] / (list[2] + list[4]), 'fr'),\n      ], '');\n      leftdraghandle.style.transform = 'rotate(0deg)';\n      break;\n    case EXPAND_RIGHT:\n      tempList = addUnitToList([\n        addUnitToNum(list[0] / (list[0] + list[2]), 'fr'),\n        addUnitToNum(list[1], 'px'),\n        addUnitToNum(list[2] / (list[0] + list[2]), 'fr'),\n        addUnitToNum(list[3], 'px'),\n        addUnitToNum(EXPAND_COL_RIGHT_SIZE, 'px'),\n      ], '');\n      break;\n    case EXPAND_BOTTOM:\n      tempList = addUnitToList([\n        addUnitToNum(list[0], 'px'),\n        addUnitToNum(list[1] / list[1], 'fr'),\n        addUnitToNum(list[2], 'px'),\n        addUnitToNum(EXPAND_ROW_BOTTOM_SIZE, 'px'),\n      ], '');\n      break;\n    default:\n      break;\n  }\n\n  return tempList;\n};\n\n\nconst getColDefn = (page, event, status) => {\n  const leftcol = document.getElementById('leftcol');\n  const rightcol = document.getElementById('rightcol');\n  const leftDragbar = document.getElementById('leftdragbar');\n  const rightDragbar = document.getElementById('rightdragbar');\n\n  const leftColWidth = isLeftDragging ? event.clientX : leftcol.offsetWidth;\n  const rightColWidth = isRightDragging ? page.clientWidth - event.clientX : rightcol.offsetWidth;\n\n  const cols = [\n    leftColWidth,\n    leftDragbar.offsetWidth,\n    page.clientWidth - (leftDragbar.offsetWidth + rightDragbar.offsetWidth) - leftColWidth - rightColWidth,\n    rightDragbar.offsetWidth,\n    rightColWidth,\n  ];\n\n  return getDefn(page, cols, status);\n};\n\nconst getRowDefn = (page, event, status) => {\n  const footer = document.getElementById('footer');\n  const header = document.getElementById('header');\n  const bottomDragbar = document.getElementById('bottomdragbar');\n  const bottomRowHeight = isBottomDragging ? page.clientHeight - event.clientY : footer.offsetHeight;\n\n  const rows = [\n    header.offsetHeight,\n    page.clientHeight - bottomDragbar.offsetHeight - bottomRowHeight - header.offsetHeight,\n    bottomDragbar.offsetHeight,\n    bottomRowHeight,\n  ];\n\n  return getDefn(page, rows, status);\n};\n\nexport const onDrag = (event) => {\n  const page = document.getElementById('page');\n  if (isLeftDragging || isRightDragging) {\n    const newColDefn = getColDefn(page, event, COL_INTERNAL);\n    page.style.gridTemplateColumns = newColDefn;\n  } else if (isBottomDragging) {\n    const newRowDefn = getRowDefn(page, event, ROW_INTERNAL);\n    page.style.gridTemplateRows = newRowDefn;\n  }\n\n  event.preventDefault();\n};\n\nconst MIN_COL_THRESHOLD = 100;\nconst MIN_ROW_THRESHOLD = 125;\n// This section pertains to collapsing the dragbars\nexport const collapseLeftDrag = () => {\n  const page = document.getElementById('page');\n  const leftcol = document.getElementById('leftcol');\n  let col;\n\n  if (leftcol.clientWidth < MIN_COL_THRESHOLD) {\n    col = getColDefn(page, null, EXPAND_LEFT);\n  } else {\n    col = getColDefn(page, null, COLLAPSE_LEFT);\n  }\n  page.style.gridTemplateColumns = col;\n};\n\nexport const collapseRightDrag = () => {\n  const page = document.getElementById('page');\n  const rightcol = document.getElementById('rightcol');\n\n  let col;\n\n  if (rightcol.clientWidth < MIN_COL_THRESHOLD) {\n    col = getColDefn(page, null, EXPAND_RIGHT);\n  } else {\n    col = getColDefn(page, null, COLLAPSE_RIGHT);\n  }\n\n  page.style.gridTemplateColumns = col;\n};\n\nexport const collapseBottomDrag = () => {\n  const page = document.getElementById('page');\n  const footer = document.getElementById('footer');\n\n  let row;\n\n  if (footer.clientHeight < MIN_ROW_THRESHOLD) {\n    row = getRowDefn(page, null, EXPAND_BOTTOM);\n  } else {\n    row = getRowDefn(page, null, COLLAPSE_BOTTOM);\n  }\n\n  page.style.gridTemplateRows = row;\n};\n\n// This section pertains to resizing the window\nexport const resizeWindow = (event) => {\n  const page = document.getElementById('page');\n  if (page !== null) {\n    const col = getColDefn(page, event, COL_EXTERNAL);\n    const row = getRowDefn(page, event, ROW_EXTERNAL);\n    page.style.gridTemplateColumns = col;\n    page.style.gridTemplateRows = row;\n  }\n};\n\n\nexport const addEvent = (obj, evt, fn) => {\n  if (obj.addEventListener) {\n    obj.addEventListener(evt, fn, false);\n  } else if (obj.attachEvent) {\n    obj.attachEvent(`on${evt}`, fn);\n  }\n};\n","/* eslint-disable max-len */\nimport React, { useEffect, useState } from 'react';\nimport './styles/App.scss';\nimport Header from './components/top/Header';\nimport { ReactComponent as Circle } from './assets/icons/circle.svg';\nimport { ReactComponent as Direction } from './assets/icons/direction.svg';\nimport { GlobalProvider } from './context/GlobalState';\nimport RightPanel from './components/right-panel';\nimport LeftPanel from './components/left-panel';\nimport MidPanel from './components/mid-panel';\nimport ControlPanel from './components/mid-panel/ControlPanel';\nimport Settings from './components/top/Settings';\nimport {\n  resizeWindow, startRightDrag, startBottomDrag, endDrag, onDrag, collapseLeftDrag, collapseBottomDrag, collapseRightDrag, addEvent,\n} from './BorderResize';\nimport {\n  setTheme,\n  setAlgoTheme,\n  getSystemColorMode,\n  getWithExpiry,\n  ALGO_THEME_KEY,\n  ALGO_THEME_1,\n  SYSTEM_THEME_KEY,\n} from './components/top/helper';\n\n\nconst DEFAULT_FONT_INCREMENT = 0;\nconst LEFT_FONT_SIZE = 13;\nconst MID_FONT_SIZE = 15;\nconst RIGHT_FONT_SIZE = 15;\n\nfunction App() {\n  useEffect(() => {\n    window.addEventListener('resize', (event) => {\n      resizeWindow(event);\n    });\n    // eslint-disable-next-line no-unused-vars\n    return (_) => { window.removeEventListener('resize', resizeWindow); };\n  });\n\n  // add mouseout event listener to 'document' when App first mount\n  useEffect(() => {\n    const mouseOutCallback = (e) => {\n      // e = e || window.event;\n      const from = e.relatedTarget || e.toElement;\n      if (!from || from.nodeName === 'HTML') {\n        // End dragging when mouse out of html\n        endDrag();\n      }\n    };\n\n    addEvent(document, 'mouseout', mouseOutCallback);\n\n    // do not forget to remove event listener when the App component unmount\n    return () => {\n      document.removeEventListener('mouseout', mouseOutCallback);\n    };\n  }, []);\n\n  const [isSettingVisible, setSettingVisible] = useState(false);\n\n  const onSetting = () => {\n    setSettingVisible(!isSettingVisible);\n  };\n\n  const [fontSizeIncrease, setFontSizeIncrease] = useState(DEFAULT_FONT_INCREMENT);\n  const onFontIncrease = (val) => {\n    setFontSizeIncrease(fontSizeIncrease + val);\n  };\n\n\n  const initAlgoColor = () => {\n    const algoTheme = getWithExpiry(ALGO_THEME_KEY);\n    if (algoTheme === null) {\n      setAlgoTheme(ALGO_THEME_1);\n      return ALGO_THEME_1;\n    }\n    return algoTheme;\n  };\n\n  const [colorMode, setColorMode] = useState(initAlgoColor());\n  const handleColorModeChange = (id) => {\n    setColorMode(id);\n    setAlgoTheme(id);\n  };\n\n\n  const initSystemColor = () => {\n    const theme = getWithExpiry(SYSTEM_THEME_KEY);\n    if (theme === null) {\n      setTheme(getSystemColorMode());\n      return getSystemColorMode();\n    }\n\n    return theme;\n  };\n\n  const [systemColor, setSystemColor] = useState(initSystemColor());\n  const handleSystemColorChange = (id) => {\n    setSystemColor(id);\n    setTheme(id);\n  };\n\n  useEffect(() => {\n    setTheme(getWithExpiry(SYSTEM_THEME_KEY));\n    setAlgoTheme(getWithExpiry(ALGO_THEME_KEY));\n  });\n\n  return (\n\n    <GlobalProvider>\n      { isSettingVisible ? (\n        <Settings\n          onFontIncrease={onFontIncrease}\n          onSetting={onSetting}\n          colorMode={colorMode}\n          handleColorModeChange={handleColorModeChange}\n          systemColor={systemColor}\n          handleSystemColorChange={handleSystemColorChange}\n        />\n      ) : ''}\n\n      <div\n        id=\"page\"\n        onMouseUp={endDrag}\n        role=\"button\"\n        tabIndex=\"-1\"\n        onMouseMove={(event) => onDrag(event)}\n      >\n        <div id=\"header\">\n          <Header onSetting={onSetting} />\n        </div>\n        <div id=\"leftcol\">\n          <LeftPanel\n            fontSize={LEFT_FONT_SIZE}\n            fontSizeIncrement={fontSizeIncrease}\n          />\n        </div>\n        {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events */}\n        <div\n          id=\"leftdragbar\"\n          tabIndex=\"-1\"\n          aria-label=\"Move left drag bar\"\n          onClick={collapseLeftDrag}\n          role=\"button\"\n          className=\"dragbar\"\n        >\n          <div id=\"draghandle\" className=\"handle\">\n            <Direction id=\"leftdraghandle\"/>\n          </div>\n        </div>\n        <div id=\"tabpages\">\n          <MidPanel\n            fontSize={MID_FONT_SIZE}\n            fontSizeIncrement={fontSizeIncrease}\n          />\n        </div>\n        <div\n          id=\"rightdragbar\"\n          tabIndex=\"-1\"\n          aria-label=\"Move right drag bar\"\n          onDoubleClick={collapseRightDrag}\n          onMouseDown={startRightDrag}\n          role=\"button\"\n          className=\"dragbar\"\n        >\n          <div id=\"draghandle\" className=\"handle\">\n            <Circle />\n            <Circle />\n            <Circle />\n          </div>\n        </div>\n        <div id=\"rightcol\">\n          <RightPanel\n            fontSize={RIGHT_FONT_SIZE}\n            fontSizeIncrement={fontSizeIncrease}\n          />\n        </div>\n        <div\n          id=\"bottomdragbar\"\n          tabIndex=\"-1\"\n          aria-label=\"Move bottom drag bar\"\n          onDoubleClick={collapseBottomDrag}\n          onMouseDown={startBottomDrag}\n          role=\"button\"\n          className=\"dragbar\"\n        >\n          <div id=\"draghandle\" className=\"handle bottomHandle\">\n            <Circle />\n            <Circle />\n            <Circle />\n          </div>\n        </div>\n        <div id=\"footer\">\n          <ControlPanel />\n        </div>\n      </div>\n    </GlobalProvider>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport '../../styles/About.scss';\nimport logo from '../../assets/logo.svg';\n\n\nfunction Header() {\n  return (\n    <>\n      <div className=\"abHeader\">\n        <div className=\"logo\">\n          <img src={logo} alt=\"logo\" />\n          <h1>Algorithms in Action</h1>\n        </div>\n\n        <div className=\"title\">\n          An All New Algorithm Visualiser\n        </div>\n        <div className=\"subtitle\">\n          Designed by students, for students.\n        </div>\n        <Link className=\"start\" to=\"/\">Start Now</Link>\n      </div>\n\n    </>\n\n  );\n}\n\nexport default Header;\n","/* eslint-disable arrow-body-style */\n/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport Link from '@mui/material/Link';\nimport GitHubIcon from '@mui/icons-material/GitHub';\nimport LinkedInIcon from '@mui/icons-material/LinkedIn';\nimport '../../styles/About.scss';\n\n/**\n * Team member card that contains photo, name and social media\n */\nconst TeamMember = ({\n  name, photo, github, linkedIn, desc, title,\n}) => {\n  const [gitHover, setGitHover] = useState(false);\n  const [linkedInHover, setLinkedInHover] = useState(false);\n  return (\n    <div className=\"teamCard\" href={linkedIn}>\n      <img className=\"photo\" src={photo} alt={name} />\n      <div className=\"memberDescription\">\n        <div className=\"title\">{title}</div>\n        <a href={linkedIn} target=\"_blank\" rel=\"noopener noreferrer\">\n          <div className=\"name\">{name}</div>\n        </a>\n        <div className=\"desc\">{desc}</div>\n      </div>\n      <div className=\"icons\">\n        {github && (\n          <Link\n            href={github}\n            target=\"_blank\"\n            rel=\"noopener\"\n            color=\"inherit\"\n            onMouseEnter={() => setGitHover(true)}\n            onMouseLeave={() => setGitHover(false)}\n          >\n            <GitHubIcon fontSize=\"small\" color={gitHover ? 'primary' : 'inherit'} />\n          </Link>\n        )}\n        {linkedIn && (\n          <Link\n            href={linkedIn}\n            target=\"_blank\"\n            rel=\"noopener\"\n            color=\"inherit\"\n            onMouseEnter={() => setLinkedInHover(true)}\n            onMouseLeave={() => setLinkedInHover(false)}\n          >\n            <LinkedInIcon color={linkedInHover ? 'primary' : 'inherit'} />\n          </Link>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TeamMember;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport TeamMember from './TeamMember';\nimport '../../styles/About.scss';\n\nconst Team = ({ teammembers }) => (\n  <div className=\"projectContainer\">\n    <div className=\"heading\" variant=\"h4\" display=\"block\">\n      Team 2021s1\n    </div>\n    <div className=\"teamMembers\">\n\n      {teammembers.map((m) => (\n        <TeamMember\n          key={m.name}\n          name={m.name}\n          photo={m.photo}\n          github={m.github}\n          linkedIn={m.linkedIn}\n          desc={m.desc}\n          title={m.title}\n        />\n      ))}\n    </div>\n  </div>\n);\n\nexport default Team;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport TeamMember from './TeamMember';\nimport '../../styles/About.scss';\n\nconst Team2021s2 = ({ teammembers }) => (\n  <div className=\"projectContainer\">\n    <div className=\"heading\" variant=\"h4\" display=\"block\">\n      Team 2021s2\n    </div>\n    <div className=\"teamMembers\">\n\n      {teammembers.map((m) => (\n        <TeamMember\n          key={m.name}\n          name={m.name}\n          photo={m.photo}\n          github={m.github}\n          linkedIn={m.linkedIn}\n          desc={m.desc}\n          title={m.title}\n        />\n      ))}\n    </div>\n  </div>\n);\n\nexport default Team2021s2;\n","export default __webpack_public_path__ + \"static/media/lee_naish.3f9e643c.png\";","export default __webpack_public_path__ + \"static/media/boyu.06b0f954.JPG\";","export default __webpack_public_path__ + \"static/media/carina.b1d28001.jpg\";","export default __webpack_public_path__ + \"static/media/joao.9d1f22a6.jpg\";","export default __webpack_public_path__ + \"static/media/kenny.4508c9be.JPG\";","export default __webpack_public_path__ + \"static/media/tianyang.1eec752a.jpg\";","export default __webpack_public_path__ + \"static/media/linfan.298b2df1.jpeg\";","export default __webpack_public_path__ + \"static/media/yinsong.f39de5b2.jpg\";","export default __webpack_public_path__ + \"static/media/zihan.c88b2e2a.jpg\";","export default __webpack_public_path__ + \"static/media/nir.5be60648.png\";","export default __webpack_public_path__ + \"static/media/ziyi.a6c42d3a.jpg\";","export default __webpack_public_path__ + \"static/media/jiajun.5fddd48a.jpg\";","export default __webpack_public_path__ + \"static/media/hantong.63b24722.jpeg\";","/* eslint-disable no-trailing-spaces */\n/* eslint-disable no-multi-str */\n/**\n * This file is used to store the content/description shown\n * on the About page.\n */\n\n/**\n * How to use:\n * Each object represents a section on the About page.\n * 'heading' is the heading for the section,\n * 'paragraph' array stores paragraphs you want to show\n*/\n/**\n * How to use:\n * Each object contains the information of a team member\n * \n */\n\nimport Harald from '../assets/images/Prof_Sondergaard.jpg';\nimport Linda from '../assets/images/Dr_Stern.jpg';\nimport Lee from '../assets/images/lee_naish.png';\n\nimport Boyu from '../assets/images/boyu.JPG';\nimport Carina from '../assets/images/carina.jpg';\nimport Joao from '../assets/images/joao.jpg';\nimport Kenny from '../assets/images/kenny.JPG';\nimport Luke from '../assets/images/luke.jpeg';\nimport Tianyang from '../assets/images/tianyang.jpg';\nimport Linfan from '../assets/images/linfan.jpeg';\nimport Yinsong from '../assets/images/yinsong.jpg';\nimport Zihan from '../assets/images/zihan.jpg';\nimport Nir from '../assets/images/nir.png';\nimport Ziyi from '../assets/images/ziyi.jpg';\nimport Jiajun from '../assets/images/jiajun.jpg';\nimport Hantong from '../assets/images/hantong.jpeg';\n\n\nexport const content = {\n  projectDescription: {\n    heading: 'About the Project',\n    paragraph: [\n      'In the late 90s, Prof. Harald Sondergaard and Dr. Linda Stern built Algorithm in Action,\\\n      designed for students to visualise algorithms. However, that was almost 20 years ago and the\\\n      app fell out of use.',\n      'This project aims to redevelop and redesign the application with its pioneering pedagogy\\\n      (stepwise refinement) for the modern century.',\n      'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been\\\n      the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley\\\n      of type and scrambled it to make a type specimen book. It has survived not only five centuries,\\\n      but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised\\\n      in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently\\\n      with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.',\n    ],\n  },\n  licenseDescription: {\n    heading: 'Licensing',\n    paragraph: [\n      'We are using MIT Licensing...',\n      'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been\\\n      the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley\\\n      of type and scrambled it to make a type specimen book. It has survived not only five centuries,\\\n      but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised\\\n      in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently\\\n      with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.',\n    ],\n  },\n};\n\nexport const professors = [\n  {\n    id: 0,\n    name: 'Harald Sondergaard',\n    desc: 'Professor',\n    department: 'University of Melbourne',\n    link: 'https://findanexpert.unimelb.edu.au/profile/13416-harald-sondergaard',\n    img: Harald,\n  },\n  {\n    id: 1,\n    name: 'Dr. Linda Stern',\n    desc: 'Honarary',\n    department: 'University of Melbourne',\n    link: 'https://findanexpert.unimelb.edu.au/profile/14535-linda-stern',\n    img: Linda,\n  },\n  {\n    id: 2,\n    name: 'Dr. Lee Naish',\n    desc: 'Honarary',\n    department: 'University of Melbourne',\n    link: 'https://people.eng.unimelb.edu.au/lee/',\n    img: Lee,\n  },\n\n];\n\nexport const team = [\n  {\n    name: 'Zihan Zhang',\n    photo: Zihan,\n    github: 'https://github.com/ZhangzihanGit',\n    linkedIn: 'https://www.linkedin.com/in/zihan-zhang-a40855172/',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  }, {\n    name: 'Luke Ceddia',\n    photo: Luke,\n    github: 'https://github.com/flukiluke',\n    linkedIn: '',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  },\n  {\n    name: 'Kenny Lee',\n    photo: Kenny,\n    github: 'https://github.com/kennylwx',\n    linkedIn: 'https://www.linkedin.com/in/kennylwx/',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  },\n  {\n    name: 'Yingsong Chen',\n    photo: Yinsong,\n    github: 'https://github.com/icarusunimelb',\n    linkedIn: 'https://www.linkedin.com/in/yinsong-chen-62707b15b/',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  },\n  {\n    name: 'Bohao Liu',\n    photo: Carina,\n    github: 'https://github.com/lbh-carina',\n    linkedIn: 'https://www.linkedin.com/in/bohao-liu-3218211ba/',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  },\n  {\n    name: 'Nir Palombo',\n    photo: Nir,\n    github: 'https://github.com/nirpalombo',\n    linkedIn: 'https://www.linkedin.com/in/nir-palombo-b513b449/',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  },\n  {\n    name: 'Boyu Zhou',\n    photo: Boyu,\n    github: 'https://github.com/BOYU0926',\n    linkedIn: 'https://www.linkedin.com/in/boyu-zhou-05487b1a0/',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  },\n  {\n    name: 'Joo Pereira',\n    photo: Joao,\n    github: 'https://github.com/jofrancis1997',\n    linkedIn: 'https://www.linkedin.com/in/joo-pereira-574972163/',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  },\n  {\n    name: 'Lin Fan',\n    photo: Linfan,\n    github: 'https://github.com/tututulillian',\n    linkedIn: '',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  },\n  {\n    name: 'Tianyang Chen',\n    photo: Tianyang,\n    github: 'https://github.com/Allen-Chen-7',\n    linkedIn: 'https://www.linkedin.com/in/tianyang-chen-8208261ba/',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  },\n];\n\nexport const team2021s2 = [// Order by Group \n// Bluering\n\n  // Boxjelly\n  {\n    name: 'Tianjing Ruan',\n    photo: 'https://media-exp1.licdn.com/dms/image/C5603AQHYyAHvoTMVnA/profile-displayphoto-shrink_400_400/0/1634538882547?e=1640217600&v=beta&t=gnCJL7gD-PK3ERdfrXuVePdY2nfIIQErmlmeFX-zi9o',\n    github: 'https://github.com/TianjingRuan',\n    linkedIn: 'https://www.linkedin.com/in/tianjingruan/',\n    desc: 'University of Melbourne',\n    title: 'MIT (Artificial Intelligence)',\n  }, {\n    name: 'Wenkai Gong',\n    photo: 'https://ui-avatars.com/api/?name=Wenkai+Gong&background=0D8ABC&color=fff',\n    github: 'https://github.com/DanistyWuKids',\n    linkedIn: 'https://www.linkedin.com/in/wgong0001/',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  }, {\n    name: 'Xuan Yin',\n    photo: 'https://ui-avatars.com/api/?name=Xuan+Yin&background=0D8ABC&color=fff',\n    github: 'https://github.com/XuanYin2020',\n    linkedIn: 'https://www.linkedin.com/in/xuan-yin-b09a20224/',\n    desc: 'University of Melbourne',\n    title: 'MIT (Distributed Computing)',\n  }, {\n    name: 'Yuqi Song',\n    photo: 'https://ui-avatars.com/api/?name=Yuqi+Song&background=0D8ABC&color=fff',\n    github: 'https://github.com/irissong49',\n    linkedIn: '#',\n    desc: 'University of Melbourne',\n    title: 'MIT (Artificial Intelligence)',\n  }, {\n    name: 'Yifei Yang',\n    photo: 'https://ui-avatars.com/api/?name=Yifei+Yang&background=0D8ABC&color=fff',\n    github: '#',\n    linkedIn: '#',\n    desc: 'University of Melbourne',\n    title: 'MEng (Software)',\n  },\n  // Redback\n  {\n    name: 'Zhenhao Chen',\n    photo: 'https://ui-avatars.com/api/?name=Zhenhao+Chen&background=0D8ABC&color=fff',\n    github: 'https://github.com/xcorrnner',\n    linkedIn: '#',\n    desc: 'University of Melbourne',\n    title: 'MIT (Artificial Intelligence)',\n  }, {\n    name: 'Ziyi Zhang',\n    photo: Ziyi,\n    github: 'http://github.com/ZIYIZHANG2',\n    linkedIn: 'https://www.linkedin.com/in/stevie-cheung-84931818b/',\n    desc: 'University of Melbourne',\n    title: 'MIT (Artificial Intelligence)',\n  }, {\n    name: 'Jiajun Liu',\n    photo: Jiajun,\n    github: 'https://github.com/jiajunliu0024',\n    linkedIn: 'https://www.linkedin.com/in/jiajun-liu-8a9b681b4/',\n    desc: 'University of Melbourne',\n    title: 'MIT (Artificial Intelligence)',\n  }, {\n    name: 'Hantong Xing',\n    photo: Hantong,\n    github: 'https://github.com/xinghantong',\n    linkedIn: 'https://www.linkedin.com/in/hantong/',\n    desc: 'University of Melbourne',\n    title: 'MIT (Artificial Intelligence)',\n  }, {\n    name: 'Zisong Liao',\n    photo: 'https://ui-avatars.com/api/?name=Zisong+Liao&background=0D8ABC&color=fff',\n    github: 'https://github.com/ZisongLiao',\n    linkedIn: '#',\n    desc: 'University of Melbourne',\n    title: 'MIT (Artificial Intelligence)',\n  }, {\n    name: 'Huimin Huang',\n    photo: 'https://ui-avatars.com/api/?name=Huimin+Huang&background=0D8ABC&color=fff',\n    github: 'https://github.com/huimin5',\n    linkedIn: '#',\n    desc: 'University of Melbourne',\n    title: 'MIT (Distributed Computing)',\n  },\n  {\n    name: 'Alexander Troup',\n    photo: 'https://ui-avatars.com/api/?name=Alexander+Troup&background=0D8ABC&color=fff',\n    github: '#',\n    linkedIn: '#',\n    desc: 'University of Melbourne',\n    title: 'M-IT (Computing)',\n  },\n  {\n    name: 'Madisyn Freeman',\n    photo: 'https://ui-avatars.com/api/?name=Madi+Freeman&background=0D8ABC&color=fff',\n    github: 'https://github.com/madifreeman',\n    linkedIn: '#',\n    desc: 'University of Melbourne',\n    title: 'M-IT',\n  },\n  {\n    name: 'Conor Rogers',\n    photo: 'https://ui-avatars.com/api/?name=Conor+Rogers&background=0D8ABC&color=fff',\n    github: '#',\n    linkedIn: '#',\n    desc: 'University of Melbourne',\n    title: 'M-IT',\n  },\n  {\n    name: 'Deepthy Das Kalathil',\n    photo: 'https://ui-avatars.com/api/?name=Deepthy+Das+Kalathil&background=0D8ABC&color=fff',\n    github: '#',\n    linkedIn: '#',\n    desc: 'University of Melbourne',\n    title: 'M-IT',\n  },\n  {\n    name: 'Kaiquan Lin',\n    photo: 'https://ui-avatars.com/api/?name=Kaiquan+Lin&background=0D8ABC&color=fff',\n    github: '#',\n    linkedIn: '#',\n    desc: 'University of Melbourne',\n    title: 'M-IT',\n  },\n];\n","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QCYRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAABIAAAAAQAAAEgAAAABAAWQAAAHAAAABDAyMTCgAAAHAAAABDAxMDCgAQADAAAAAQABAACgAgAEAAAAAQAAAGSgAwAEAAAAAQAAAIUAAAAA/+ECz2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiB4bWxuczpleGlmPSdodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyc+CiAgPGV4aWY6WFJlc29sdXRpb24+NzI8L2V4aWY6WFJlc29sdXRpb24+CiAgPGV4aWY6WVJlc29sdXRpb24+NzI8L2V4aWY6WVJlc29sdXRpb24+CiAgPGV4aWY6UmVzb2x1dGlvblVuaXQ+SW5jaDwvZXhpZjpSZXNvbHV0aW9uVW5pdD4KICA8ZXhpZjpFeGlmVmVyc2lvbj5FeGlmIFZlcnNpb24gMi4xPC9leGlmOkV4aWZWZXJzaW9uPgogIDxleGlmOkZsYXNoUGl4VmVyc2lvbj5GbGFzaFBpeCBWZXJzaW9uIDEuMDwvZXhpZjpGbGFzaFBpeFZlcnNpb24+CiAgPGV4aWY6Q29sb3JTcGFjZT5zUkdCPC9leGlmOkNvbG9yU3BhY2U+CiAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjk2MDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjEyODA8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogPC9yZGY6RGVzY3JpcHRpb24+Cgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSdyJz8+Cv/bAEMA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\"","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgWave(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 1440 320\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#273036\",\n    fillOpacity: 1,\n    d: \"M0,32L1440,128L1440,0L0,0Z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgWave);\nexport default __webpack_public_path__ + \"static/media/wave.498b343a.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Professor({\n  id, link, img, name, desc, department,\n}) {\n  return (\n    <>\n      <a href={link} id={id} target=\"_blank\" rel=\"noopener noreferrer\" className=\"profile\">\n        <img src={img} alt={name} />\n        <div className=\"info\">\n          <div className=\"desc\">{desc}</div>\n          <div className=\"name\">{name}</div>\n          <div className=\"department\">{department}</div>\n        </div>\n      </a>\n    </>\n  );\n}\n\nexport default Professor;\nProfessor.propTypes = {\n  id: PropTypes.number.isRequired,\n  link: PropTypes.string.isRequired,\n  img: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  desc: PropTypes.string.isRequired,\n  department: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport '../../styles/About.scss';\n\nimport Professor from './Professor';\nimport { professors } from '../../resources/About';\n\nfunction Section() {\n  return (\n    <div className=\"section\">\n      <div className=\"title\">\n        Featuring\n      </div>\n      <div className=\"extraTitle\">Stepwise Refinement</div>\n      <div className=\"subtitle\">a pioneering pedagogy techonology by</div>\n      <div className=\"professors\">\n        {\n        professors.map(({\n          name, desc, department, link, img, id,\n        }) => (\n          <Professor\n            name={name}\n            desc={desc}\n            department={department}\n            link={link}\n            img={img}\n            id={id}\n            key={id}\n          />\n        ))\n      }\n      </div>\n\n\n    </div>\n  );\n}\n\nexport default Section;\n","import React from 'react';\nimport { AlgorithmNum } from '../../algorithms';\n\nfunction AppSection() {\n  return (\n    <>\n      <div className=\"appSection\">\n        <div className=\"innerContainer\">\n          <div className=\"title\">Now Showing</div>\n          <span className=\"bigTitle\">\n            {AlgorithmNum || 5}\n            {' '}\n            New Algorithms!\n          </span>\n          <div className=\"subtitle\">\n            with more coming soon.\n          </div>\n          <div className=\"dotdot\" />\n        </div>\n      </div>\n\n\n    </>\n  );\n}\n\nexport default AppSection;\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgGithub(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.5 22.7h-.1l-.1-.1V22v-2.5c0-.7-.1-1.3-.4-1.8 2.3-.4 4.8-1.6 4.8-6.1 0-1.2-.4-2.3-1.1-3.2.2-.6.3-1.7-.2-3.1l-.3-.3s-.2-.1-.4-.1c-.6 0-1.5.2-3 1.2-.8-.1-1.7-.3-2.7-.3-1 0-1.9.1-2.8.3C7.8 5.2 6.8 5 6.2 5c-.2 0-.3.1-.4.1-.1 0-.3.2-.3.3-.5 1.4-.4 2.5-.2 3.1-.7.9-1.1 2-1.1 3.2 0 4.4 2.6 5.6 4.8 6.1-.1.2-.2.5-.3.8-.2.1-.5.2-.9.2s-.8-.1-1.1-.4l-.1-.1c-.1-.1-.1-.2-.2-.2l-.1-.1-.1-.1c0-.1-.8-1.3-2.2-1.4-.5 0-.9.2-1 .5-.2.5.4.9.7 1.1 0 0 .6.3 1 1.4.2.7 1.1 2 3.2 2h.7v1.4l-.1.1s-.1 0 0 0C4 21.2 1 17 1 12.3c0-6.1 4.9-11 11-11s11 4.9 11 11c0 4.7-3 8.9-7.5 10.4z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgGithub);\nexport default __webpack_public_path__ + \"static/media/github.49399358.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgSlackNewLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 2447.6 2452.5\",\n    viewBox: \"0 0 2447.6 2452.5\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipRule: \"evenodd\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m897.4 0c-135.3.1-244.8 109.9-244.7 245.2-.1 135.3 109.5 245.1 244.8 245.2h244.8v-245.1c.1-135.3-109.5-245.1-244.9-245.3.1 0 .1 0 0 0m0 654h-652.6c-135.3.1-244.9 109.9-244.8 245.2-.2 135.3 109.4 245.1 244.7 245.3h652.7c135.3-.1 244.9-109.9 244.8-245.2.1-135.4-109.5-245.2-244.8-245.3z\",\n    fill: \"#36c5f0\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m2447.6 899.2c.1-135.3-109.5-245.1-244.8-245.2-135.3.1-244.9 109.9-244.8 245.2v245.3h244.8c135.3-.1 244.9-109.9 244.8-245.3zm-652.7 0v-654c.1-135.2-109.4-245-244.7-245.2-135.3.1-244.9 109.9-244.8 245.2v654c-.2 135.3 109.4 245.1 244.7 245.3 135.3-.1 244.9-109.9 244.8-245.3z\",\n    fill: \"#2eb67d\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1550.1 2452.5c135.3-.1 244.9-109.9 244.8-245.2.1-135.3-109.5-245.1-244.8-245.2h-244.8v245.2c-.1 135.2 109.5 245 244.8 245.2zm0-654.1h652.7c135.3-.1 244.9-109.9 244.8-245.2.2-135.3-109.4-245.1-244.7-245.3h-652.7c-135.3.1-244.9 109.9-244.8 245.2-.1 135.4 109.4 245.2 244.7 245.3z\",\n    fill: \"#ecb22e\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 1553.2c-.1 135.3 109.5 245.1 244.8 245.2 135.3-.1 244.9-109.9 244.8-245.2v-245.2h-244.8c-135.3.1-244.9 109.9-244.8 245.2zm652.7 0v654c-.2 135.3 109.4 245.1 244.7 245.3 135.3-.1 244.9-109.9 244.8-245.2v-653.9c.2-135.3-109.4-245.1-244.7-245.3-135.4 0-244.9 109.8-244.8 245.1 0 0 0 .1 0 0\",\n    fill: \"#e01e5a\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSlackNewLogo);\nexport default __webpack_public_path__ + \"static/media/slack-new-logo.044efd1b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { ReactComponent as Github } from '../../assets/icons/github.svg';\nimport { ReactComponent as Slack } from '../../assets/icons/slack-new-logo.svg';\n\nfunction Contribute() {\n  const github = 'https://github.com/algorithms-in-action/algorithms-in-action.github.io';\n  const slack = 'https://algorithms-in-action.slack.com/';\n\n\n  return (\n    <div className=\"contributeSection\">\n      <div className=\"title\">\n        Interested in getting involved?\n      </div>\n      <div className=\"subtitle\">\n        Join our open-source project now.\n      </div>\n      <div className=\"btnContainer\">\n        <a className=\"slack btn\" href={slack} target=\"_blank\" rel=\"noopener noreferrer\">\n          <Slack />\n          Slack\n        </a>\n        <a className=\"github btn\" href={github} target=\"_blank\" rel=\"noopener noreferrer\">\n          <Github />\n          Github\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default Contribute;\n","/* eslint-disable arrow-body-style */\n/* eslint-disable max-len */\nimport React from 'react';\nimport Header from './Header';\nimport Team from './Team';\nimport Team2021s2 from './Team2021s2';\nimport { team, team2021s2 } from '../../resources/About';\nimport '../../styles/About.scss';\nimport { ReactComponent as Wave } from '../../assets/icons/wave.svg';\nimport ClientSection from './ClientSection';\nimport AppSection from './AppSection';\nimport Contribute from './Contribute';\n\nconst About = () => {\n  return (\n    <>\n      <div className=\"background\">\n        <div className=\"top\">\n          <Header />\n        </div>\n        <div className=\"separator\">\n          <Wave />\n        </div>\n        <ClientSection />\n        <AppSection />\n        <div className=\"aboutContainer\"><Team teammembers={team} /></div>\n        <div className=\"aboutContainer\"><Team2021s2 teammembers={team2021s2} /></div>\n        <Contribute />\n      </div>\n    </>\n  );\n};\n\nexport default About;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport App from '../App';\nimport About from '../components/About';\n\nfunction Router() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" component={App} />\n        <Route path=\"/about\" component={About} />\n        <Route component={App} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default Router;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Router from './router/Router';\n// import App from './App';\n\nReactDOM.render(<Router />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"themeDark\":\"#242424\",\"themeNormal\":\"#393939\",\"themeLight\":\"#505050\",\"colorFont\":\"#cecece\",\"colorShadow\":\"rgba(0,0,0,.2)\",\"colorOverlay\":\"rgba(255,255,255,.1)\",\"colorAlert\":\"#f3bd58\",\"colorSelected\":\"#067aff\",\"colorPatched\":\"#c51162\",\"colorHighlight\":\"#29d\",\"colorActive\":\"#00e676\",\"colorBlue\":\"#067aff\",\"colorRed\":\"#d21010\",\"colorPurple\":\"#c735da\",\"colorGreen\":\"#4bb454\",\"colorYellow\":\"#b3b605\",\"colorLightGreen\":\"#2ec752\",\"lineHeight\":\"32px\",\"fontSizeNormal\":\"12px\",\"fontSizeLarge\":\"14px\",\"graph\":\"NAryTreeRenderer_graph__11j5Y\",\"node\":\"NAryTreeRenderer_node__2MqTZ\",\"circle\":\"NAryTreeRenderer_circle__1UjwY\",\"rect\":\"NAryTreeRenderer_rect__3cHTG\",\"id\":\"NAryTreeRenderer_id__36IDH\",\"variableGreen\":\"NAryTreeRenderer_variableGreen__1799G\",\"variableOrange\":\"NAryTreeRenderer_variableOrange__3K8KN\",\"variableRed\":\"NAryTreeRenderer_variableRed__27VAU\",\"edge\":\"NAryTreeRenderer_edge__3GfXI\",\"line\":\"NAryTreeRenderer_line__1p0Wg\",\"directed\":\"NAryTreeRenderer_directed__oSO2V\",\"arrow\":\"NAryTreeRenderer_arrow__3th69\",\"text\":\"NAryTreeRenderer_text__3Piod\",\"pseudocode_function\":\"NAryTreeRenderer_pseudocode_function__3H8TN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"themeDark\":\"#242424\",\"themeNormal\":\"#393939\",\"themeLight\":\"#505050\",\"colorFont\":\"#cecece\",\"colorShadow\":\"rgba(0,0,0,.2)\",\"colorOverlay\":\"rgba(255,255,255,.1)\",\"colorAlert\":\"#f3bd58\",\"colorSelected\":\"#067aff\",\"colorPatched\":\"#c51162\",\"colorHighlight\":\"#29d\",\"colorActive\":\"#00e676\",\"colorBlue\":\"#067aff\",\"colorRed\":\"#d21010\",\"colorPurple\":\"#c735da\",\"colorGreen\":\"#4bb454\",\"colorYellow\":\"#b3b605\",\"colorLightGreen\":\"#2ec752\",\"lineHeight\":\"32px\",\"fontSizeNormal\":\"12px\",\"fontSizeLarge\":\"14px\",\"array_2d\":\"Array2DRenderer_array_2d__CQtO7\",\"bottom_caption\":\"Array2DRenderer_bottom_caption__2UcRI\",\"pseudocode_function\":\"Array2DRenderer_pseudocode_function__3tLmx\",\"top_variable\":\"Array2DRenderer_top_variable__3TyYg\",\"row\":\"Array2DRenderer_row__1AF4G\",\"col\":\"Array2DRenderer_col__2SqHW\",\"value\":\"Array2DRenderer_value__iOddC\",\"variable\":\"Array2DRenderer_variable__3APFj\",\"selected\":\"Array2DRenderer_selected__2-LjK\",\"selected1\":\"Array2DRenderer_selected1__1leY4\",\"selected2\":\"Array2DRenderer_selected2__1RFPz\",\"selected3\":\"Array2DRenderer_selected3__1U4sT\",\"variableGreen\":\"Array2DRenderer_variableGreen__11M4V\",\"variableOrange\":\"Array2DRenderer_variableOrange__2LAOP\",\"variableRed\":\"Array2DRenderer_variableRed__3RwXq\",\"selected4\":\"Array2DRenderer_selected4__1dOeN\",\"selected5\":\"Array2DRenderer_selected5__2gsHc\",\"patched\":\"Array2DRenderer_patched__39sFU\",\"sorted\":\"Array2DRenderer_sorted__JC_Ib\",\"index\":\"Array2DRenderer_index__N6dL3\",\"variables\":\"Array2DRenderer_variables__qG91t\",\"faded\":\"Array2DRenderer_faded__1x5bI\",\"captionDFS\":\"Array2DRenderer_captionDFS__2TAff\",\"captionBFS\":\"Array2DRenderer_captionBFS__31DhM\",\"captionDFSrec\":\"Array2DRenderer_captionDFSrec__1PhEI\",\"captionmsort_lista_td\":\"Array2DRenderer_captionmsort_lista_td__1tagB\",\"captionmsort_arr_td\":\"Array2DRenderer_captionmsort_arr_td__3ivoL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"themeDark\":\"#242424\",\"themeNormal\":\"#393939\",\"themeLight\":\"#505050\",\"colorFont\":\"#cecece\",\"colorShadow\":\"rgba(0,0,0,.2)\",\"colorOverlay\":\"rgba(255,255,255,.1)\",\"colorAlert\":\"#f3bd58\",\"colorSelected\":\"#067aff\",\"colorPatched\":\"#c51162\",\"colorHighlight\":\"#29d\",\"colorActive\":\"#00e676\",\"colorBlue\":\"#067aff\",\"colorRed\":\"#d21010\",\"colorPurple\":\"#c735da\",\"colorGreen\":\"#4bb454\",\"colorYellow\":\"#b3b605\",\"colorLightGreen\":\"#2ec752\",\"lineHeight\":\"32px\",\"fontSizeNormal\":\"12px\",\"fontSizeLarge\":\"14px\",\"graph\":\"GraphRenderer_graph__3RTuV\",\"node\":\"GraphRenderer_node__3kLsG\",\"circle\":\"GraphRenderer_circle__2eGYq\",\"rect\":\"GraphRenderer_rect__1jJw_\",\"id\":\"GraphRenderer_id__1ylea\",\"weight\":\"GraphRenderer_weight__1nllC\",\"selected\":\"GraphRenderer_selected__2vcx1\",\"visited0\":\"GraphRenderer_visited0__3GEhf\",\"visited\":\"GraphRenderer_visited__1xFvq\",\"sorted\":\"GraphRenderer_sorted__wAll5\",\"visited1\":\"GraphRenderer_visited1__29PKv\",\"visited2\":\"GraphRenderer_visited2__1b5_e\",\"visited3\":\"GraphRenderer_visited3__3cX8Q\",\"visited4\":\"GraphRenderer_visited4__18P5k\",\"edge\":\"GraphRenderer_edge__2ZlGZ\",\"line\":\"GraphRenderer_line__2F5F3\",\"directed\":\"GraphRenderer_directed__37x_P\",\"arrow\":\"GraphRenderer_arrow__37Xlp\",\"axis\":\"GraphRenderer_axis__2WHlE\",\"axisLabel\":\"GraphRenderer_axisLabel__WTstn\"};"],"sourceRoot":""}